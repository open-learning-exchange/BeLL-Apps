$(function(){App.Collections.ActivityLog=Backbone.Collection.extend({url:function(){return this.logDate?App.Server+'/activitylog/_design/bell/_view/getdocBylogdate?include_docs=true&key="'+this.logDate+'"':App.Server+'/activitylog/_design/bell/_view/getDocumentByDate?include_docs=true&startkey="'+this.startkey+'"&endkey="'+this.endkey+'"'},setUrl:function(a){this.url=a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.DailyLog})}),$(function(){App.Collections.AllInviteMember=Backbone.Collection.extend({url:function(){var a=App.Server+'/invitations/_design/bell/_view/AllInvitesAgainstId?key=["'+this.memberId+'","'+this.entityId+'"]&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Invitation})}),$(function(){App.Collections.Apps=Backbone.Collection.extend({model:App.Models.App,url:function(){return App.Server+"/apps/_all_docs?include_docs=true"},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b}})}),$(function(){App.Collections.AssignmentPapers=Backbone.Collection.extend({url:function(){return App.Server+'/assignmentpaper/_design/bell/_view/CourseAssignmentPaperByMember?key=["'+this.senderId+'","'+this.courseId+'"]&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Shelf})}),$(function(){App.Collections.AssignmentsByDate=Backbone.Collection.extend({url:function(){var a=App.Server+'/assignments/_design/bell/_view/AssignmentsByDate?key=["'+this.startDate+'","'+this.endDate+'"]&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Assignment})}),$(function(){App.Collections.Calendars=Backbone.Collection.extend({url:App.Server+'/calendar/_design/bell/_view/EventById?key="'+$.cookie("Member._id")+'"&include_docs=true',parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Calendar,comparator:function(a){var b=a.get("title");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.Communities=Backbone.Collection.extend({url:App.Server+"/community/_all_docs?include_docs=true",parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Community})}),$(function(){App.Collections.CommunityReportComments=Backbone.Collection.extend({url:function(){return App.Server+'/communityreports/_design/bell/_view/CommunityReportComment?key="'+this.CommunityReportId+'"&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.CommunityReportComment})}),$(function(){App.Collections.Configurations=Backbone.Collection.extend({url:function(){if(this.u)return alert(this.u),this.u;var a=App.Server+"/configurations/_all_docs?include_docs=true";return a},parse:function(a){var b=[];return _.each(a.rows,function(a){"_design/bell"!=a.doc._id&&b.push(a.doc)}),b},comparator:function(a){var b=a.get("Name");return b?b.toLowerCase():void 0},model:App.Models.Configuration})}),$(function(){App.Collections.CourseInvitations=Backbone.Collection.extend({model:App.Models.CourseInvitation,url:function(){var a=App.Server+'/courseinvitations/_design/bell/_view/getCourseInvi?key="'+this.courseId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b}})}),$(function(){App.Collections.CourseLevels=Backbone.Collection.extend({model:App.Models.CourseStep,url:function(){var a=App.Server+'/coursestep/_design/bell/_view/StepsData?key="'+this.groupId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},comparator:function(a){return a.get("step")}})}),$(function(){App.Collections.CourseScheduleByCourse=Backbone.Collection.extend({url:function(){var a=App.Server+'/courseschedule/_design/bell/_view/ScheduleByCourseId?key="'+this.courseId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.CourseSchedule})}),$(function(){App.Collections.EntityInvitation=Backbone.Collection.extend({url:function(){var a=App.Server+'/invitations/_design/bell/_view/GetIniviteByEntityId?key="'+this.entityId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Invitation})}),$(function(){App.Collections.GroupAssignments=Backbone.Collection.extend({url:function(){var a=App.Server+'/assignments/_design/bell/_view/GroupAssignments?key="'+this.groupId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Assignment})}),$(function(){App.Collections.GroupAssignmentsByDate=Backbone.Collection.extend({url:function(){var a=App.Server+'/assignments/_design/bell/_view/GroupAssignmentsByDate?key=["'+this.groupId+'","'+this.startDate+'","'+this.endDate+'"]&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Assignment})}),$(function(){App.Collections.Groups=Backbone.Collection.extend({url:function(){return void 0!=this.skip?App.Server+"/groups/_all_docs?include_docs=true&limit=20&skip="+this.skip:App.Server+"/groups/_all_docs?include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Group,comparator:function(a){if(void 0==a.get("CourseTitle")){var b=a.get("name");a.set("CourseTitle",b),a.save()}else if(void 0==a.get("name")){var b=a.get("CourseTitle");a.set("name",b),a.save()}else var b=a.get("CourseTitle");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.Languages=Backbone.Collection.extend({url:function(){if(this.u)return this.u;var a=App.Server+"/languages/_all_docs?include_docs=true";return a},parse:function(a){var b=[];return _.each(a.rows,function(a){"_design/bell"!=a.doc._id&&b.push(a.doc)}),b},model:App.Models.Language})}),$(function(){App.Collections.MailUnopened=Backbone.Collection.extend({initialize:function(a){a&&(a.receiverId?this.url=App.Server+'/mail/_design/bell/_view/unopened?key="'+a.receiverId+'"':(console.log(a),console.log("unable to find receiverId in MailUnopened Collection")))},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b}})}),$(function(){App.Collections.Mails=Backbone.Collection.extend({initialize:function(a){a?a.senderId?this.url=App.Server+'/mail/_design/bell/_view/sentbox?include_docs=true&key="'+a.senderId+'"&limit=5&skip='+a.skip:a.receiverId&&a.unread?this.url=App.Server+'/mail/_design/bell/_view/unopen?include_docs=true&key="'+a.receiverId+'"&limit=5&skip='+skip:a.receiverId&&!a.unread?this.url=App.Server+'/mail/_design/bell/_view/inbox?include_docs=true&key="'+a.receiverId+'"&limit=5&skip='+skip:this.url=App.Server+"/mail/_all_docs?include_docs=true&limit=5&skip="+skip:this.url=App.Server+"/mail/_all_docs?include_docs=true&limit=5&skip="+skip},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Mail})}),$(function(){App.Collections.Meetups=Backbone.Collection.extend({url:function(){return this.skip?App.Server+"/meetups/_all_docs?include_docs=true&limit=20&skip="+this.skip:App.Server+"/meetups/_all_docs?include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Group,comparator:function(a){var b=a.get("title");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.MemberGroups=Backbone.Collection.extend({url:function(){return App.Server+'/groups/_design/bell/_view/GetCourses?key="'+$.cookie("Member._id")+'"&include_docs=true'},parse:function(a){var b,c=[];this.memberId;for(b=0;b<a.rows.length;b++)c.push(a.rows[b].doc);return c},model:App.Models.Group,comparator:function(a){var b=a.get("name");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.Members=Backbone.Collection.extend({url:function(){return this.login?App.Server+'/members/_design/bell/_view/MembersByLogin?include_docs=true&key="'+this.login+'"':this.skip?App.Server+"/members/_design/bell/_view/Members?include_docs=true&limit=20&skip="+this.skip:this.searchText&&""!=this.searchText?App.Server+'/members/_design/bell/_view/search?include_docs=true&limit=20&key="'+this.searchText+'"':App.Server+"/members/_design/bell/_view/Members?include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},initialize:function(){this.sort_key="lastName"},comparator:function(a,b){return a=a.get(this.sort_key),b=b.get(this.sort_key),a>b&&console.log("before"),a>b?1:b>a?-1:0},model:App.Models.Member})}),$(function(){App.Collections.NewsResources=Backbone.Collection.extend({model:App.Models.Resource,url:function(){return App.Server+'/resources/_design/bell/_view/NewsResources?include_docs=true&key="News"'},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b},comparator:function(a){var b=new Date(a.get("date"));return-b.getTime()}})}),$(function(){App.Collections.Publication=Backbone.Collection.extend({model:App.Models.Publication,url:function(){var a=App.Server+"/publications/_all_docs?include_docs=true&keys=["+this.keys+"]";return a},setUrl:function(a){this.url=a},setKeys:function(a){this.keys=a},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b},comparator:function(a){var b=a.get("IssueNo");return b?b:void 0}})}),$(function(){App.Collections.Reports=Backbone.Collection.extend({model:App.Models.CommunityReport,url:function(){return App.Server+"/communityreports/_design/bell/_view/allCommunityReports?include_docs=true"},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b}})}),$(function(){App.Collections.Requests=Backbone.Collection.extend({initialize:function(a){a?this.url=App.Server+'/requests/_design/bell/_view/myRequests?key="'+a.memberId+'"&include_docs=true':this.url=App.Server+"/requests/_all_docs?include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.request})}),$(function(){App.Collections.ResourceFeedback=Backbone.Collection.extend({url:function(){var a=App.Server+'/feedback/_design/bell/_view/FeedbackByResourceId?key="'+this.resourceId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Feedback})}),$(function(){App.Collections.Resources=Backbone.Collection.extend({model:App.Models.Resource,url:function(){return this.collectionName?this.skip>=0?App.Server+"/resources/_design/bell/_view/searchView?include_docs=true&limit=25&skip="+this.skip+"&keys="+this.collectionName:App.Server+"/resources/_design/bell/_view/searchView?include_docs=true&keys="+this.collectionName:this.skip>=0?this.startkey&&""!=this.startkey?App.Server+'/resources/_design/bell/_view/sortresources?include_docs=true&startkey="'+this.startkey+'"&limit=20&skip='+this.skip:App.Server+"/resources/_design/bell/_view/sortresources?include_docs=true&limit=20&skip="+this.skip:this.title?App.Server+'/resources/_design/bell/_view/resourceOnTtile?include_docs=true&key="'+this.title+'"':this.ides?App.Server+"/resources/_design/bell/_view/resourceName?include_docs=true&keys="+this.resIds:App.Server+"/resources/_all_docs?include_docs=true"},initialize:function(a){a&&a.collectionName?this.collectionName=a.collectionName:a&&a.skip>=0&&(this.skip=a.skip)},setUrl:function(a){this.url=a},parse:function(a){var b=[];return _.each(a.rows,function(a){a.doc?b.push(a.doc):b.push(a)}),b},comparator:function(a){var b=a.get("title");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.ResourcesFrequency=Backbone.Collection.extend({model:App.Models.ResourceFrequency,url:function(){return App.Server+'/resourcefrequency/_design/bell/_view/memberfrequency?key="'+this.memberID+'"&include_docs=true'},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b}})}),$(function(){App.Collections.SearchCourses=Backbone.Collection.extend({url:function(){return App.Server+"/groups/_all_docs?include_docs=true&limit="+limitofRecords+"&skip="+skip},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b}})}),$(function(){App.Collections.SearchResource=Backbone.Collection.extend({model:App.Models.Resource,url:function(){return App.Server+"/resources/_all_docs?include_docs=true&limit="+limitofRecords+"&skip="+skip},parse:function(a){var b=[];return _.each(a.rows,function(a){b.push(a.doc)}),b}})}),$(function(){App.Collections.StepResultsbyCourse=Backbone.Collection.extend({url:function(){var a;return a=this.memberId?App.Server+'/membercourseprogress/_design/bell/_view/GetMemberCourseResult?key=["'+this.memberId+'","'+this.courseId+'"]&include_docs=true':App.Server+'/membercourseprogress/_design/bell/_view/AllCourses?key="'+this.courseId+'"&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.membercourseprogress})}),$(function(){App.Collections.UserMeetups=Backbone.Collection.extend({url:function(){return this.memberId&&this.meetupId?App.Server+'/usermeetups/_design/bell/_view/getUserMeetup?key=["'+this.memberId+'","'+this.meetupId+'"]&include_docs=true':this.memberId?App.Server+'/usermeetups/_design/bell/_view/getUsermeetups?key="'+this.memberId+'"&include_docs=true':App.Server+'/usermeetups/_design/bell/_view/getMeetupUsers?key="'+this.meetupId+'"&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.UserMeetup})}),$(function(){App.Collections.courseprogressallmembers=Backbone.Collection.extend({url:function(){var a=App.Server+'/membercourseprogress/_design/bell/_view/GetMemberAllCourseResult?key="'+this.memberId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.membercourseprogress})}),$(function(){App.Collections.coursesteps=Backbone.Collection.extend({url:function(){return this.getAll?App.Server+"/coursestep/_all_docs?include_docs=true":App.Server+'/coursestep/_design/bell/_view/StepsData?key="'+this.courseId+'"&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},comparator:function(a){return a.get("step")},model:App.Models.CourseStep})}),$(function(){App.Collections.leadermembers=Backbone.Collection.extend({url:App.Server+"/members/_design/bell/_view/Members?include_docs=true",parse:function(a){var b=[];_.map(a.rows,function(a){(a.doc.roles.length>1||-1==a.doc.roles.indexOf("student"))&&b.push(a.doc)});return b},model:App.Models.Member,comparator:function(a){var b=a.get("login");return b?b.toLowerCase():void 0}})}),$(function(){App.Collections.listRCollection=Backbone.Collection.extend({url:function(){return this.skip>=0&&""!=this.startkey?App.Server+'/collectionlist/_design/bell/_view/sortCollection?include_docs=true&startkey="'+this.startkey+'"&limit=20&skip='+this.skip:0==this.skip&&""==this.startkey?App.Server+"/collectionlist/_design/bell/_view/allrecords?include_docs=true":1==this.major?App.Server+"/collectionlist/_design/bell/_view/majorcatagory?include_docs=true":0==this.major?App.Server+"/collectionlist/_design/bell/_view/subcategory?include_docs=true":App.Server+"/collectionlist/_design/bell/_view/allrecords?include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},comparator:function(a){var b=a.get("CollectionName");return b?b.toLowerCase():void 0},model:App.Models.CollectionList})}),$(function(){App.Collections.membercourseprogresses=Backbone.Collection.extend({url:function(){var a=App.Server+'/membercourseprogress/_design/bell/_view/GetMemberCourseResult?key=["'+this.memberId+'","'+this.courseId+'"]&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.membercourseprogress})}),$(function(){App.Collections.memberprogressallcourses=Backbone.Collection.extend({url:function(){var a=App.Server+'/membercourseprogress/_design/bell/_view/GetMemberAllCourseResult?key="'+this.memberId+'"&include_docs=true';return a},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.membercourseprogress})}),$(function(){App.Collections.reportsComment=Backbone.Collection.extend({url:function(){return App.Server+'/report/_design/bell/_view/reportsComment?key="'+this.feedbackId+'"&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.value});return b},model:App.Models.reportComment})}),$(function(){App.Collections.shelfResource=Backbone.Collection.extend({url:function(){return 1==this.deleteResource?App.Server+'/shelf/_design/bell/_view/getShelfItemWithResourceId?key="'+this.resourceId+'"&include_docs=true':this.compile?App.Server+'/shelf/_design/bell/_view/DuplicateDetection?include_docs=true&key="'+$.cookie("Member._id")+'"':App.Server+'/shelf/_design/bell/_view/getResource?key=["'+this.memberId+'","'+this.resourceId+'"]&include_docs=true'},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},model:App.Models.Shelf})}),$(function(){App.Collections.siteFeedbacks=Backbone.Collection.extend({url:function(){return App.Server+"/report/_design/bell/_view/reportsOnly?limit="+limitofRecords+"&skip="+skip+"&include_docs=true"},parse:function(a){var b=_.map(a.rows,function(a){return a.doc});return b},comparator:function(a){return-new Date(a.get("time")).getTime()},model:App.Models.report})});