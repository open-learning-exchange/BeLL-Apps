!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,n=document.createElement(t||"div");for(i in e)n[i]=e[i];return n}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,n){var s=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,a=Math.max(1-(1-t)/e*(100-r),t),o=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=o&&"-"+o+"-"||"";return f[s]||(d.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+a+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",d.cssRules.length),f[s]=1),s}function n(t,e){var i,n,s=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<c.length;n++)if(i=c[n]+e,void 0!==s[i])return i;return void 0!==s[e]?e:void 0}function s(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function a(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function o(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t){return"undefined"==typeof this?new l(t):(this.opts=r(t||{},l.defaults,p),void 0)}function h(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}d.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,n){function r(){return s(i("group",{coordsize:u+" "+u,coordorigin:-h+" "+-h}),{width:u,height:u})}function a(t,a,l){e(f,e(s(r(),{rotation:360/n.lines*t+"deg",left:~~a}),e(s(i("roundrect",{arcsize:n.corners}),{width:h,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),i("fill",{color:o(n.color,t),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l,h=n.length+n.width,u=2*h,c=2*-(n.width+n.length)+"px",f=s(r(),{position:"absolute",top:c,left:c});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return e(t,f)},l.prototype.opacity=function(t,e,i,n){var s=t.firstChild;n=n.shadow&&n.lines||0,s&&e+n<s.childNodes.length&&(s=s.childNodes[e+n],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=i))}}var u,c=["webkit","Moz","ms","O"],f={},d=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},r(l.prototype,{spin:function(e){this.stop();var i,n,r=this,o=r.opts,l=r.el=s(t(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),h=o.radius+o.length+o.width;if(e&&(e.insertBefore(l,e.firstChild||null),n=a(e),i=a(l),s(l,{left:("auto"==o.left?n.x-i.x+(e.offsetWidth>>1):parseInt(o.left,10)+h)+"px",top:("auto"==o.top?n.y-i.y+(e.offsetHeight>>1):parseInt(o.top,10)+h)+"px"})),l.setAttribute("role","progressbar"),r.lines(l,r.opts),!u){var c,f=0,d=(o.lines-1)*(1-o.direction)/2,p=o.fps,g=p/o.speed,m=(1-o.opacity)/(g*o.trail/100),v=g/o.lines;!function y(){f++;for(var t=0;t<o.lines;t++)c=Math.max(1-(f+(o.lines-t)*v)%g*m,o.opacity),r.opacity(l,t*o.direction+d,c,o);r.timeout=r.el&&setTimeout(y,~~(1e3/p))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,r){function a(e,i){return s(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*h+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,h=0,c=(r.lines-1)*(1-r.direction)/2;h<r.lines;h++)l=s(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:u&&i(r.opacity,r.trail,c+h*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,s(a("#000","0 0 4px #000"),{top:"2px"})),e(n,e(l,a(o(r.color,h),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var g=s(t("group"),{behavior:"url(#default#VML)"});return!n(g,"transform")&&g.adj?h():u=n(g,"animation"),l});(function(t,e){var i=t.document,n=t.navigator,s=t.location;var r=function(){var s=function(t,e){return new s.fn.init(t,e,o)},r=t.jQuery,a=t.$,o,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,u=/^\s+/,c=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,d=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,v=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,_=/^-ms-/,k=function(t,e){return(e+"").toUpperCase()},C=n.userAgent,T,D,S,M=Object.prototype.toString,P=Object.prototype.hasOwnProperty,A=Array.prototype.push,I=Array.prototype.slice,E=String.prototype.trim,L=Array.prototype.indexOf,N={};s.fn=s.prototype={constructor:s,init:function(t,n,r){var a,o,h,u;if(!t){return this}if(t.nodeType){this.context=this[0]=t;this.length=1;return this}if(t==="body"&&!n&&i.body){this.context=i;this[0]=i.body;this.selector=t;this.length=1;return this}if(typeof t==="string"){if(t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3){a=[null,t,null]}else{a=l.exec(t)}if(a&&(a[1]||!n)){if(a[1]){n=n instanceof s?n[0]:n;u=n?n.ownerDocument||n:i;h=f.exec(t);if(h){if(s.isPlainObject(n)){t=[i.createElement(h[1])];s.fn.attr.call(t,n,true)}else{t=[u.createElement(h[1])]}}else{h=s.buildFragment([a[1]],[u]);t=(h.cacheable?s.clone(h.fragment):h.fragment).childNodes}return s.merge(this,t)}else{o=i.getElementById(a[2]);if(o&&o.parentNode){if(o.id!==a[2]){return r.find(t)}this.length=1;this[0]=o}this.context=i;this.selector=t;return this}}else if(!n||n.jquery){return(n||r).find(t)}else{return this.constructor(n).find(t)}}else if(s.isFunction(t)){return r.ready(t)}if(t.selector!==e){this.selector=t.selector;this.context=t.context}return s.makeArray(t,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(t){return t==null?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();if(s.isArray(t)){A.apply(n,t)}else{s.merge(n,t)}n.prevObject=this;n.context=this.context;if(e==="find"){n.selector=this.selector+(this.selector?" ":"")+i}else if(e){n.selector=this.selector+"."+e+"("+i+")"}return n},each:function(t,e){return s.each(this,t,e)},ready:function(t){s.bindReady();D.add(t);return this},eq:function(t){t=+t;return t===-1?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(t){return this.pushStack(s.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice};s.fn.init.prototype=s.fn;s.extend=s.fn.extend=function(){var t,i,n,r,a,o,l=arguments[0]||{},h=1,u=arguments.length,c=false;if(typeof l==="boolean"){c=l;l=arguments[1]||{};h=2}if(typeof l!=="object"&&!s.isFunction(l)){l={}}if(u===h){l=this;--h}for(;h<u;h++){if((t=arguments[h])!=null){for(i in t){n=l[i];r=t[i];if(l===r){continue}if(c&&r&&(s.isPlainObject(r)||(a=s.isArray(r)))){if(a){a=false;o=n&&s.isArray(n)?n:[]}else{o=n&&s.isPlainObject(n)?n:{}}l[i]=s.extend(c,o,r)}else if(r!==e){l[i]=r}}}}return l};s.extend({noConflict:function(e){if(t.$===s){t.$=a}if(e&&t.jQuery===s){t.jQuery=r}return s},isReady:false,readyWait:1,holdReady:function(t){if(t){s.readyWait++}else{s.ready(true)}},ready:function(t){if(t===true&&!--s.readyWait||t!==true&&!s.isReady){if(!i.body){return setTimeout(s.ready,1)}s.isReady=true;if(t!==true&&--s.readyWait>0){return}D.fireWith(i,[s]);if(s.fn.trigger){s(i).trigger("ready").off("ready")}}},bindReady:function(){if(D){return}D=s.Callbacks("once memory");if(i.readyState==="complete"){return setTimeout(s.ready,1)}if(i.addEventListener){i.addEventListener("DOMContentLoaded",S,false);t.addEventListener("load",s.ready,false)}else if(i.attachEvent){i.attachEvent("onreadystatechange",S);t.attachEvent("onload",s.ready);var e=false;try{e=t.frameElement==null}catch(n){}if(i.documentElement.doScroll&&e){F()}}},isFunction:function(t){return s.type(t)==="function"},isArray:Array.isArray||function(t){return s.type(t)==="array"},isWindow:function(t){return t!=null&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return t==null?String(t):N[M.call(t)]||"object"},isPlainObject:function(t){if(!t||s.type(t)!=="object"||t.nodeType||s.isWindow(t)){return false}try{if(t.constructor&&!P.call(t,"constructor")&&!P.call(t.constructor.prototype,"isPrototypeOf")){return false}}catch(i){return false}var n;for(n in t){}return n===e||P.call(t,n)},isEmptyObject:function(t){for(var e in t){return false}return true},error:function(t){throw new Error(t)},parseJSON:function(e){if(typeof e!=="string"||!e){return null}e=s.trim(e);if(t.JSON&&t.JSON.parse){return t.JSON.parse(e)}if(d.test(e.replace(p,"@").replace(g,"]").replace(m,""))){return new Function("return "+e)()}s.error("Invalid JSON: "+e)},parseXML:function(i){if(typeof i!=="string"||!i){return null}var n,r;try{if(t.DOMParser){r=new DOMParser;n=r.parseFromString(i,"text/xml")}else{n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(i)}}catch(a){n=e}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){s.error("Invalid XML: "+i)}return n},noop:function(){},globalEval:function(e){if(e&&h.test(e)){(t.execScript||function(e){t["eval"].call(t,e)})(e)}},camelCase:function(t){return t.replace(_,"ms-").replace(w,k)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var r,a=0,o=t.length,l=o===e||s.isFunction(t);if(n){if(l){for(r in t){if(i.apply(t[r],n)===false){break}}}else{for(;a<o;){if(i.apply(t[a++],n)===false){break}}}}else{if(l){for(r in t){if(i.call(t[r],r,t[r])===false){break}}}else{for(;a<o;){if(i.call(t[a],a,t[a++])===false){break}}}}return t},trim:E?function(t){return t==null?"":E.call(t)}:function(t){return t==null?"":t.toString().replace(u,"").replace(c,"")},makeArray:function(t,e){var i=e||[];if(t!=null){var n=s.type(t);if(t.length==null||n==="string"||n==="function"||n==="regexp"||s.isWindow(t)){A.call(i,t)}else{s.merge(i,t)}}return i},inArray:function(t,e,i){var n;if(e){if(L){return L.call(e,t,i)}n=e.length;i=i?i<0?Math.max(0,n+i):i:0;for(;i<n;i++){if(i in e&&e[i]===t){return i}}}return-1},merge:function(t,i){var n=t.length,s=0;if(typeof i.length==="number"){for(var r=i.length;s<r;s++){t[n++]=i[s]}}else{while(i[s]!==e){t[n++]=i[s++]}}t.length=n;return t},grep:function(t,e,i){var n=[],s;i=!!i;for(var r=0,a=t.length;r<a;r++){s=!!e(t[r],r);if(i!==s){n.push(t[r])}}return n},map:function(t,i,n){var r,a,o=[],l=0,h=t.length,u=t instanceof s||h!==e&&typeof h==="number"&&(h>0&&t[0]&&t[h-1]||h===0||s.isArray(t));if(u){for(;l<h;l++){r=i(t[l],l,n);if(r!=null){o[o.length]=r}}}else{for(a in t){r=i(t[a],a,n);if(r!=null){o[o.length]=r}}}return o.concat.apply([],o)},guid:1,proxy:function(t,i){if(typeof i==="string"){var n=t[i];i=t;t=n}if(!s.isFunction(t)){return e}var r=I.call(arguments,2),a=function(){return t.apply(i,r.concat(I.call(arguments)))};a.guid=t.guid=t.guid||a.guid||s.guid++;return a},access:function(t,i,n,r,a,o,l){var h,u=n==null,c=0,f=t.length;if(n&&typeof n==="object"){for(c in n){s.access(t,i,c,n[c],1,o,r)}a=1}else if(r!==e){h=l===e&&s.isFunction(r);if(u){if(h){h=i;i=function(t,e,i){return h.call(s(t),i)}}else{i.call(t,r);i=null}}if(i){for(;c<f;c++){i(t[c],n,h?r.call(t[c],c,i(t[c],n)):r,l)}}a=1}return a?t:u?i.call(t):f?i(t[0],n):o},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=v.exec(t)||y.exec(t)||b.exec(t)||t.indexOf("compatible")<0&&x.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,i){return new t.fn.init(e,i)}s.extend(true,t,this);t.superclass=this;t.fn=t.prototype=this();t.fn.constructor=t;t.sub=this.sub;t.fn.init=function n(i,r){if(r&&r instanceof s&&!(r instanceof t)){r=t(r)}return s.fn.init.call(this,i,r,e)};t.fn.init.prototype=t.fn;var e=t(i);return t},browser:{}});s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){N["[object "+e+"]"]=e.toLowerCase()});T=s.uaMatch(C);if(T.browser){s.browser[T.browser]=true;s.browser.version=T.version}if(s.browser.webkit){s.browser.safari=true}if(h.test("Â ")){u=/^[\s\xA0]+/;c=/[\s\xA0]+$/}o=s(i);if(i.addEventListener){S=function(){i.removeEventListener("DOMContentLoaded",S,false);s.ready()}}else if(i.attachEvent){S=function(){if(i.readyState==="complete"){i.detachEvent("onreadystatechange",S);s.ready()}}}function F(){if(s.isReady){return}try{i.documentElement.doScroll("left")}catch(t){setTimeout(F,1);return}s.ready()}return s}();var a={};function o(t){var e=a[t]={},i,n;t=t.split(/\s+/);for(i=0,n=t.length;i<n;i++){e[t[i]]=true}return e}r.Callbacks=function(t){t=t?a[t]||o(t):{};var i=[],n=[],s,l,h,u,c,f,d=function(e){var n,s,a,o,l;for(n=0,s=e.length;n<s;n++){a=e[n];o=r.type(a);if(o==="array"){d(a)}else if(o==="function"){if(!t.unique||!g.has(a)){i.push(a)}}}},p=function(e,r){r=r||[];s=!t.memory||[e,r];l=true;h=true;f=u||0;u=0;c=i.length;for(;i&&f<c;f++){if(i[f].apply(e,r)===false&&t.stopOnFalse){s=true;break}}h=false;if(i){if(!t.once){if(n&&n.length){s=n.shift();g.fireWith(s[0],s[1])}}else if(s===true){g.disable()}else{i=[]}}},g={add:function(){if(i){var t=i.length;d(arguments);if(h){c=i.length}else if(s&&s!==true){u=t;p(s[0],s[1])}}return this},remove:function(){if(i){var e=arguments,n=0,s=e.length;for(;n<s;n++){for(var r=0;r<i.length;r++){if(e[n]===i[r]){if(h){if(r<=c){c--;if(r<=f){f--}}}i.splice(r--,1);if(t.unique){break}}}}}return this},has:function(t){if(i){var e=0,n=i.length;for(;e<n;e++){if(t===i[e]){return true}}}return false},empty:function(){i=[];return this},disable:function(){i=n=s=e;return this},disabled:function(){return!i},lock:function(){n=e;if(!s||s===true){g.disable()}return this},locked:function(){return!n},fireWith:function(e,i){if(n){if(h){if(!t.once){n.push([e,i])}}else if(!(t.once&&s)){p(e,i)}}return this},fire:function(){g.fireWith(this,arguments);return this},fired:function(){return!!l}};return g};var l=[].slice;r.extend({Deferred:function(t){var e=r.Callbacks("once memory"),i=r.Callbacks("once memory"),n=r.Callbacks("memory"),s="pending",a={resolve:e,reject:i,notify:n},o={done:e.add,fail:i.add,progress:n.add,state:function(){return s},isResolved:e.fired,isRejected:i.fired,then:function(t,e,i){l.done(t).fail(e).progress(i);return this},always:function(){l.done.apply(l,arguments).fail.apply(l,arguments);return this},pipe:function(t,e,i){return r.Deferred(function(n){r.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i=e[0],s=e[1],a;if(r.isFunction(i)){l[t](function(){a=i.apply(this,arguments);if(a&&r.isFunction(a.promise)){a.promise().then(n.resolve,n.reject,n.notify)}else{n[s+"With"](this===l?n:this,[a])}})}else{l[t](n[s])}})}).promise()},promise:function(t){if(t==null){t=o}else{for(var e in o){t[e]=o[e]}}return t}},l=o.promise({}),h;for(h in a){l[h]=a[h].fire;l[h+"With"]=a[h].fireWith}l.done(function(){s="resolved"},i.disable,n.lock).fail(function(){s="rejected"},e.disable,n.lock);if(t){t.call(l,l)}return l},when:function(t){var e=l.call(arguments,0),i=0,n=e.length,s=new Array(n),a=n,o=n,h=n<=1&&t&&r.isFunction(t.promise)?t:r.Deferred(),u=h.promise();function c(t){return function(i){e[t]=arguments.length>1?l.call(arguments,0):i;if(!--a){h.resolveWith(h,e)}}}function f(t){return function(e){s[t]=arguments.length>1?l.call(arguments,0):e;h.notifyWith(u,s)}}if(n>1){for(;i<n;i++){if(e[i]&&e[i].promise&&r.isFunction(e[i].promise)){e[i].promise().then(c(i),h.reject,f(i))}else{--a}}if(!a){h.resolveWith(h,e)}}else if(h!==t){h.resolveWith(h,n?[t]:[])}return u}});r.support=function(){var e,n,s,a,o,l,h,u,c,f,d,p,g=i.createElement("div"),m=i.documentElement;g.setAttribute("className","t");g.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";n=g.getElementsByTagName("*");s=g.getElementsByTagName("a")[0];if(!n||!n.length||!s){return{}}a=i.createElement("select");o=a.appendChild(i.createElement("option"));l=g.getElementsByTagName("input")[0];e={leadingWhitespace:g.firstChild.nodeType===3,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:s.getAttribute("href")==="/a",opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:l.value==="on",optSelected:o.selected,getSetAttribute:g.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,pixelMargin:true};r.boxModel=e.boxModel=i.compatMode==="CSS1Compat";l.checked=true;e.noCloneChecked=l.cloneNode(true).checked;a.disabled=true;e.optDisabled=!o.disabled;try{delete g.test}catch(v){e.deleteExpando=false}if(!g.addEventListener&&g.attachEvent&&g.fireEvent){g.attachEvent("onclick",function(){e.noCloneEvent=false});g.cloneNode(true).fireEvent("onclick")}l=i.createElement("input");l.value="t";l.setAttribute("type","radio");e.radioValue=l.value==="t";l.setAttribute("checked","checked");l.setAttribute("name","t");g.appendChild(l);h=i.createDocumentFragment();h.appendChild(g.lastChild);e.checkClone=h.cloneNode(true).cloneNode(true).lastChild.checked;e.appendChecked=l.checked;h.removeChild(l);h.appendChild(g);if(g.attachEvent){for(d in{submit:1,change:1,focusin:1}){f="on"+d;p=f in g;if(!p){g.setAttribute(f,"return;");p=typeof g[f]==="function"}e[d+"Bubbles"]=p}}h.removeChild(g);h=a=o=g=l=null;r(function(){var n,s,a,o,l,h,c,f,d,m,v,y,b,x=i.getElementsByTagName("body")[0];if(!x){return}f=1;b="padding:0;margin:0;border:";v="position:absolute;top:0;left:0;width:1px;height:1px;";y=b+"0;visibility:hidden;";d="style='"+v+b+"5px solid #000;";m="<div "+d+"display:block;'><div style='"+b+"0;display:block;overflow:hidden;'></div></div>"+"<table "+d+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>";n=i.createElement("div");n.style.cssText=y+"width:0;height:0;position:static;top:0;margin-top:"+f+"px";x.insertBefore(n,x.firstChild);g=i.createElement("div");n.appendChild(g);g.innerHTML="<table><tr><td style='"+b+"0;display:none'></td><td>t</td></tr></table>";u=g.getElementsByTagName("td");p=u[0].offsetHeight===0;u[0].style.display="";u[1].style.display="none";e.reliableHiddenOffsets=p&&u[0].offsetHeight===0;if(t.getComputedStyle){g.innerHTML="";c=i.createElement("div");c.style.width="0";c.style.marginRight="0";g.style.width="2px";g.appendChild(c);e.reliableMarginRight=(parseInt((t.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0}if(typeof g.style.zoom!=="undefined"){g.innerHTML="";g.style.width=g.style.padding="1px";g.style.border=0;g.style.overflow="hidden";g.style.display="inline";g.style.zoom=1;e.inlineBlockNeedsLayout=g.offsetWidth===3;g.style.display="block";g.style.overflow="visible";g.innerHTML="<div style='width:5px;'></div>";e.shrinkWrapBlocks=g.offsetWidth!==3}g.style.cssText=v+y;g.innerHTML=m;s=g.firstChild;a=s.firstChild;l=s.nextSibling.firstChild.firstChild;h={doesNotAddBorder:a.offsetTop!==5,doesAddBorderForTableAndCells:l.offsetTop===5};a.style.position="fixed";a.style.top="20px";h.fixedPosition=a.offsetTop===20||a.offsetTop===15;a.style.position=a.style.top="";s.style.overflow="hidden";s.style.position="relative";h.subtractsBorderForOverflowNotVisible=a.offsetTop===-5;h.doesNotIncludeMarginInBodyOffset=x.offsetTop!==f;if(t.getComputedStyle){g.style.marginTop="1%";e.pixelMargin=(t.getComputedStyle(g,null)||{marginTop:0}).marginTop!=="1%"}if(typeof n.style.zoom!=="undefined"){n.style.zoom=1}x.removeChild(n);c=g=n=null;r.extend(e,h)});return e}();var h=/^(?:\{.*\}|\[.*\])$/,u=/([A-Z])/g;r.extend({cache:{},uuid:0,expando:"jQuery"+(r.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(t){t=t.nodeType?r.cache[t[r.expando]]:t[r.expando];return!!t&&!f(t)},data:function(t,i,n,s){if(!r.acceptData(t)){return}var a,o,l,h=r.expando,u=typeof i==="string",c=t.nodeType,f=c?r.cache:t,d=c?t[h]:t[h]&&h,p=i==="events";if((!d||!f[d]||!p&&!s&&!f[d].data)&&u&&n===e){return}if(!d){if(c){t[h]=d=++r.uuid}else{d=h}}if(!f[d]){f[d]={};if(!c){f[d].toJSON=r.noop}}if(typeof i==="object"||typeof i==="function"){if(s){f[d]=r.extend(f[d],i)}else{f[d].data=r.extend(f[d].data,i)}}a=o=f[d];if(!s){if(!o.data){o.data={}}o=o.data}if(n!==e){o[r.camelCase(i)]=n}if(p&&!o[i]){return a.events}if(u){l=o[i];if(l==null){l=o[r.camelCase(i)]}}else{l=o}return l},removeData:function(t,e,i){if(!r.acceptData(t)){return}var n,s,a,o=r.expando,l=t.nodeType,h=l?r.cache:t,u=l?t[o]:o;if(!h[u]){return}if(e){n=i?h[u]:h[u].data;if(n){if(!r.isArray(e)){if(e in n){e=[e]}else{e=r.camelCase(e);if(e in n){e=[e]}else{e=e.split(" ")}}}for(s=0,a=e.length;s<a;s++){delete n[e[s]]}if(!(i?f:r.isEmptyObject)(n)){return}}}if(!i){delete h[u].data;if(!f(h[u])){return}}if(r.support.deleteExpando||!h.setInterval){delete h[u]}else{h[u]=null}if(l){if(r.support.deleteExpando){delete t[o]}else if(t.removeAttribute){t.removeAttribute(o)}else{t[o]=null}}},_data:function(t,e,i){return r.data(t,e,i,true)},acceptData:function(t){if(t.nodeName){var e=r.noData[t.nodeName.toLowerCase()];if(e){return!(e===true||t.getAttribute("classid")!==e)}}return true}});r.fn.extend({data:function(t,i){var n,s,a,o,l,h=this[0],u=0,f=null;if(t===e){if(this.length){f=r.data(h);if(h.nodeType===1&&!r._data(h,"parsedAttrs")){a=h.attributes;for(l=a.length;u<l;u++){o=a[u].name;if(o.indexOf("data-")===0){o=r.camelCase(o.substring(5));c(h,o,f[o])}}r._data(h,"parsedAttrs",true)}}return f}if(typeof t==="object"){return this.each(function(){r.data(this,t)})}n=t.split(".",2);n[1]=n[1]?"."+n[1]:"";s=n[1]+"!";return r.access(this,function(i){if(i===e){f=this.triggerHandler("getData"+s,[n[0]]);if(f===e&&h){f=r.data(h,t);f=c(h,t,f)}return f===e&&n[1]?this.data(n[0]):f}n[1]=i;this.each(function(){var e=r(this);e.triggerHandler("setData"+s,n);r.data(this,t,i);e.triggerHandler("changeData"+s,n)})},null,i,arguments.length>1,null,false)},removeData:function(t){return this.each(function(){r.removeData(this,t)})}});function c(t,i,n){if(n===e&&t.nodeType===1){var s="data-"+i.replace(u,"-$1").toLowerCase();n=t.getAttribute(s);if(typeof n==="string"){try{n=n==="true"?true:n==="false"?false:n==="null"?null:r.isNumeric(n)?+n:h.test(n)?r.parseJSON(n):n}catch(a){}r.data(t,i,n)}else{n=e}}return n}function f(t){for(var e in t){if(e==="data"&&r.isEmptyObject(t[e])){continue}if(e!=="toJSON"){return false}}return true}function d(t,e,i){var n=e+"defer",s=e+"queue",a=e+"mark",o=r._data(t,n);if(o&&(i==="queue"||!r._data(t,s))&&(i==="mark"||!r._data(t,a))){setTimeout(function(){if(!r._data(t,s)&&!r._data(t,a)){r.removeData(t,n,true);o.fire()}},0)}}r.extend({_mark:function(t,e){if(t){e=(e||"fx")+"mark";r._data(t,e,(r._data(t,e)||0)+1)}},_unmark:function(t,e,i){if(t!==true){i=e;e=t;t=false}if(e){i=i||"fx";var n=i+"mark",s=t?0:(r._data(e,n)||1)-1;if(s){r._data(e,n,s)}else{r.removeData(e,n,true);d(e,i,"mark")}}},queue:function(t,e,i){var n;if(t){e=(e||"fx")+"queue";n=r._data(t,e);if(i){if(!n||r.isArray(i)){n=r._data(t,e,r.makeArray(i))}else{n.push(i)}}return n||[]}},dequeue:function(t,e){e=e||"fx";var i=r.queue(t,e),n=i.shift(),s={};if(n==="inprogress"){n=i.shift()}if(n){if(e==="fx"){i.unshift("inprogress")}r._data(t,e+".run",s);n.call(t,function(){r.dequeue(t,e)},s)}if(!i.length){r.removeData(t,e+"queue "+e+".run",true);d(t,e,"queue")}}});r.fn.extend({queue:function(t,i){var n=2;if(typeof t!=="string"){i=t;t="fx";n--}if(arguments.length<n){return r.queue(this[0],t)}return i===e?this:this.each(function(){var e=r.queue(this,t,i);if(t==="fx"&&e[0]!=="inprogress"){r.dequeue(this,t)}})},dequeue:function(t){return this.each(function(){r.dequeue(this,t)})},delay:function(t,e){t=r.fx?r.fx.speeds[t]||t:t;e=e||"fx";return this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){if(typeof t!=="string"){i=t;t=e}t=t||"fx";var n=r.Deferred(),s=this,a=s.length,o=1,l=t+"defer",h=t+"queue",u=t+"mark",c;function f(){if(!--o){n.resolveWith(s,[s])}}while(a--){if(c=r.data(s[a],l,e,true)||(r.data(s[a],h,e,true)||r.data(s[a],u,e,true))&&r.data(s[a],l,r.Callbacks("once memory"),true)){o++;c.add(f)}}f();return n.promise(i)}});var p=/[\n\t\r]/g,g=/\s+/,m=/\r/g,v=/^(?:button|input)$/i,y=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,x=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=r.support.getSetAttribute,_,k,C;r.fn.extend({attr:function(t,e){return r.access(this,r.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){r.removeAttr(this,t)})},prop:function(t,e){return r.access(this,r.prop,t,e,arguments.length>1)},removeProp:function(t){t=r.propFix[t]||t;return this.each(function(){try{this[t]=e;delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,s,a,o,l;if(r.isFunction(t)){return this.each(function(e){r(this).addClass(t.call(this,e,this.className))})}if(t&&typeof t==="string"){e=t.split(g);for(i=0,n=this.length;i<n;i++){s=this[i];if(s.nodeType===1){if(!s.className&&e.length===1){s.className=t}else{a=" "+s.className+" ";for(o=0,l=e.length;o<l;o++){if(!~a.indexOf(" "+e[o]+" ")){a+=e[o]+" "}}s.className=r.trim(a)}}}}return this},removeClass:function(t){var i,n,s,a,o,l,h;if(r.isFunction(t)){return this.each(function(e){r(this).removeClass(t.call(this,e,this.className))})}if(t&&typeof t==="string"||t===e){i=(t||"").split(g);for(n=0,s=this.length;n<s;n++){a=this[n];if(a.nodeType===1&&a.className){if(t){o=(" "+a.className+" ").replace(p," ");for(l=0,h=i.length;l<h;l++){o=o.replace(" "+i[l]+" "," ")}a.className=r.trim(o)}else{a.className=""}}}}return this},toggleClass:function(t,e){var i=typeof t,n=typeof e==="boolean";if(r.isFunction(t)){return this.each(function(i){r(this).toggleClass(t.call(this,i,this.className,e),e)})}return this.each(function(){if(i==="string"){var s,a=0,o=r(this),l=e,h=t.split(g);while(s=h[a++]){l=n?l:!o.hasClass(s);o[l?"addClass":"removeClass"](s)}}else if(i==="undefined"||i==="boolean"){if(this.className){r._data(this,"__className__",this.className)}this.className=this.className||t===false?"":r._data(this,"__className__")||""}})},hasClass:function(t){var e=" "+t+" ",i=0,n=this.length;for(;i<n;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(p," ").indexOf(e)>-1){return true}}return false},val:function(t){var i,n,s,a=this[0];if(!arguments.length){if(a){i=r.valHooks[a.type]||r.valHooks[a.nodeName.toLowerCase()];if(i&&"get"in i&&(n=i.get(a,"value"))!==e){return n}n=a.value;return typeof n==="string"?n.replace(m,""):n==null?"":n}return}s=r.isFunction(t);return this.each(function(n){var a=r(this),o;if(this.nodeType!==1){return}if(s){o=t.call(this,n,a.val())}else{o=t}if(o==null){o=""}else if(typeof o==="number"){o+=""}else if(r.isArray(o)){o=r.map(o,function(t){return t==null?"":t+""})}i=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()];if(!i||!("set"in i)||i.set(this,o,"value")===e){this.value=o}})}});r.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,s,a=t.selectedIndex,o=[],l=t.options,h=t.type==="select-one";if(a<0){return null}i=h?a:0;n=h?a+1:l.length;for(;i<n;i++){s=l[i];if(s.selected&&(r.support.optDisabled?!s.disabled:s.getAttribute("disabled")===null)&&(!s.parentNode.disabled||!r.nodeName(s.parentNode,"optgroup"))){e=r(s).val();if(h){return e}o.push(e)}}if(h&&!o.length&&l.length){return r(l[a]).val()}return o},set:function(t,e){var i=r.makeArray(e);r(t).find("option").each(function(){this.selected=r.inArray(r(this).val(),i)>=0});if(!i.length){t.selectedIndex=-1}return i}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(t,i,n,s){var a,o,l,h=t.nodeType;if(!t||h===3||h===8||h===2){return}if(s&&i in r.attrFn){return r(t)[i](n)}if(typeof t.getAttribute==="undefined"){return r.prop(t,i,n)}l=h!==1||!r.isXMLDoc(t);if(l){i=i.toLowerCase();o=r.attrHooks[i]||(x.test(i)?k:_)}if(n!==e){if(n===null){r.removeAttr(t,i);return}else if(o&&"set"in o&&l&&(a=o.set(t,n,i))!==e){return a}else{t.setAttribute(i,""+n);return n}}else if(o&&"get"in o&&l&&(a=o.get(t,i))!==null){return a}else{a=t.getAttribute(i);return a===null?e:a}},removeAttr:function(t,e){var i,n,s,a,o,l=0;if(e&&t.nodeType===1){n=e.toLowerCase().split(g);a=n.length;for(;l<a;l++){s=n[l];if(s){i=r.propFix[s]||s;o=x.test(s);if(!o){r.attr(t,s,"")}t.removeAttribute(w?s:i);if(o&&i in t){t[i]=false}}}}},attrHooks:{type:{set:function(t,e){if(v.test(t.nodeName)&&t.parentNode){r.error("type property can't be changed")}else if(!r.support.radioValue&&e==="radio"&&r.nodeName(t,"input")){var i=t.value;t.setAttribute("type",e);if(i){t.value=i}return e}}},value:{get:function(t,e){if(_&&r.nodeName(t,"button")){return _.get(t,e)}return e in t?t.value:null},set:function(t,e,i){if(_&&r.nodeName(t,"button")){return _.set(t,e,i)}t.value=e}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var s,a,o,l=t.nodeType;if(!t||l===3||l===8||l===2){return}o=l!==1||!r.isXMLDoc(t);if(o){i=r.propFix[i]||i;a=r.propHooks[i]}if(n!==e){if(a&&"set"in a&&(s=a.set(t,n,i))!==e){return s}else{return t[i]=n}}else{if(a&&"get"in a&&(s=a.get(t,i))!==null){return s}else{return t[i]}}},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):y.test(t.nodeName)||b.test(t.nodeName)&&t.href?0:e}}}});r.attrHooks.tabindex=r.propHooks.tabIndex;k={get:function(t,i){var n,s=r.prop(t,i);return s===true||typeof s!=="boolean"&&(n=t.getAttributeNode(i))&&n.nodeValue!==false?i.toLowerCase():e},set:function(t,e,i){var n;if(e===false){r.removeAttr(t,i)}else{n=r.propFix[i]||i;if(n in t){t[n]=true}t.setAttribute(i,i.toLowerCase())}return i}};if(!w){C={name:true,id:true,coords:true};_=r.valHooks.button={get:function(t,i){var n;n=t.getAttributeNode(i);return n&&(C[i]?n.nodeValue!=="":n.specified)?n.nodeValue:e},set:function(t,e,n){var s=t.getAttributeNode(n);if(!s){s=i.createAttribute(n);t.setAttributeNode(s)}return s.nodeValue=e+""}};r.attrHooks.tabindex.set=_.set;r.each(["width","height"],function(t,e){r.attrHooks[e]=r.extend(r.attrHooks[e],{set:function(t,i){if(i===""){t.setAttribute(e,"auto");return i}}})});r.attrHooks.contenteditable={get:_.get,set:function(t,e,i){if(e===""){e="false"}_.set(t,e,i)}}}if(!r.support.hrefNormalized){r.each(["href","src","width","height"],function(t,i){r.attrHooks[i]=r.extend(r.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return n===null?e:n}})})}if(!r.support.style){r.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}}if(!r.support.optSelected){r.propHooks.selected=r.extend(r.propHooks.selected,{get:function(t){var e=t.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex;
}}return null}})}if(!r.support.enctype){r.propFix.enctype="encoding"}if(!r.support.checkOn){r.each(["radio","checkbox"],function(){r.valHooks[this]={get:function(t){return t.getAttribute("value")===null?"on":t.value}}})}r.each(["radio","checkbox"],function(){r.valHooks[this]=r.extend(r.valHooks[this],{set:function(t,e){if(r.isArray(e)){return t.checked=r.inArray(r(t).val(),e)>=0}}})});var T=/^(?:textarea|input|select)$/i,D=/^([^\.]*)?(?:\.(.+))?$/,S=/(?:^|\s)hover(\.\S+)?\b/,M=/^key/,P=/^(?:mouse|contextmenu)|click/,A=/^(?:focusinfocus|focusoutblur)$/,I=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,E=function(t){var e=I.exec(t);if(e){e[1]=(e[1]||"").toLowerCase();e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")}return e},L=function(t,e){var i=t.attributes||{};return(!e[1]||t.nodeName.toLowerCase()===e[1])&&(!e[2]||(i.id||{}).value===e[2])&&(!e[3]||e[3].test((i["class"]||{}).value))},N=function(t){return r.event.special.hover?t:t.replace(S,"mouseenter$1 mouseleave$1")};r.event={add:function(t,i,n,s,a){var o,l,h,u,c,f,d,p,g,m,v,y;if(t.nodeType===3||t.nodeType===8||!i||!n||!(o=r._data(t))){return}if(n.handler){g=n;n=g.handler;a=g.selector}if(!n.guid){n.guid=r.guid++}h=o.events;if(!h){o.events=h={}}l=o.handle;if(!l){o.handle=l=function(t){return typeof r!=="undefined"&&(!t||r.event.triggered!==t.type)?r.event.dispatch.apply(l.elem,arguments):e};l.elem=t}i=r.trim(N(i)).split(" ");for(u=0;u<i.length;u++){c=D.exec(i[u])||[];f=c[1];d=(c[2]||"").split(".").sort();y=r.event.special[f]||{};f=(a?y.delegateType:y.bindType)||f;y=r.event.special[f]||{};p=r.extend({type:f,origType:c[1],data:s,handler:n,guid:n.guid,selector:a,quick:a&&E(a),namespace:d.join(".")},g);v=h[f];if(!v){v=h[f]=[];v.delegateCount=0;if(!y.setup||y.setup.call(t,s,d,l)===false){if(t.addEventListener){t.addEventListener(f,l,false)}else if(t.attachEvent){t.attachEvent("on"+f,l)}}}if(y.add){y.add.call(t,p);if(!p.handler.guid){p.handler.guid=n.guid}}if(a){v.splice(v.delegateCount++,0,p)}else{v.push(p)}r.event.global[f]=true}t=null},global:{},remove:function(t,e,i,n,s){var a=r.hasData(t)&&r._data(t),o,l,h,u,c,f,d,p,g,m,v,y;if(!a||!(p=a.events)){return}e=r.trim(N(e||"")).split(" ");for(o=0;o<e.length;o++){l=D.exec(e[o])||[];h=u=l[1];c=l[2];if(!h){for(h in p){r.event.remove(t,h+e[o],i,n,true)}continue}g=r.event.special[h]||{};h=(n?g.delegateType:g.bindType)||h;v=p[h]||[];f=v.length;c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(d=0;d<v.length;d++){y=v[d];if((s||u===y.origType)&&(!i||i.guid===y.guid)&&(!c||c.test(y.namespace))&&(!n||n===y.selector||n==="**"&&y.selector)){v.splice(d--,1);if(y.selector){v.delegateCount--}if(g.remove){g.remove.call(t,y)}}}if(v.length===0&&f!==v.length){if(!g.teardown||g.teardown.call(t,c)===false){r.removeEvent(t,h,a.handle)}delete p[h]}}if(r.isEmptyObject(p)){m=a.handle;if(m){m.elem=null}r.removeData(t,["events","handle"],true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(i,n,s,a){if(s&&(s.nodeType===3||s.nodeType===8)){return}var o=i.type||i,l=[],h,u,c,f,d,p,g,m,v,y;if(A.test(o+r.event.triggered)){return}if(o.indexOf("!")>=0){o=o.slice(0,-1);u=true}if(o.indexOf(".")>=0){l=o.split(".");o=l.shift();l.sort()}if((!s||r.event.customEvent[o])&&!r.event.global[o]){return}i=typeof i==="object"?i[r.expando]?i:new r.Event(o,i):new r.Event(o);i.type=o;i.isTrigger=true;i.exclusive=u;i.namespace=l.join(".");i.namespace_re=i.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;p=o.indexOf(":")<0?"on"+o:"";if(!s){h=r.cache;for(c in h){if(h[c].events&&h[c].events[o]){r.event.trigger(i,n,h[c].handle.elem,true)}}return}i.result=e;if(!i.target){i.target=s}n=n!=null?r.makeArray(n):[];n.unshift(i);g=r.event.special[o]||{};if(g.trigger&&g.trigger.apply(s,n)===false){return}v=[[s,g.bindType||o]];if(!a&&!g.noBubble&&!r.isWindow(s)){y=g.delegateType||o;f=A.test(y+o)?s:s.parentNode;d=null;for(;f;f=f.parentNode){v.push([f,y]);d=f}if(d&&d===s.ownerDocument){v.push([d.defaultView||d.parentWindow||t,y])}}for(c=0;c<v.length&&!i.isPropagationStopped();c++){f=v[c][0];i.type=v[c][1];m=(r._data(f,"events")||{})[i.type]&&r._data(f,"handle");if(m){m.apply(f,n)}m=p&&f[p];if(m&&r.acceptData(f)&&m.apply(f,n)===false){i.preventDefault()}}i.type=o;if(!a&&!i.isDefaultPrevented()){if((!g._default||g._default.apply(s.ownerDocument,n)===false)&&!(o==="click"&&r.nodeName(s,"a"))&&r.acceptData(s)){if(p&&s[o]&&(o!=="focus"&&o!=="blur"||i.target.offsetWidth!==0)&&!r.isWindow(s)){d=s[p];if(d){s[p]=null}r.event.triggered=o;s[o]();r.event.triggered=e;if(d){s[p]=d}}}}return i.result},dispatch:function(i){i=r.event.fix(i||t.event);var n=(r._data(this,"events")||{})[i.type]||[],s=n.delegateCount,a=[].slice.call(arguments,0),o=!i.exclusive&&!i.namespace,l=r.event.special[i.type]||{},h=[],u,c,f,d,p,g,m,v,y,b,x;a[0]=i;i.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,i)===false){return}if(s&&!(i.button&&i.type==="click")){d=r(this);d.context=this.ownerDocument||this;for(f=i.target;f!=this;f=f.parentNode||this){if(f.disabled!==true){g={};v=[];d[0]=f;for(u=0;u<s;u++){y=n[u];b=y.selector;if(g[b]===e){g[b]=y.quick?L(f,y.quick):d.is(b)}if(g[b]){v.push(y)}}if(v.length){h.push({elem:f,matches:v})}}}}if(n.length>s){h.push({elem:this,matches:n.slice(s)})}for(u=0;u<h.length&&!i.isPropagationStopped();u++){m=h[u];i.currentTarget=m.elem;for(c=0;c<m.matches.length&&!i.isImmediatePropagationStopped();c++){y=m.matches[c];if(o||!i.namespace&&!y.namespace||i.namespace_re&&i.namespace_re.test(y.namespace)){i.data=y.data;i.handleObj=y;p=((r.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,a);if(p!==e){i.result=p;if(p===false){i.preventDefault();i.stopPropagation()}}}}}if(l.postDispatch){l.postDispatch.call(this,i)}return i.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){if(t.which==null){t.which=e.charCode!=null?e.charCode:e.keyCode}return t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var s,r,a,o=n.button,l=n.fromElement;if(t.pageX==null&&n.clientX!=null){s=t.target.ownerDocument||i;r=s.documentElement;a=s.body;t.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0);t.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}if(!t.relatedTarget&&l){t.relatedTarget=l===t.target?n.toElement:l}if(!t.which&&o!==e){t.which=o&1?1:o&2?3:o&4?2:0}return t}},fix:function(t){if(t[r.expando]){return t}var n,s,a=t,o=r.event.fixHooks[t.type]||{},l=o.props?this.props.concat(o.props):this.props;t=r.Event(a);for(n=l.length;n;){s=l[--n];t[s]=a[s]}if(!t.target){t.target=a.srcElement||i}if(t.target.nodeType===3){t.target=t.target.parentNode}if(t.metaKey===e){t.metaKey=t.ctrlKey}return o.filter?o.filter(t,a):t},special:{ready:{setup:r.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){if(r.isWindow(this)){this.onbeforeunload=i}},teardown:function(t,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(t,e,i,n){var s=r.extend(new r.Event,i,{type:t,isSimulated:true,originalEvent:{}});if(n){r.event.trigger(s,null,e)}else{r.event.dispatch.call(e,s)}if(s.isDefaultPrevented()){i.preventDefault()}}};r.event.handle=r.event.dispatch;r.removeEvent=i.removeEventListener?function(t,e,i){if(t.removeEventListener){t.removeEventListener(e,i,false)}}:function(t,e,i){if(t.detachEvent){t.detachEvent("on"+e,i)}};r.Event=function(t,e){if(!(this instanceof r.Event)){return new r.Event(t,e)}if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=t.defaultPrevented||t.returnValue===false||t.getPreventDefault&&t.getPreventDefault()?O:F}else{this.type=t}if(e){r.extend(this,e)}this.timeStamp=t&&t.timeStamp||r.now();this[r.expando]=true};function F(){return false}function O(){return true}r.Event.prototype={preventDefault:function(){this.isDefaultPrevented=O;var t=this.originalEvent;if(!t){return}if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=O;var t=this.originalEvent;if(!t){return}if(t.stopPropagation){t.stopPropagation()}t.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=O;this.stopPropagation()},isDefaultPrevented:F,isPropagationStopped:F,isImmediatePropagationStopped:F};r.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){r.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i=this,n=t.relatedTarget,s=t.handleObj,a=s.selector,o;if(!n||n!==i&&!r.contains(i,n)){t.type=s.origType;o=s.handler.apply(this,arguments);t.type=e}return o}}});if(!r.support.submitBubbles){r.event.special.submit={setup:function(){if(r.nodeName(this,"form")){return false}r.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=r.nodeName(i,"input")||r.nodeName(i,"button")?i.form:e;if(n&&!n._submit_attached){r.event.add(n,"submit._submit",function(t){t._submit_bubble=true});n._submit_attached=true}})},postDispatch:function(t){if(t._submit_bubble){delete t._submit_bubble;if(this.parentNode&&!t.isTrigger){r.event.simulate("submit",this.parentNode,t,true)}}},teardown:function(){if(r.nodeName(this,"form")){return false}r.event.remove(this,"._submit")}}}if(!r.support.changeBubbles){r.event.special.change={setup:function(){if(T.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){r.event.add(this,"propertychange._change",function(t){if(t.originalEvent.propertyName==="checked"){this._just_changed=true}});r.event.add(this,"click._change",function(t){if(this._just_changed&&!t.isTrigger){this._just_changed=false;r.event.simulate("change",this,t,true)}})}return false}r.event.add(this,"beforeactivate._change",function(t){var e=t.target;if(T.test(e.nodeName)&&!e._change_attached){r.event.add(e,"change._change",function(t){if(this.parentNode&&!t.isSimulated&&!t.isTrigger){r.event.simulate("change",this.parentNode,t,true)}});e._change_attached=true}})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||e.type!=="radio"&&e.type!=="checkbox"){return t.handleObj.handler.apply(this,arguments)}},teardown:function(){r.event.remove(this,"._change");return T.test(this.nodeName)}}}if(!r.support.focusinBubbles){r.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,s=function(t){r.event.simulate(e,t.target,r.event.fix(t),true)};r.event.special[e]={setup:function(){if(n++===0){i.addEventListener(t,s,true)}},teardown:function(){if(--n===0){i.removeEventListener(t,s,true)}}}})}r.fn.extend({on:function(t,i,n,s,a){var o,l;if(typeof t==="object"){if(typeof i!=="string"){n=n||i;i=e}for(l in t){this.on(l,i,n,t[l],a)}return this}if(n==null&&s==null){s=i;n=i=e}else if(s==null){if(typeof i==="string"){s=n;n=e}else{s=n;n=i;i=e}}if(s===false){s=F}else if(!s){return this}if(a===1){o=s;s=function(t){r().off(t);return o.apply(this,arguments)};s.guid=o.guid||(o.guid=r.guid++)}return this.each(function(){r.event.add(this,t,s,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var s=t.handleObj;r(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler);return this}if(typeof t==="object"){for(var a in t){this.off(a,i,t[a])}return this}if(i===false||typeof i==="function"){n=i;i=e}if(n===false){n=F}return this.each(function(){r.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){r(this.context).on(t,this.selector,e,i);return this},die:function(t,e){r(this.context).off(t,this.selector||"**",e);return this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return arguments.length==1?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){r.event.trigger(t,e,this)})},triggerHandler:function(t,e){if(this[0]){return r.event.trigger(t,e,this[0],true)}},toggle:function(t){var e=arguments,i=t.guid||r.guid++,n=0,s=function(i){var s=(r._data(this,"lastToggle"+t.guid)||0)%n;r._data(this,"lastToggle"+t.guid,s+1);i.preventDefault();return e[s].apply(this,arguments)||false};s.guid=i;while(n<e.length){e[n++].guid=i}return this.click(s)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});r.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(t,e){r.fn[e]=function(t,i){if(i==null){i=t;t=null}return arguments.length>0?this.on(e,null,t,i):this.trigger(e)};if(r.attrFn){r.attrFn[e]=true}if(M.test(e)){r.event.fixHooks[e]=r.event.keyHooks}if(P.test(e)){r.event.fixHooks[e]=r.event.mouseHooks}});(function(){var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n="sizcache"+(Math.random()+"").replace(".",""),s=0,a=Object.prototype.toString,o=false,l=true,h=/\\/g,u=/\r\n/g,c=/\W/;[0,0].sort(function(){l=false;return 0});var f=function(e,n,s,r){s=s||[];n=n||i;var o=n;if(n.nodeType!==1&&n.nodeType!==9){return[]}if(!e||typeof e!=="string"){return s}var l,h,u,c,d,m,v,b,x=true,w=f.isXML(n),_=[],k=e;do{t.exec("");l=t.exec(k);if(l){k=l[3];_.push(l[1]);if(l[2]){c=l[3];break}}}while(l);if(_.length>1&&g.exec(e)){if(_.length===2&&p.relative[_[0]]){h=C(_[0]+_[1],n,r)}else{h=p.relative[_[0]]?[n]:f(_.shift(),n);while(_.length){e=_.shift();if(p.relative[e]){e+=_.shift()}h=C(e,h,r)}}}else{if(!r&&_.length>1&&n.nodeType===9&&!w&&p.match.ID.test(_[0])&&!p.match.ID.test(_[_.length-1])){d=f.find(_.shift(),n,w);n=d.expr?f.filter(d.expr,d.set)[0]:d.set[0]}if(n){d=r?{expr:_.pop(),set:y(r)}:f.find(_.pop(),_.length===1&&(_[0]==="~"||_[0]==="+")&&n.parentNode?n.parentNode:n,w);h=d.expr?f.filter(d.expr,d.set):d.set;if(_.length>0){u=y(h)}else{x=false}while(_.length){m=_.pop();v=m;if(!p.relative[m]){m=""}else{v=_.pop()}if(v==null){v=n}p.relative[m](u,v,w)}}else{u=_=[]}}if(!u){u=h}if(!u){f.error(m||e)}if(a.call(u)==="[object Array]"){if(!x){s.push.apply(s,u)}else if(n&&n.nodeType===1){for(b=0;u[b]!=null;b++){if(u[b]&&(u[b]===true||u[b].nodeType===1&&f.contains(n,u[b]))){s.push(h[b])}}}else{for(b=0;u[b]!=null;b++){if(u[b]&&u[b].nodeType===1){s.push(h[b])}}}}else{y(u,s)}if(c){f(c,o,s,r);f.uniqueSort(s)}return s};f.uniqueSort=function(t){if(x){o=l;t.sort(x);if(o){for(var e=1;e<t.length;e++){if(t[e]===t[e-1]){t.splice(e--,1)}}}}return t};f.matches=function(t,e){return f(t,null,null,e)};f.matchesSelector=function(t,e){return f(e,null,null,[t]).length>0};f.find=function(t,e,i){var n,s,r,a,o,l;if(!t){return[]}for(s=0,r=p.order.length;s<r;s++){o=p.order[s];if(a=p.leftMatch[o].exec(t)){l=a[1];a.splice(1,1);if(l.substr(l.length-1)!=="\\"){a[1]=(a[1]||"").replace(h,"");n=p.find[o](a,e,i);if(n!=null){t=t.replace(p.match[o],"");break}}}}if(!n){n=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:n,expr:t}};f.filter=function(t,i,n,s){var r,a,o,l,h,u,c,d,g,m=t,v=[],y=i,b=i&&i[0]&&f.isXML(i[0]);while(t&&i.length){for(o in p.filter){if((r=p.leftMatch[o].exec(t))!=null&&r[2]){u=p.filter[o];c=r[1];a=false;r.splice(1,1);if(c.substr(c.length-1)==="\\"){continue}if(y===v){v=[]}if(p.preFilter[o]){r=p.preFilter[o](r,y,n,v,s,b);if(!r){a=l=true}else if(r===true){continue}}if(r){for(d=0;(h=y[d])!=null;d++){if(h){l=u(h,r,d,y);g=s^l;if(n&&l!=null){if(g){a=true}else{y[d]=false}}else if(g){v.push(h);a=true}}}}if(l!==e){if(!n){y=v}t=t.replace(p.match[o],"");if(!a){return[]}break}}}if(t===m){if(a==null){f.error(t)}else{break}}m=t}return y};f.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var d=f.getText=function(t){var e,i,n=t.nodeType,s="";if(n){if(n===1||n===9||n===11){if(typeof t.textContent==="string"){return t.textContent}else if(typeof t.innerText==="string"){return t.innerText.replace(u,"")}else{for(t=t.firstChild;t;t=t.nextSibling){s+=d(t)}}}else if(n===3||n===4){return t.nodeValue}}else{for(e=0;i=t[e];e++){if(i.nodeType!==8){s+=d(i)}}}return s};var p=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i=typeof e==="string",n=i&&!c.test(e),s=i&&!n;if(n){e=e.toLowerCase()}for(var r=0,a=t.length,o;r<a;r++){if(o=t[r]){while((o=o.previousSibling)&&o.nodeType!==1){}t[r]=s||o&&o.nodeName.toLowerCase()===e?o||false:o===e}}if(s){f.filter(e,t,true)}},">":function(t,e){var i,n=typeof e==="string",s=0,r=t.length;if(n&&!c.test(e)){e=e.toLowerCase();for(;s<r;s++){i=t[s];if(i){var a=i.parentNode;t[s]=a.nodeName.toLowerCase()===e?a:false}}}else{for(;s<r;s++){i=t[s];if(i){t[s]=n?i.parentNode:i.parentNode===e}}if(n){f.filter(e,t,true)}}},"":function(t,e,i){var n,r=s++,a=k;if(typeof e==="string"&&!c.test(e)){e=e.toLowerCase();n=e;a=_}a("parentNode",e,r,t,n,i)},"~":function(t,e,i){var n,r=s++,a=k;if(typeof e==="string"&&!c.test(e)){e=e.toLowerCase();n=e;a=_}a("previousSibling",e,r,t,n,i)}},find:{ID:function(t,e,i){if(typeof e.getElementById!=="undefined"&&!i){var n=e.getElementById(t[1]);return n&&n.parentNode?[n]:[]}},NAME:function(t,e){if(typeof e.getElementsByName!=="undefined"){var i=[],n=e.getElementsByName(t[1]);for(var s=0,r=n.length;s<r;s++){if(n[s].getAttribute("name")===t[1]){i.push(n[s])}}return i.length===0?null:i}},TAG:function(t,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(t[1])}}},preFilter:{CLASS:function(t,e,i,n,s,r){t=" "+t[1].replace(h,"")+" ";if(r){return t}for(var a=0,o;(o=e[a])!=null;a++){if(o){if(s^(o.className&&(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)){if(!i){n.push(o)}}else if(i){e[a]=false}}}return false},ID:function(t){return t[1].replace(h,"")},TAG:function(t,e){return t[1].replace(h,"").toLowerCase()},CHILD:function(t){if(t[1]==="nth"){if(!t[2]){f.error(t[0])}t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(t[2]==="even"&&"2n"||t[2]==="odd"&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0;t[3]=e[3]-0}else if(t[2]){f.error(t[0])}t[0]=s++;return t},ATTR:function(t,e,i,n,s,r){var a=t[1]=t[1].replace(h,"");if(!r&&p.attrMap[a]){t[1]=p.attrMap[a]}t[4]=(t[4]||t[5]||"").replace(h,"");if(t[2]==="~="){t[4]=" "+t[4]+" "}return t},PSEUDO:function(e,i,n,s,r){if(e[1]==="not"){if((t.exec(e[3])||"").length>1||/^\w/.test(e[3])){e[3]=f(e[3],null,null,i)}else{var a=f.filter(e[3],i,n,true^r);if(!n){s.push.apply(s,a)}return false}}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0])){return true}return e},POS:function(t){t.unshift(true);return t}},filters:{enabled:function(t){return t.disabled===false&&t.type!=="hidden"},disabled:function(t){return t.disabled===true},checked:function(t){return t.checked===true},selected:function(t){if(t.parentNode){t.parentNode.selectedIndex}return t.selected===true},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!f(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return t.nodeName.toLowerCase()==="input"&&"text"===i&&(e===i||e===null)},radio:function(t){return t.nodeName.toLowerCase()==="input"&&"radio"===t.type},checkbox:function(t){return t.nodeName.toLowerCase()==="input"&&"checkbox"===t.type},file:function(t){return t.nodeName.toLowerCase()==="input"&&"file"===t.type},password:function(t){return t.nodeName.toLowerCase()==="input"&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===t.type},image:function(t){return t.nodeName.toLowerCase()==="input"&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&"button"===t.type||e==="button"},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return e===0},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return e%2===0},odd:function(t,e){return e%2===1},lt:function(t,e,i){return e<i[3]-0},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var s=e[1],r=p.filters[s];if(r){return r(t,i,e,n)}else if(s==="contains"){return(t.textContent||t.innerText||d([t])||"").indexOf(e[3])>=0}else if(s==="not"){var a=e[3];for(var o=0,l=a.length;o<l;o++){if(a[o]===t){return false}}return true}else{f.error(s)}},CHILD:function(t,e){var i,s,r,a,o,l,h,u=e[1],c=t;switch(u){case"only":case"first":while(c=c.previousSibling){if(c.nodeType===1){return false}}if(u==="first"){return true}c=t;case"last":while(c=c.nextSibling){if(c.nodeType===1){return false}}return true;case"nth":i=e[2];s=e[3];if(i===1&&s===0){return true}r=e[0];a=t.parentNode;if(a&&(a[n]!==r||!t.nodeIndex)){l=0;for(c=a.firstChild;c;c=c.nextSibling){if(c.nodeType===1){c.nodeIndex=++l}}a[n]=r}h=t.nodeIndex-s;if(i===0){return h===0}else{return h%i===0&&h/i>=0}}},ID:function(t,e){return t.nodeType===1&&t.getAttribute("id")===e},TAG:function(t,e){return e==="*"&&t.nodeType===1||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=f.attr?f.attr(t,i):p.attrHandle[i]?p.attrHandle[i](t):t[i]!=null?t[i]:t.getAttribute(i),s=n+"",r=e[2],a=e[4];return n==null?r==="!=":!r&&f.attr?n!=null:r==="="?s===a:r==="*="?s.indexOf(a)>=0:r==="~="?(" "+s+" ").indexOf(a)>=0:!a?s&&n!==false:r==="!="?s!==a:r==="^="?s.indexOf(a)===0:r==="$="?s.substr(s.length-a.length)===a:r==="|="?s===a||s.substr(0,a.length+1)===a+"-":false},POS:function(t,e,i,n){var s=e[2],r=p.setFilters[s];if(r){return r(t,i,e,n)}}}};var g=p.match.POS,m=function(t,e){return"\\"+(e-0+1)};for(var v in p.match){p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source);p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m))}p.match.globalPOS=g;var y=function(t,e){t=Array.prototype.slice.call(t,0);if(e){e.push.apply(e,t);return e}return t};try{Array.prototype.slice.call(i.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var i=0,n=e||[];if(a.call(t)==="[object Array]"){Array.prototype.push.apply(n,t)}else{if(typeof t.length==="number"){for(var s=t.length;i<s;i++){n.push(t[i])}}else{for(;t[i];i++){n.push(t[i])}}}return n}}var x,w;if(i.documentElement.compareDocumentPosition){x=function(t,e){if(t===e){o=true;return 0}if(!t.compareDocumentPosition||!e.compareDocumentPosition){return t.compareDocumentPosition?-1:1}return t.compareDocumentPosition(e)&4?-1:1}}else{x=function(t,e){if(t===e){o=true;return 0}else if(t.sourceIndex&&e.sourceIndex){return t.sourceIndex-e.sourceIndex}var i,n,s=[],r=[],a=t.parentNode,l=e.parentNode,h=a;if(a===l){return w(t,e)}else if(!a){return-1}else if(!l){return 1}while(h){s.unshift(h);h=h.parentNode}h=l;while(h){r.unshift(h);h=h.parentNode}i=s.length;n=r.length;for(var u=0;u<i&&u<n;u++){if(s[u]!==r[u]){return w(s[u],r[u])}}return u===i?w(t,r[u],-1):w(s[u],e,1)};w=function(t,e,i){if(t===e){return i}var n=t.nextSibling;while(n){if(n===e){return-1}n=n.nextSibling}return 1}}(function(){var t=i.createElement("div"),n="script"+(new Date).getTime(),s=i.documentElement;t.innerHTML="<a name='"+n+"'/>";s.insertBefore(t,s.firstChild);if(i.getElementById(n)){p.find.ID=function(t,i,n){if(typeof i.getElementById!=="undefined"&&!n){var s=i.getElementById(t[1]);return s?s.id===t[1]||typeof s.getAttributeNode!=="undefined"&&s.getAttributeNode("id").nodeValue===t[1]?[s]:e:[]}};p.filter.ID=function(t,e){var i=typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id");return t.nodeType===1&&i&&i.nodeValue===e}}s.removeChild(t);s=t=null})();(function(){var t=i.createElement("div");t.appendChild(i.createComment(""));if(t.getElementsByTagName("*").length>0){p.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if(t[1]==="*"){var n=[];for(var s=0;i[s];s++){if(i[s].nodeType===1){n.push(i[s])}}i=n}return i}}t.innerHTML="<a href='#'></a>";if(t.firstChild&&typeof t.firstChild.getAttribute!=="undefined"&&t.firstChild.getAttribute("href")!=="#"){p.attrHandle.href=function(t){return t.getAttribute("href",2)}}t=null})();if(i.querySelectorAll){(function(){var t=f,e=i.createElement("div"),n="__sizzle__";e.innerHTML="<p class='TEST'></p>";if(e.querySelectorAll&&e.querySelectorAll(".TEST").length===0){return}f=function(e,s,r,a){s=s||i;if(!a&&!f.isXML(s)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(o&&(s.nodeType===1||s.nodeType===9)){if(o[1]){return y(s.getElementsByTagName(e),r)}else if(o[2]&&p.find.CLASS&&s.getElementsByClassName){return y(s.getElementsByClassName(o[2]),r)}}if(s.nodeType===9){if(e==="body"&&s.body){return y([s.body],r)}else if(o&&o[3]){var l=s.getElementById(o[3]);if(l&&l.parentNode){if(l.id===o[3]){return y([l],r)}}else{return y([],r)}}try{return y(s.querySelectorAll(e),r)}catch(h){}}else if(s.nodeType===1&&s.nodeName.toLowerCase()!=="object"){var u=s,c=s.getAttribute("id"),d=c||n,g=s.parentNode,m=/^\s*[+~]/.test(e);if(!c){s.setAttribute("id",d)}else{d=d.replace(/'/g,"\\$&")}if(m&&g){s=s.parentNode}try{if(!m||g){return y(s.querySelectorAll("[id='"+d+"'] "+e),r)}}catch(v){}finally{if(!c){u.removeAttribute("id")}}}}return t(e,s,r,a)};for(var s in t){f[s]=t[s]}e=null})()}(function(){var t=i.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var n=!e.call(i.createElement("div"),"div"),s=false;try{e.call(i.documentElement,"[test!='']:sizzle")}catch(r){s=true}f.matchesSelector=function(t,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!f.isXML(t)){try{if(s||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var r=e.call(t,i);if(r||!n||t.document&&t.document.nodeType!==11){return r}}}catch(a){}}return f(i,null,null,[t]).length>0}}})();(function(){var t=i.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>";if(!t.getElementsByClassName||t.getElementsByClassName("e").length===0){return}t.lastChild.className="e";if(t.getElementsByClassName("e").length===1){return}p.order.splice(1,0,"CLASS");p.find.CLASS=function(t,e,i){if(typeof e.getElementsByClassName!=="undefined"&&!i){return e.getElementsByClassName(t[1])}};t=null})();function _(t,e,i,s,r,a){for(var o=0,l=s.length;o<l;o++){var h=s[o];if(h){var u=false;h=h[t];while(h){if(h[n]===i){u=s[h.sizset];break}if(h.nodeType===1&&!a){h[n]=i;h.sizset=o}if(h.nodeName.toLowerCase()===e){u=h;break}h=h[t]}s[o]=u}}}function k(t,e,i,s,r,a){for(var o=0,l=s.length;o<l;o++){var h=s[o];if(h){var u=false;h=h[t];while(h){if(h[n]===i){u=s[h.sizset];break}if(h.nodeType===1){if(!a){h[n]=i;h.sizset=o}if(typeof e!=="string"){if(h===e){u=true;break}}else if(f.filter(e,[h]).length>0){u=h;break}}h=h[t]}s[o]=u}}}if(i.documentElement.contains){f.contains=function(t,e){return t!==e&&(t.contains?t.contains(e):true)}}else if(i.documentElement.compareDocumentPosition){f.contains=function(t,e){return!!(t.compareDocumentPosition(e)&16)}}else{f.contains=function(){return false}}f.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?e.nodeName!=="HTML":false};var C=function(t,e,i){var n,s=[],r="",a=e.nodeType?[e]:e;while(n=p.match.PSEUDO.exec(t)){r+=n[0];t=t.replace(p.match.PSEUDO,"")}t=p.relative[t]?t+"*":t;for(var o=0,l=a.length;o<l;o++){f(t,a[o],s,i)}return f.filter(r,s)};f.attr=r.attr;f.selectors.attrMap={};r.find=f;r.expr=f.selectors;r.expr[":"]=r.expr.filters;r.unique=f.uniqueSort;r.text=f.getText;r.isXMLDoc=f.isXML;r.contains=f.contains})();var H=/Until$/,z=/^(?:parents|prevUntil|prevAll)/,B=/,/,R=/^.[^:#\[\.,]*$/,j=Array.prototype.slice,W=r.expr.match.globalPOS,Y={children:true,contents:true,next:true,prev:true};r.fn.extend({find:function(t){var e=this,i,n;if(typeof t!=="string"){return r(t).filter(function(){for(i=0,n=e.length;i<n;i++){if(r.contains(e[i],this)){return true}}})}var s=this.pushStack("","find",t),a,o,l;for(i=0,n=this.length;i<n;i++){a=s.length;r.find(t,this[i],s);if(i>0){for(o=a;o<s.length;o++){for(l=0;l<a;l++){if(s[l]===s[o]){s.splice(o--,1);break}}}}}return s},has:function(t){var e=r(t);return this.filter(function(){for(var t=0,i=e.length;t<i;t++){if(r.contains(this,e[t])){return true}}})},not:function(t){return this.pushStack(X(this,t,false),"not",t)},filter:function(t){return this.pushStack(X(this,t,true),"filter",t)},is:function(t){return!!t&&(typeof t==="string"?W.test(t)?r(t,this.context).index(this[0])>=0:r.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i=[],n,s,a=this[0];if(r.isArray(t)){var o=1;while(a&&a.ownerDocument&&a!==e){for(n=0;n<t.length;n++){if(r(a).is(t[n])){i.push({selector:t[n],elem:a,level:o})}}a=a.parentNode;o++}return i}var l=W.test(t)||typeof t!=="string"?r(t,e||this.context):0;for(n=0,s=this.length;n<s;n++){a=this[n];while(a){if(l?l.index(a)>-1:r.find.matchesSelector(a,t)){i.push(a);break}else{a=a.parentNode;if(!a||!a.ownerDocument||a===e||a.nodeType===11){break}}}}i=i.length>1?r.unique(i):i;return this.pushStack(i,"closest",t)},index:function(t){if(!t){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof t==="string"){return r.inArray(this[0],r(t))}return r.inArray(t.jquery?t[0]:t,this)},add:function(t,e){var i=typeof t==="string"?r(t,e):r.makeArray(t&&t.nodeType?[t]:t),n=r.merge(this.get(),i);return this.pushStack($(i[0])||$(n[0])?n:r.unique(n))},andSelf:function(){return this.add(this.prevObject)}});function $(t){return!t||!t.parentNode||t.parentNode.nodeType===11}r.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return r.dir(t,"parentNode")},parentsUntil:function(t,e,i){return r.dir(t,"parentNode",i)},next:function(t){return r.nth(t,2,"nextSibling")},prev:function(t){return r.nth(t,2,"previousSibling")},nextAll:function(t){return r.dir(t,"nextSibling")},prevAll:function(t){return r.dir(t,"previousSibling")},nextUntil:function(t,e,i){return r.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return r.dir(t,"previousSibling",i)},siblings:function(t){return r.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return r.sibling(t.firstChild)},contents:function(t){return r.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:r.makeArray(t.childNodes)}},function(t,e){r.fn[t]=function(i,n){var s=r.map(this,e,i);if(!H.test(t)){n=i}if(n&&typeof n==="string"){s=r.filter(n,s)}s=this.length>1&&!Y[t]?r.unique(s):s;if((this.length>1||B.test(n))&&z.test(t)){s=s.reverse()}return this.pushStack(s,t,j.call(arguments).join(","))}});r.extend({filter:function(t,e,i){if(i){t=":not("+t+")"}return e.length===1?r.find.matchesSelector(e[0],t)?[e[0]]:[]:r.find.matches(t,e)},dir:function(t,i,n){var s=[],a=t[i];while(a&&a.nodeType!==9&&(n===e||a.nodeType!==1||!r(a).is(n))){if(a.nodeType===1){s.push(a)}a=a[i]}return s},nth:function(t,e,i,n){e=e||1;var s=0;for(;t;t=t[i]){
if(t.nodeType===1&&++s===e){break}}return t},sibling:function(t,e){var i=[];for(;t;t=t.nextSibling){if(t.nodeType===1&&t!==e){i.push(t)}}return i}});function X(t,e,i){e=e||0;if(r.isFunction(e)){return r.grep(t,function(t,n){var s=!!e.call(t,n,t);return s===i})}else if(e.nodeType){return r.grep(t,function(t,n){return t===e===i})}else if(typeof e==="string"){var n=r.grep(t,function(t){return t.nodeType===1});if(R.test(e)){return r.filter(e,n,!i)}else{e=r.filter(e,n)}}return r.grep(t,function(t,n){return r.inArray(t,e)>=0===i})}function q(t){var e=G.split("|"),i=t.createDocumentFragment();if(i.createElement){while(e.length){i.createElement(e.pop())}}return i}var G="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",V=/ jQuery\d+="(?:\d+|null)"/g,U=/^\s+/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Q=/<([\w:]+)/,Z=/<tbody/i,J=/<|&#?\w+;/,tt=/<(?:script|style)/i,et=/<(?:script|object|embed|option|style)/i,it=new RegExp("<(?:"+G+")[\\s/>]","i"),nt=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/\/(java|ecma)script/i,rt=/^\s*<!(?:\[CDATA\[|\-\-)/,at={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ot=q(i);at.optgroup=at.option;at.tbody=at.tfoot=at.colgroup=at.caption=at.thead;at.th=at.td;if(!r.support.htmlSerialize){at._default=[1,"div<div>","</div>"]}r.fn.extend({text:function(t){return r.access(this,function(t){return t===e?r.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(r.isFunction(t)){return this.each(function(e){r(this).wrapAll(t.call(this,e))})}if(this[0]){var e=r(t,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map(function(){var t=this;while(t.firstChild&&t.firstChild.nodeType===1){t=t.firstChild}return t}).append(this)}return this},wrapInner:function(t){if(r.isFunction(t)){return this.each(function(e){r(this).wrapInner(t.call(this,e))})}return this.each(function(){var e=r(this),i=e.contents();if(i.length){i.wrapAll(t)}else{e.append(t)}})},wrap:function(t){var e=r.isFunction(t);return this.each(function(i){r(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){if(!r.nodeName(this,"body")){r(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(t){if(this.nodeType===1){this.appendChild(t)}})},prepend:function(){return this.domManip(arguments,true,function(t){if(this.nodeType===1){this.insertBefore(t,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(t){this.parentNode.insertBefore(t,this)})}else if(arguments.length){var t=r.clean(arguments);t.push.apply(t,this.toArray());return this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(t){this.parentNode.insertBefore(t,this.nextSibling)})}else if(arguments.length){var t=this.pushStack(this,"after",arguments);t.push.apply(t,r.clean(arguments));return t}},remove:function(t,e){for(var i=0,n;(n=this[i])!=null;i++){if(!t||r.filter(t,[n]).length){if(!e&&n.nodeType===1){r.cleanData(n.getElementsByTagName("*"));r.cleanData([n])}if(n.parentNode){n.parentNode.removeChild(n)}}}return this},empty:function(){for(var t=0,e;(e=this[t])!=null;t++){if(e.nodeType===1){r.cleanData(e.getElementsByTagName("*"))}while(e.firstChild){e.removeChild(e.firstChild)}}return this},clone:function(t,e){t=t==null?false:t;e=e==null?t:e;return this.map(function(){return r.clone(this,t,e)})},html:function(t){return r.access(this,function(t){var i=this[0]||{},n=0,s=this.length;if(t===e){return i.nodeType===1?i.innerHTML.replace(V,""):null}if(typeof t==="string"&&!tt.test(t)&&(r.support.leadingWhitespace||!U.test(t))&&!at[(Q.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(K,"<$1></$2>");try{for(;n<s;n++){i=this[n]||{};if(i.nodeType===1){r.cleanData(i.getElementsByTagName("*"));i.innerHTML=t}}i=0}catch(a){}}if(i){this.empty().append(t)}},null,t,arguments.length)},replaceWith:function(t){if(this[0]&&this[0].parentNode){if(r.isFunction(t)){return this.each(function(e){var i=r(this),n=i.html();i.replaceWith(t.call(this,e,n))})}if(typeof t!=="string"){t=r(t).detach()}return this.each(function(){var e=this.nextSibling,i=this.parentNode;r(this).remove();if(e){r(e).before(t)}else{r(i).append(t)}})}else{return this.length?this.pushStack(r(r.isFunction(t)?t():t),"replaceWith",t):this}},detach:function(t){return this.remove(t,true)},domManip:function(t,i,n){var s,a,o,l,h=t[0],u=[];if(!r.support.checkClone&&arguments.length===3&&typeof h==="string"&&nt.test(h)){return this.each(function(){r(this).domManip(t,i,n,true)})}if(r.isFunction(h)){return this.each(function(s){var a=r(this);t[0]=h.call(this,s,i?a.html():e);a.domManip(t,i,n)})}if(this[0]){l=h&&h.parentNode;if(r.support.parentNode&&l&&l.nodeType===11&&l.childNodes.length===this.length){s={fragment:l}}else{s=r.buildFragment(t,this,u)}o=s.fragment;if(o.childNodes.length===1){a=o=o.firstChild}else{a=o.firstChild}if(a){i=i&&r.nodeName(a,"tr");for(var c=0,f=this.length,d=f-1;c<f;c++){n.call(i?lt(this[c],a):this[c],s.cacheable||f>1&&c<d?r.clone(o,true,true):o)}}if(u.length){r.each(u,function(t,e){if(e.src){r.ajax({type:"GET",global:false,url:e.src,async:false,dataType:"script"})}else{r.globalEval((e.text||e.textContent||e.innerHTML||"").replace(rt,"/*$0*/"))}if(e.parentNode){e.parentNode.removeChild(e)}})}}return this}});function lt(t,e){return r.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ht(t,e){if(e.nodeType!==1||!r.hasData(t)){return}var i,n,s,a=r._data(t),o=r._data(e,a),l=a.events;if(l){delete o.handle;o.events={};for(i in l){for(n=0,s=l[i].length;n<s;n++){r.event.add(e,i,l[i][n])}}}if(o.data){o.data=r.extend({},o.data)}}function ut(t,e){var i;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(t)}i=e.nodeName.toLowerCase();if(i==="object"){e.outerHTML=t.outerHTML}else if(i==="input"&&(t.type==="checkbox"||t.type==="radio")){if(t.checked){e.defaultChecked=e.checked=t.checked}if(e.value!==t.value){e.value=t.value}}else if(i==="option"){e.selected=t.defaultSelected}else if(i==="input"||i==="textarea"){e.defaultValue=t.defaultValue}else if(i==="script"&&e.text!==t.text){e.text=t.text}e.removeAttribute(r.expando);e.removeAttribute("_submit_attached");e.removeAttribute("_change_attached")}r.buildFragment=function(t,e,n){var s,a,o,l,h=t[0];if(e&&e[0]){l=e[0].ownerDocument||e[0]}if(!l.createDocumentFragment){l=i}if(t.length===1&&typeof h==="string"&&h.length<512&&l===i&&h.charAt(0)==="<"&&!et.test(h)&&(r.support.checkClone||!nt.test(h))&&(r.support.html5Clone||!it.test(h))){a=true;o=r.fragments[h];if(o&&o!==1){s=o}}if(!s){s=l.createDocumentFragment();r.clean(t,l,s,n)}if(a){r.fragments[h]=o?s:1}return{fragment:s,cacheable:a}};r.fragments={};r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){r.fn[t]=function(i){var n=[],s=r(i),a=this.length===1&&this[0].parentNode;if(a&&a.nodeType===11&&a.childNodes.length===1&&s.length===1){s[e](this[0]);return this}else{for(var o=0,l=s.length;o<l;o++){var h=(o>0?this.clone(true):this).get();r(s[o])[e](h);n=n.concat(h)}return this.pushStack(n,t,s.selector)}}});function ct(t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName("*")}else if(typeof t.querySelectorAll!=="undefined"){return t.querySelectorAll("*")}else{return[]}}function ft(t){if(t.type==="checkbox"||t.type==="radio"){t.defaultChecked=t.checked}}function dt(t){var e=(t.nodeName||"").toLowerCase();if(e==="input"){ft(t)}else if(e!=="script"&&typeof t.getElementsByTagName!=="undefined"){r.grep(t.getElementsByTagName("input"),ft)}}function pt(t){var e=i.createElement("div");ot.appendChild(e);e.innerHTML=t.outerHTML;return e.firstChild}r.extend({clone:function(t,e,i){var n,s,a,o=r.support.html5Clone||r.isXMLDoc(t)||!it.test("<"+t.nodeName+">")?t.cloneNode(true):pt(t);if((!r.support.noCloneEvent||!r.support.noCloneChecked)&&(t.nodeType===1||t.nodeType===11)&&!r.isXMLDoc(t)){ut(t,o);n=ct(t);s=ct(o);for(a=0;n[a];++a){if(s[a]){ut(n[a],s[a])}}}if(e){ht(t,o);if(i){n=ct(t);s=ct(o);for(a=0;n[a];++a){ht(n[a],s[a])}}}n=s=null;return o},clean:function(t,e,n,s){var a,o,l,h=[];e=e||i;if(typeof e.createElement==="undefined"){e=e.ownerDocument||e[0]&&e[0].ownerDocument||i}for(var u=0,c;(c=t[u])!=null;u++){if(typeof c==="number"){c+=""}if(!c){continue}if(typeof c==="string"){if(!J.test(c)){c=e.createTextNode(c)}else{c=c.replace(K,"<$1></$2>");var f=(Q.exec(c)||["",""])[1].toLowerCase(),d=at[f]||at._default,p=d[0],g=e.createElement("div"),m=ot.childNodes,v;if(e===i){ot.appendChild(g)}else{q(e).appendChild(g)}g.innerHTML=d[1]+c+d[2];while(p--){g=g.lastChild}if(!r.support.tbody){var y=Z.test(c),b=f==="table"&&!y?g.firstChild&&g.firstChild.childNodes:d[1]==="<table>"&&!y?g.childNodes:[];for(l=b.length-1;l>=0;--l){if(r.nodeName(b[l],"tbody")&&!b[l].childNodes.length){b[l].parentNode.removeChild(b[l])}}}if(!r.support.leadingWhitespace&&U.test(c)){g.insertBefore(e.createTextNode(U.exec(c)[0]),g.firstChild)}c=g.childNodes;if(g){g.parentNode.removeChild(g);if(m.length>0){v=m[m.length-1];if(v&&v.parentNode){v.parentNode.removeChild(v)}}}}}var x;if(!r.support.appendChecked){if(c[0]&&typeof(x=c.length)==="number"){for(l=0;l<x;l++){dt(c[l])}}else{dt(c)}}if(c.nodeType){h.push(c)}else{h=r.merge(h,c)}}if(n){a=function(t){return!t.type||st.test(t.type)};for(u=0;h[u];u++){o=h[u];if(s&&r.nodeName(o,"script")&&(!o.type||st.test(o.type))){s.push(o.parentNode?o.parentNode.removeChild(o):o)}else{if(o.nodeType===1){var w=r.grep(o.getElementsByTagName("script"),a);h.splice.apply(h,[u+1,0].concat(w))}n.appendChild(o)}}}return h},cleanData:function(t){var e,i,n=r.cache,s=r.event.special,a=r.support.deleteExpando;for(var o=0,l;(l=t[o])!=null;o++){if(l.nodeName&&r.noData[l.nodeName.toLowerCase()]){continue}i=l[r.expando];if(i){e=n[i];if(e&&e.events){for(var h in e.events){if(s[h]){r.event.remove(l,h)}else{r.removeEvent(l,h,e.handle)}}if(e.handle){e.handle.elem=null}}if(a){delete l[r.expando]}else if(l.removeAttribute){l.removeAttribute(r.expando)}delete n[i]}}}});var gt=/alpha\([^)]*\)/i,mt=/opacity=([^)]*)/,vt=/([A-Z]|^ms)/g,yt=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,xt=/^([\-+])=([\-+.\de]+)/,wt=/^margin/,_t={position:"absolute",visibility:"hidden",display:"block"},kt=["Top","Right","Bottom","Left"],Ct,Tt,Dt;r.fn.css=function(t,i){return r.access(this,function(t,i,n){return n!==e?r.style(t,i,n):r.css(t,i)},t,i,arguments.length>1)};r.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ct(t,"opacity");return i===""?"1":i}else{return t.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":r.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,s){if(!t||t.nodeType===3||t.nodeType===8||!t.style){return}var a,o,l=r.camelCase(i),h=t.style,u=r.cssHooks[l];i=r.cssProps[l]||l;if(n!==e){o=typeof n;if(o==="string"&&(a=xt.exec(n))){n=+(a[1]+1)*+a[2]+parseFloat(r.css(t,i));o="number"}if(n==null||o==="number"&&isNaN(n)){return}if(o==="number"&&!r.cssNumber[l]){n+="px"}if(!u||!("set"in u)||(n=u.set(t,n))!==e){try{h[i]=n}catch(c){}}}else{if(u&&"get"in u&&(a=u.get(t,false,s))!==e){return a}return h[i]}},css:function(t,i,n){var s,a;i=r.camelCase(i);a=r.cssHooks[i];i=r.cssProps[i]||i;if(i==="cssFloat"){i="float"}if(a&&"get"in a&&(s=a.get(t,true,n))!==e){return s}else if(Ct){return Ct(t,i)}},swap:function(t,e,i){var n={},s,r;for(r in e){n[r]=t.style[r];t.style[r]=e[r]}s=i.call(t);for(r in e){t.style[r]=n[r]}return s}});r.curCSS=r.css;if(i.defaultView&&i.defaultView.getComputedStyle){Tt=function(t,e){var i,n,s,a,o=t.style;e=e.replace(vt,"-$1").toLowerCase();if((n=t.ownerDocument.defaultView)&&(s=n.getComputedStyle(t,null))){i=s.getPropertyValue(e);if(i===""&&!r.contains(t.ownerDocument.documentElement,t)){i=r.style(t,e)}}if(!r.support.pixelMargin&&s&&wt.test(e)&&bt.test(i)){a=o.width;o.width=i;i=s.width;o.width=a}return i}}if(i.documentElement.currentStyle){Dt=function(t,e){var i,n,s,r=t.currentStyle&&t.currentStyle[e],a=t.style;if(r==null&&a&&(s=a[e])){r=s}if(bt.test(r)){i=a.left;n=t.runtimeStyle&&t.runtimeStyle.left;if(n){t.runtimeStyle.left=t.currentStyle.left}a.left=e==="fontSize"?"1em":r;r=a.pixelLeft+"px";a.left=i;if(n){t.runtimeStyle.left=n}}return r===""?"auto":r}}Ct=Tt||Dt;function St(t,e,i){var n=e==="width"?t.offsetWidth:t.offsetHeight,s=e==="width"?1:0,a=4;if(n>0){if(i!=="border"){for(;s<a;s+=2){if(!i){n-=parseFloat(r.css(t,"padding"+kt[s]))||0}if(i==="margin"){n+=parseFloat(r.css(t,i+kt[s]))||0}else{n-=parseFloat(r.css(t,"border"+kt[s]+"Width"))||0}}}return n+"px"}n=Ct(t,e);if(n<0||n==null){n=t.style[e]}if(bt.test(n)){return n}n=parseFloat(n)||0;if(i){for(;s<a;s+=2){n+=parseFloat(r.css(t,"padding"+kt[s]))||0;if(i!=="padding"){n+=parseFloat(r.css(t,"border"+kt[s]+"Width"))||0}if(i==="margin"){n+=parseFloat(r.css(t,i+kt[s]))||0}}}return n+"px"}r.each(["height","width"],function(t,e){r.cssHooks[e]={get:function(t,i,n){if(i){if(t.offsetWidth!==0){return St(t,e,n)}else{return r.swap(t,_t,function(){return St(t,e,n)})}}},set:function(t,e){return yt.test(e)?e+"px":e}}});if(!r.support.opacity){r.cssHooks.opacity={get:function(t,e){return mt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=r.isNumeric(e)?"alpha(opacity="+e*100+")":"",a=n&&n.filter||i.filter||"";i.zoom=1;if(e>=1&&r.trim(a.replace(gt,""))===""){i.removeAttribute("filter");if(n&&!n.filter){return}}i.filter=gt.test(a)?a.replace(gt,s):a+" "+s}}}r(function(){if(!r.support.reliableMarginRight){r.cssHooks.marginRight={get:function(t,e){return r.swap(t,{display:"inline-block"},function(){if(e){return Ct(t,"margin-right")}else{return t.style.marginRight}})}}}});if(r.expr&&r.expr.filters){r.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return e===0&&i===0||!r.support.reliableHiddenOffsets&&(t.style&&t.style.display||r.css(t,"display"))==="none"};r.expr.filters.visible=function(t){return!r.expr.filters.hidden(t)}}r.each({margin:"",padding:"",border:"Width"},function(t,e){r.cssHooks[t+e]={expand:function(i){var n,s=typeof i==="string"?i.split(" "):[i],r={};for(n=0;n<4;n++){r[t+kt[n]+e]=s[n]||s[n-2]||s[0]}return r}}});var Mt=/%20/g,Pt=/\[\]$/,At=/\r?\n/g,It=/#.*$/,Et=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Nt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,Ot=/^\/\//,Ht=/\?/,zt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Bt=/^(?:select|textarea)/i,Rt=/\s+/,jt=/([?&])_=[^&]*/,Wt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Yt=r.fn.load,$t={},Xt={},qt,Gt,Vt=["*/"]+["*"];try{qt=s.href}catch(Ut){qt=i.createElement("a");qt.href="";qt=qt.href}Gt=Wt.exec(qt.toLowerCase())||[];function Kt(t){return function(e,i){if(typeof e!=="string"){i=e;e="*"}if(r.isFunction(i)){var n=e.toLowerCase().split(Rt),s=0,a=n.length,o,l,h;for(;s<a;s++){o=n[s];h=/^\+/.test(o);if(h){o=o.substr(1)||"*"}l=t[o]=t[o]||[];l[h?"unshift":"push"](i)}}}}function Qt(t,i,n,s,r,a){r=r||i.dataTypes[0];a=a||{};a[r]=true;var o=t[r],l=0,h=o?o.length:0,u=t===$t,c;for(;l<h&&(u||!c);l++){c=o[l](i,n,s);if(typeof c==="string"){if(!u||a[c]){c=e}else{i.dataTypes.unshift(c);c=Qt(t,i,n,s,c,a)}}}if((u||!c)&&!a["*"]){c=Qt(t,i,n,s,"*",a)}return c}function Zt(t,i){var n,s,a=r.ajaxSettings.flatOptions||{};for(n in i){if(i[n]!==e){(a[n]?t:s||(s={}))[n]=i[n]}}if(s){r.extend(true,t,s)}}r.fn.extend({load:function(t,i,n){if(typeof t!=="string"&&Yt){return Yt.apply(this,arguments)}else if(!this.length){return this}var s=t.indexOf(" ");if(s>=0){var a=t.slice(s,t.length);t=t.slice(0,s)}var o="GET";if(i){if(r.isFunction(i)){n=i;i=e}else if(typeof i==="object"){i=r.param(i,r.ajaxSettings.traditional);o="POST"}}var l=this;r.ajax({url:t,type:o,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText;if(t.isResolved()){t.done(function(t){i=t});l.html(a?r("<div>").append(i.replace(zt,"")).find(a):i)}if(n){l.each(n,[i,e,t])}}});return this},serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?r.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Bt.test(this.nodeName)||Lt.test(this.type))}).map(function(t,e){var i=r(this).val();return i==null?null:r.isArray(i)?r.map(i,function(t,i){return{name:e.name,value:t.replace(At,"\r\n")}}):{name:e.name,value:i.replace(At,"\r\n")}}).get()}});r.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){r.fn[e]=function(t){return this.on(e,t)}});r.each(["get","post"],function(t,i){r[i]=function(t,n,s,a){if(r.isFunction(n)){a=a||s;s=n;n=e}return r.ajax({type:i,url:t,data:n,success:s,dataType:a})}});r.extend({getScript:function(t,i){return r.get(t,e,i,"script")},getJSON:function(t,e,i){return r.get(t,e,i,"json")},ajaxSetup:function(t,e){if(e){Zt(t,r.ajaxSettings)}else{e=t;t=r.ajaxSettings}Zt(t,e);return t},ajaxSettings:{url:qt,isLocal:Nt.test(Gt[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Vt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":true,"text json":r.parseJSON,"text xml":r.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:Kt($t),ajaxTransport:Kt(Xt),ajax:function(t,i){if(typeof t==="object"){i=t;t=e}i=i||{};var n=r.ajaxSetup({},i),s=n.context||n,a=s!==n&&(s.nodeType||s instanceof r)?r(s):r.event,o=r.Deferred(),l=r.Callbacks("once memory"),h=n.statusCode||{},u,c={},f={},d,p,g,m,v,y=0,b,x,w={readyState:0,setRequestHeader:function(t,e){if(!y){var i=t.toLowerCase();t=f[i]=f[i]||t;c[t]=e}return this},getAllResponseHeaders:function(){return y===2?d:null},getResponseHeader:function(t){var i;if(y===2){if(!p){p={};while(i=Et.exec(d)){p[i[1].toLowerCase()]=i[2]}}i=p[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){if(!y){n.mimeType=t}return this},abort:function(t){t=t||"abort";if(g){g.abort(t)}_(0,t);return this}};function _(t,i,c,f){if(y===2){return}y=2;if(m){clearTimeout(m)}g=e;d=f||"";w.readyState=t>0?4:0;var p,v,x,_=i,k=c?te(n,w,c):e,C,T;if(t>=200&&t<300||t===304){if(n.ifModified){if(C=w.getResponseHeader("Last-Modified")){r.lastModified[u]=C}if(T=w.getResponseHeader("Etag")){r.etag[u]=T}}if(t===304){_="notmodified";p=true}else{try{v=ee(n,k);_="success";p=true}catch(D){_="parsererror";x=D}}}else{x=_;if(!_||t){_="error";if(t<0){t=0}}}w.status=t;w.statusText=""+(i||_);if(p){o.resolveWith(s,[v,_,w])}else{o.rejectWith(s,[w,_,x])}w.statusCode(h);h=e;if(b){a.trigger("ajax"+(p?"Success":"Error"),[w,n,p?v:x])}l.fireWith(s,[w,_]);if(b){a.trigger("ajaxComplete",[w,n]);if(!--r.active){r.event.trigger("ajaxStop")}}}o.promise(w);w.success=w.done;w.error=w.fail;w.complete=l.add;w.statusCode=function(t){if(t){var e;if(y<2){for(e in t){h[e]=[h[e],t[e]]}}else{e=t[w.status];w.then(e,e)}}return this};n.url=((t||n.url)+"").replace(It,"").replace(Ot,Gt[1]+"//");n.dataTypes=r.trim(n.dataType||"*").toLowerCase().split(Rt);if(n.crossDomain==null){v=Wt.exec(n.url.toLowerCase());n.crossDomain=!!(v&&(v[1]!=Gt[1]||v[2]!=Gt[2]||(v[3]||(v[1]==="http:"?80:443))!=(Gt[3]||(Gt[1]==="http:"?80:443))))}if(n.data&&n.processData&&typeof n.data!=="string"){n.data=r.param(n.data,n.traditional)}Qt($t,n,i,w);if(y===2){return false}b=n.global;n.type=n.type.toUpperCase();n.hasContent=!Ft.test(n.type);if(b&&r.active++===0){r.event.trigger("ajaxStart")}if(!n.hasContent){if(n.data){n.url+=(Ht.test(n.url)?"&":"?")+n.data;delete n.data}u=n.url;if(n.cache===false){var k=r.now(),C=n.url.replace(jt,"$1_="+k);n.url=C+(C===n.url?(Ht.test(n.url)?"&":"?")+"_="+k:"")}}if(n.data&&n.hasContent&&n.contentType!==false||i.contentType){w.setRequestHeader("Content-Type",n.contentType)}if(n.ifModified){u=u||n.url;if(r.lastModified[u]){w.setRequestHeader("If-Modified-Since",r.lastModified[u])}if(r.etag[u]){w.setRequestHeader("If-None-Match",r.etag[u])}}w.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+(n.dataTypes[0]!=="*"?", "+Vt+"; q=0.01":""):n.accepts["*"]);for(x in n.headers){w.setRequestHeader(x,n.headers[x])}if(n.beforeSend&&(n.beforeSend.call(s,w,n)===false||y===2)){w.abort();return false}for(x in{success:1,error:1,complete:1}){w[x](n[x])}g=Qt(Xt,n,i,w);if(!g){_(-1,"No Transport")}else{w.readyState=1;if(b){a.trigger("ajaxSend",[w,n])}if(n.async&&n.timeout>0){m=setTimeout(function(){w.abort("timeout")},n.timeout)}try{y=1;g.send(c,_)}catch(T){if(y<2){_(-1,T)}else{throw T}}}return w},param:function(t,i){var n=[],s=function(t,e){e=r.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e){i=r.ajaxSettings.traditional}if(r.isArray(t)||t.jquery&&!r.isPlainObject(t)){r.each(t,function(){s(this.name,this.value)})}else{for(var a in t){Jt(a,t[a],i,s)}}return n.join("&").replace(Mt,"+")}});function Jt(t,e,i,n){if(r.isArray(e)){r.each(e,function(e,s){if(i||Pt.test(t)){n(t,s)}else{Jt(t+"["+(typeof s==="object"?e:"")+"]",s,i,n)}})}else if(!i&&r.type(e)==="object"){for(var s in e){Jt(t+"["+s+"]",e[s],i,n)}}else{n(t,e)}}r.extend({active:0,lastModified:{},etag:{}});function te(t,i,n){var s=t.contents,r=t.dataTypes,a=t.responseFields,o,l,h,u;for(l in a){if(l in n){i[a[l]]=n[l]}}while(r[0]==="*"){r.shift();if(o===e){o=t.mimeType||i.getResponseHeader("content-type")}}if(o){for(l in s){if(s[l]&&s[l].test(o)){r.unshift(l);break}}}if(r[0]in n){h=r[0]}else{for(l in n){if(!r[0]||t.converters[l+" "+r[0]]){h=l;break}if(!u){u=l}}h=h||u}if(h){if(h!==r[0]){r.unshift(h)}return n[h]}}function ee(t,i){if(t.dataFilter){i=t.dataFilter(i,t.dataType)}var n=t.dataTypes,s={},a,o,l=n.length,h,u=n[0],c,f,d,p,g;for(a=1;a<l;a++){if(a===1){for(o in t.converters){if(typeof o==="string"){s[o.toLowerCase()]=t.converters[o]}}}c=u;u=n[a];if(u==="*"){u=c}else if(c!=="*"&&c!==u){f=c+" "+u;d=s[f]||s["* "+u];if(!d){g=e;for(p in s){h=p.split(" ");if(h[0]===c||h[0]==="*"){g=s[h[1]+" "+u];if(g){p=s[p];if(p===true){d=g}else if(g===true){d=p}break}}}}if(!(d||g)){r.error("No conversion from "+f.replace(" "," to "))}if(d!==true){i=d?d(i):g(p(i))}}}return i}var ie=r.now(),ne=/(\=)\?(&|$)|\?\?/i;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return r.expando+"_"+ie++}});r.ajaxPrefilter("json jsonp",function(e,i,n){var s=typeof e.data==="string"&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if(e.dataTypes[0]==="jsonp"||e.jsonp!==false&&(ne.test(e.url)||s&&ne.test(e.data))){var a,o=e.jsonpCallback=r.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l=t[o],h=e.url,u=e.data,c="$1"+o+"$2";if(e.jsonp!==false){h=h.replace(ne,c);if(e.url===h){if(s){u=u.replace(ne,c)}if(e.data===u){h+=(/\?/.test(h)?"&":"?")+e.jsonp+"="+o}}}e.url=h;e.data=u;t[o]=function(t){a=[t]};n.always(function(){t[o]=l;if(a&&r.isFunction(l)){t[o](a[0])}});e.converters["script json"]=function(){if(!a){r.error(o+" was not called")}return a[0]};e.dataTypes[0]="json";return"script"}});r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){r.globalEval(t);return t}}});r.ajaxPrefilter("script",function(t){if(t.cache===e){t.cache=false}if(t.crossDomain){t.type="GET";t.global=false}});r.ajaxTransport("script",function(t){if(t.crossDomain){var n,s=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(r,a){n=i.createElement("script");n.async="async";if(t.scriptCharset){n.charset=t.scriptCharset}n.src=t.url;n.onload=n.onreadystatechange=function(t,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState)){n.onload=n.onreadystatechange=null;if(s&&n.parentNode){s.removeChild(n)}n=e;if(!i){a(200,"success")}}};s.insertBefore(n,s.firstChild)},abort:function(){if(n){n.onload(0,1)}}}}});var se=t.ActiveXObject?function(){for(var t in ae){ae[t](0,1)}}:false,re=0,ae;function oe(){try{return new t.XMLHttpRequest}catch(e){}}function le(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}r.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&oe()||le()}:oe;(function(t){r.extend(r.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})})(r.ajaxSettings.xhr());if(r.support.ajax){r.ajaxTransport(function(i){if(!i.crossDomain||r.support.cors){var n;return{send:function(s,a){var o=i.xhr(),l,h;if(i.username){o.open(i.type,i.url,i.async,i.username,i.password)}else{o.open(i.type,i.url,i.async)}if(i.xhrFields){for(h in i.xhrFields){o[h]=i.xhrFields[h]}}if(i.mimeType&&o.overrideMimeType){o.overrideMimeType(i.mimeType)}if(!i.crossDomain&&!s["X-Requested-With"]){s["X-Requested-With"]="XMLHttpRequest"}try{for(h in s){o.setRequestHeader(h,s[h])}}catch(u){}o.send(i.hasContent&&i.data||null);n=function(t,s){var h,u,c,f,d;try{if(n&&(s||o.readyState===4)){n=e;if(l){o.onreadystatechange=r.noop;if(se){delete ae[l]}}if(s){if(o.readyState!==4){o.abort()}}else{h=o.status;c=o.getAllResponseHeaders();f={};d=o.responseXML;if(d&&d.documentElement){f.xml=d}try{f.text=o.responseText}catch(t){}try{u=o.statusText}catch(p){u=""}if(!h&&i.isLocal&&!i.crossDomain){h=f.text?200:404}else if(h===1223){h=204}}}}catch(g){if(!s){a(-1,g)}}if(f){a(h,u,f,c)}};if(!i.async||o.readyState===4){n()}else{l=++re;if(se){if(!ae){ae={};r(t).unload(se)}ae[l]=n}o.onreadystatechange=n}},abort:function(){if(n){n(0,1)}}}}})}var he={},ue,ce,fe=/^(?:toggle|show|hide)$/,de=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,pe,ge=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],me;r.fn.extend({show:function(t,e,i){var n,s;if(t||t===0){return this.animate(be("show",3),t,e,i)}else{for(var a=0,o=this.length;a<o;a++){n=this[a];if(n.style){s=n.style.display;if(!r._data(n,"olddisplay")&&s==="none"){s=n.style.display=""}if(s===""&&r.css(n,"display")==="none"||!r.contains(n.ownerDocument.documentElement,n)){r._data(n,"olddisplay",xe(n.nodeName))}}}for(a=0;a<o;a++){n=this[a];if(n.style){s=n.style.display;if(s===""||s==="none"){n.style.display=r._data(n,"olddisplay")||""}}}return this}},hide:function(t,e,i){if(t||t===0){return this.animate(be("hide",3),t,e,i)}else{var n,s,a=0,o=this.length;for(;a<o;a++){n=this[a];if(n.style){s=r.css(n,"display");if(s!=="none"&&!r._data(n,"olddisplay")){r._data(n,"olddisplay",s)}}}for(a=0;a<o;a++){if(this[a].style){this[a].style.display="none"}}return this}},_toggle:r.fn.toggle,toggle:function(t,e,i){var n=typeof t==="boolean";if(r.isFunction(t)&&r.isFunction(e)){this._toggle.apply(this,arguments)}else if(t==null||n){this.each(function(){var e=n?t:r(this).is(":hidden");r(this)[e?"show":"hide"]()})}else{this.animate(be("toggle",3),t,e,i)}return this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=r.speed(e,i,n);if(r.isEmptyObject(t)){return this.each(s.complete,[false])}t=r.extend({},t);function a(){if(s.queue===false){r._mark(this)}var e=r.extend({},s),i=this.nodeType===1,n=i&&r(this).is(":hidden"),a,o,l,h,u,c,f,d,p,g,m;e.animatedProperties={};for(l in t){a=r.camelCase(l);if(l!==a){t[a]=t[l];delete t[l]}if((u=r.cssHooks[a])&&"expand"in u){c=u.expand(t[a]);delete t[a];for(l in c){if(!(l in t)){t[l]=c[l]}}}}for(a in t){o=t[a];if(r.isArray(o)){e.animatedProperties[a]=o[1];o=t[a]=o[0]}else{e.animatedProperties[a]=e.specialEasing&&e.specialEasing[a]||e.easing||"swing"}if(o==="hide"&&n||o==="show"&&!n){return e.complete.call(this)}if(i&&(a==="height"||a==="width")){e.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(r.css(this,"display")==="inline"&&r.css(this,"float")==="none"){if(!r.support.inlineBlockNeedsLayout||xe(this.nodeName)==="inline"){this.style.display="inline-block"}else{this.style.zoom=1}}}}if(e.overflow!=null){this.style.overflow="hidden"}for(l in t){h=new r.fx(this,e,l);o=t[l];if(fe.test(o)){m=r._data(this,"toggle"+l)||(o==="toggle"?n?"show":"hide":0);if(m){r._data(this,"toggle"+l,m==="show"?"hide":"show");h[m]()}else{h[o]()}}else{f=de.exec(o);d=h.cur();if(f){p=parseFloat(f[2]);g=f[3]||(r.cssNumber[l]?"":"px");if(g!=="px"){r.style(this,l,(p||1)+g);d=(p||1)/h.cur()*d;r.style(this,l,d+g)}if(f[1]){p=(f[1]==="-="?-1:1)*p+d}h.custom(d,p,g)}else{h.custom(d,o,"")}}}return true}return s.queue===false?this.each(a):this.queue(s.queue,a)},stop:function(t,i,n){if(typeof t!=="string"){n=i;i=t;t=e}if(i&&t!==false){this.queue(t||"fx",[])}return this.each(function(){var e,i=false,s=r.timers,a=r._data(this);if(!n){r._unmark(true,this)}function o(t,e,i){var s=e[i];r.removeData(t,i,true);s.stop(n)}if(t==null){for(e in a){if(a[e]&&a[e].stop&&e.indexOf(".run")===e.length-4){o(this,a,e)}}}else if(a[e=t+".run"]&&a[e].stop){o(this,a,e)}for(e=s.length;e--;){if(s[e].elem===this&&(t==null||s[e].queue===t)){if(n){s[e](true)}else{s[e].saveState()}i=true;s.splice(e,1)}}if(!(n&&i)){r.dequeue(this,t)}})}});function ve(){setTimeout(ye,0);return me=r.now()}function ye(){me=e}function be(t,e){var i={};r.each(ge.concat.apply([],ge.slice(0,e)),function(){i[this]=t});return i}r.each({slideDown:be("show",1),slideUp:be("hide",1),slideToggle:be("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){r.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}});r.extend({speed:function(t,e,i){var n=t&&typeof t==="object"?r.extend({},t):{complete:i||!i&&e||r.isFunction(t)&&t,duration:t,easing:i&&e||e&&!r.isFunction(e)&&e};n.duration=r.fx.off?0:typeof n.duration==="number"?n.duration:n.duration in r.fx.speeds?r.fx.speeds[n.duration]:r.fx.speeds._default;if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete;n.complete=function(t){if(r.isFunction(n.old)){n.old.call(this)}if(n.queue){r.dequeue(this,n.queue)}else if(t!==false){r._unmark(this)}};return n},easing:{linear:function(t){return t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5}},timers:[],fx:function(t,e,i){this.options=e;this.elem=t;this.prop=i;e.orig=e.orig||{}}});r.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(r.fx.step[this.prop]||r.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var t,e=r.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?!e||e==="auto"?0:e:t},custom:function(t,i,n){var s=this,a=r.fx;this.startTime=me||ve();this.end=i;this.now=this.start=t;this.pos=this.state=0;this.unit=n||this.unit||(r.cssNumber[this.prop]?"":"px");function o(t){return s.step(t)}o.queue=this.options.queue;o.elem=this.elem;o.saveState=function(){if(r._data(s.elem,"fxshow"+s.prop)===e){if(s.options.hide){r._data(s.elem,"fxshow"+s.prop,s.start)}else if(s.options.show){r._data(s.elem,"fxshow"+s.prop,s.end)}}};if(o()&&r.timers.push(o)&&!pe){pe=setInterval(a.tick,a.interval)}},show:function(){var t=r._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||r.style(this.elem,this.prop);this.options.show=true;if(t!==e){this.custom(this.cur(),t)}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());
}r(this.elem).show()},hide:function(){this.options.orig[this.prop]=r._data(this.elem,"fxshow"+this.prop)||r.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(t){var e,i,n,s=me||ve(),a=true,o=this.elem,l=this.options;if(t||s>=l.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();l.animatedProperties[this.prop]=true;for(e in l.animatedProperties){if(l.animatedProperties[e]!==true){a=false}}if(a){if(l.overflow!=null&&!r.support.shrinkWrapBlocks){r.each(["","X","Y"],function(t,e){o.style["overflow"+e]=l.overflow[t]})}if(l.hide){r(o).hide()}if(l.hide||l.show){for(e in l.animatedProperties){r.style(o,e,l.orig[e]);r.removeData(o,"fxshow"+e,true);r.removeData(o,"toggle"+e,true)}}n=l.complete;if(n){l.complete=false;n.call(o)}}return false}else{if(l.duration==Infinity){this.now=s}else{i=s-this.startTime;this.state=i/l.duration;this.pos=r.easing[l.animatedProperties[this.prop]](this.state,i,0,1,l.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};r.extend(r.fx,{tick:function(){var t,e=r.timers,i=0;for(;i<e.length;i++){t=e[i];if(!t()&&e[i]===t){e.splice(i--,1)}}if(!e.length){r.fx.stop()}},interval:13,stop:function(){clearInterval(pe);pe=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){r.style(t.elem,"opacity",t.now)},_default:function(t){if(t.elem.style&&t.elem.style[t.prop]!=null){t.elem.style[t.prop]=t.now+t.unit}else{t.elem[t.prop]=t.now}}}});r.each(ge.concat.apply([],ge),function(t,e){if(e.indexOf("margin")){r.fx.step[e]=function(t){r.style(t.elem,e,Math.max(0,t.now)+t.unit)}}});if(r.expr&&r.expr.filters){r.expr.filters.animated=function(t){return r.grep(r.timers,function(e){return t===e.elem}).length}}function xe(t){if(!he[t]){var e=i.body,n=r("<"+t+">").appendTo(e),s=n.css("display");n.remove();if(s==="none"||s===""){if(!ue){ue=i.createElement("iframe");ue.frameBorder=ue.width=ue.height=0}e.appendChild(ue);if(!ce||!ue.createElement){ce=(ue.contentWindow||ue.contentDocument).document;ce.write((r.support.boxModel?"<!doctype html>":"")+"<html><body>");ce.close()}n=ce.createElement(t);ce.body.appendChild(n);s=r.css(n,"display");e.removeChild(ue)}he[t]=s}return he[t]}var we,_e=/^t(?:able|d|h)$/i,ke=/^(?:body|html)$/i;if("getBoundingClientRect"in i.documentElement){we=function(t,e,i,n){try{n=t.getBoundingClientRect()}catch(s){}if(!n||!r.contains(i,t)){return n?{top:n.top,left:n.left}:{top:0,left:0}}var a=e.body,o=Ce(e),l=i.clientTop||a.clientTop||0,h=i.clientLeft||a.clientLeft||0,u=o.pageYOffset||r.support.boxModel&&i.scrollTop||a.scrollTop,c=o.pageXOffset||r.support.boxModel&&i.scrollLeft||a.scrollLeft,f=n.top+u-l,d=n.left+c-h;return{top:f,left:d}}}else{we=function(t,e,i){var n,s=t.offsetParent,a=t,o=e.body,l=e.defaultView,h=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,c=t.offsetLeft;while((t=t.parentNode)&&t!==o&&t!==i){if(r.support.fixedPosition&&h.position==="fixed"){break}n=l?l.getComputedStyle(t,null):t.currentStyle;u-=t.scrollTop;c-=t.scrollLeft;if(t===s){u+=t.offsetTop;c+=t.offsetLeft;if(r.support.doesNotAddBorder&&!(r.support.doesAddBorderForTableAndCells&&_e.test(t.nodeName))){u+=parseFloat(n.borderTopWidth)||0;c+=parseFloat(n.borderLeftWidth)||0}a=s;s=t.offsetParent}if(r.support.subtractsBorderForOverflowNotVisible&&n.overflow!=="visible"){u+=parseFloat(n.borderTopWidth)||0;c+=parseFloat(n.borderLeftWidth)||0}h=n}if(h.position==="relative"||h.position==="static"){u+=o.offsetTop;c+=o.offsetLeft}if(r.support.fixedPosition&&h.position==="fixed"){u+=Math.max(i.scrollTop,o.scrollTop);c+=Math.max(i.scrollLeft,o.scrollLeft)}return{top:u,left:c}}}r.fn.offset=function(t){if(arguments.length){return t===e?this:this.each(function(e){r.offset.setOffset(this,t,e)})}var i=this[0],n=i&&i.ownerDocument;if(!n){return null}if(i===n.body){return r.offset.bodyOffset(i)}return we(i,n,n.documentElement)};r.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;if(r.support.doesNotIncludeMarginInBodyOffset){e+=parseFloat(r.css(t,"marginTop"))||0;i+=parseFloat(r.css(t,"marginLeft"))||0}return{top:e,left:i}},setOffset:function(t,e,i){var n=r.css(t,"position");if(n==="static"){t.style.position="relative"}var s=r(t),a=s.offset(),o=r.css(t,"top"),l=r.css(t,"left"),h=(n==="absolute"||n==="fixed")&&r.inArray("auto",[o,l])>-1,u={},c={},f,d;if(h){c=s.position();f=c.top;d=c.left}else{f=parseFloat(o)||0;d=parseFloat(l)||0}if(r.isFunction(e)){e=e.call(t,i,a)}if(e.top!=null){u.top=e.top-a.top+f}if(e.left!=null){u.left=e.left-a.left+d}if("using"in e){e.using.call(t,u)}else{s.css(u)}}};r.fn.extend({position:function(){if(!this[0]){return null}var t=this[0],e=this.offsetParent(),i=this.offset(),n=ke.test(e[0].nodeName)?{top:0,left:0}:e.offset();i.top-=parseFloat(r.css(t,"marginTop"))||0;i.left-=parseFloat(r.css(t,"marginLeft"))||0;n.top+=parseFloat(r.css(e[0],"borderTopWidth"))||0;n.left+=parseFloat(r.css(e[0],"borderLeftWidth"))||0;return{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){var t=this.offsetParent||i.body;while(t&&(!ke.test(t.nodeName)&&r.css(t,"position")==="static")){t=t.offsetParent}return t})}});r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);r.fn[t]=function(s){return r.access(this,function(t,s,a){var o=Ce(t);if(a===e){return o?i in o?o[i]:r.support.boxModel&&o.document.documentElement[s]||o.document.body[s]:t[s]}if(o){o.scrollTo(!n?a:r(o).scrollLeft(),n?a:r(o).scrollTop())}else{t[s]=a}},t,s,arguments.length,null)}});function Ce(t){return r.isWindow(t)?t:t.nodeType===9?t.defaultView||t.parentWindow:false}r.each({Height:"height",Width:"width"},function(t,i){var n="client"+t,s="scroll"+t,a="offset"+t;r.fn["inner"+t]=function(){var t=this[0];return t?t.style?parseFloat(r.css(t,i,"padding")):this[i]():null};r.fn["outer"+t]=function(t){var e=this[0];return e?e.style?parseFloat(r.css(e,i,t?"margin":"border")):this[i]():null};r.fn[i]=function(t){return r.access(this,function(t,i,o){var l,h,u,c;if(r.isWindow(t)){l=t.document;h=l.documentElement[n];return r.support.boxModel&&h||l.body&&l.body[n]||h}if(t.nodeType===9){l=t.documentElement;if(l[n]>=l[s]){return l[n]}return Math.max(t.body[s],l[s],t.body[a],l[a])}if(o===e){u=r.css(t,i);c=parseFloat(u);return r.isNumeric(c)?c:u}r(t).css(i,o)},i,t,arguments.length,null)}});t.jQuery=t.$=r;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return r})}})(window);(function(t,e,i){var n={beforeShow:p,move:p,change:p,show:p,hide:p,color:false,flat:false,showInput:false,showButtons:true,clickoutFiresChange:false,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:false,className:"",showAlpha:false,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:false},s=[],r=!!/msie/i.exec(t.navigator.userAgent),a=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div");var i=e.style;i.cssText="background-color:rgba(0,0,0,.5)";return t(i.backgroundColor,"rgba")||t(i.backgroundColor,"hsla")}(),o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var t="";if(r){for(var e=1;e<=6;e++){t+="<div class='sp-"+e+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function h(t,e,i){var n=[];for(var s=0;s<t.length;s++){var r=tinycolor(t[s]);var o=r.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";o+=tinycolor.equals(e,t[s])?" sp-thumb-active":"";var l=a?"background-color:"+r.toRgbString():"filter:"+r.toFilter();n.push('<span title="'+r.toRgbString()+'" data-color="'+r.toRgbString()+'" class="'+o+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"}function u(){for(var t=0;t<s.length;t++){if(s[t]){s[t].hide()}}}function c(t,i){var s=e.extend({},n,t);s.callbacks={move:m(s.move,i),change:m(s.change,i),show:m(s.show,i),hide:m(s.hide,i),beforeShow:m(s.beforeShow,i)};return s}function f(n,f){var p=c(f,n),m=p.flat,b=p.showSelectionPalette,x=p.localStorageKey,w=p.theme,_=p.callbacks,k=y(Ot,10),C=false,T=0,D=0,S=0,M=0,P=0,A=0,I=0,E=0,L=0,N=0,F=0,O=1,H=p.palette.slice(0),z=e.isArray(H[0])?H:[H],B=p.selectionPalette.slice(0),R=p.maxSelectionSize,j="sp-dragging",W=null;var Y=n.ownerDocument,$=Y.body,X=e(n),q=false,G=e(l,Y).addClass(w),V=G.find(".sp-color"),U=G.find(".sp-dragger"),K=G.find(".sp-hue"),Q=G.find(".sp-slider"),Z=G.find(".sp-alpha-inner"),J=G.find(".sp-alpha"),tt=G.find(".sp-alpha-handle"),et=G.find(".sp-input"),it=G.find(".sp-palette"),nt=G.find(".sp-initial"),st=G.find(".sp-cancel"),rt=G.find(".sp-choose"),at=X.is("input"),ot=at&&!m,lt=ot?e(o).addClass(w).addClass(p.className):e([]),ht=ot?lt:X,ut=lt.find(".sp-preview-inner"),ct=p.color||at&&X.val(),ft=false,dt=p.preferredFormat,pt=dt,gt=!p.showButtons||p.clickoutFiresChange;function mt(){G.toggleClass("sp-flat",m);G.toggleClass("sp-input-disabled",!p.showInput);G.toggleClass("sp-alpha-enabled",p.showAlpha);G.toggleClass("sp-buttons-disabled",!p.showButtons);G.toggleClass("sp-palette-disabled",!p.showPalette);G.toggleClass("sp-palette-only",p.showPaletteOnly);G.toggleClass("sp-initial-disabled",!p.showInitial);G.addClass(p.className);Ot()}function vt(){if(r){G.find("*:not(input)").attr("unselectable","on")}mt();if(ot){X.after(lt).hide()}if(m){X.after(G).hide()}else{var i=p.appendTo==="parent"?X.parent():e(p.appendTo);if(i.length!==1){i=e("body")}i.append(G)}if(x&&t.localStorage){try{var n=t.localStorage[x].split(",#");if(n.length>1){delete t.localStorage[x];e.each(n,function(t,e){yt(e)})}}catch(s){}try{B=t.localStorage[x].split(";")}catch(s){}}ht.bind("click.spectrum touchstart.spectrum",function(t){if(!q){Tt()}t.stopPropagation();if(!e(t.target).is("input")){t.preventDefault()}});if(X.is(":disabled")||p.disabled===true){Rt()}G.click(g);et.change(Ct);et.bind("paste",function(){setTimeout(Ct,1)});et.keydown(function(t){if(t.keyCode==13){Ct()}});st.text(p.cancelText);st.bind("click.spectrum",function(t){t.stopPropagation();t.preventDefault();St("cancel")});rt.text(p.chooseText);rt.bind("click.spectrum",function(t){t.stopPropagation();t.preventDefault();if(It()){Ft(true);St()}});v(J,function(t,e,i){O=t/A;if(i.shiftKey){O=Math.round(O*10)/10}Et()});v(K,function(t,e){L=parseFloat(e/M);Et()},_t,kt);v(V,function(t,e,i){if(!i.shiftKey){W=null}else if(!W){var n=N*T;var s=D-F*D;var r=Math.abs(t-n)>Math.abs(e-s);W=r?"x":"y"}var a=!W||W==="x";var o=!W||W==="y";if(a){N=parseFloat(t/T)}if(o){F=parseFloat((D-e)/D)}Et()},_t,kt);if(!!ct){Pt(ct);Lt();pt=dt||tinycolor(ct).format;yt(ct)}else{Lt()}if(m){Dt()}function a(t){if(t.data&&t.data.ignore){Pt(e(this).data("color"));Et()}else{Pt(e(this).data("color"));Ft(true);Et();St()}return false}var o=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";it.delegate(".sp-thumb-el",o,a);nt.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:true},a)}function yt(i){if(b){var n=tinycolor(i).toRgbString();if(e.inArray(n,B)===-1){B.push(n);while(B.length>R){B.shift()}}if(x&&t.localStorage){try{t.localStorage[x]=B.join(";")}catch(s){}}}}function bt(){var t=[];var e=B;var i={};var n;if(p.showPalette){for(var s=0;s<z.length;s++){for(var r=0;r<z[s].length;r++){n=tinycolor(z[s][r]).toRgbString();i[n]=true}}for(s=0;s<e.length;s++){n=tinycolor(e[s]).toRgbString();if(!i.hasOwnProperty(n)){t.push(e[s]);i[n]=true}}}return t.reverse().slice(0,p.maxSelectionSize)}function xt(){var t=At();var i=e.map(z,function(e,i){return h(e,t,"sp-palette-row sp-palette-row-"+i)});if(B){i.push(h(bt(),t,"sp-palette-row sp-palette-row-selection"))}it.html(i.join(""))}function wt(){if(p.showInitial){var t=ft;var e=At();nt.html(h([t,e],e,"sp-palette-row-initial"))}}function _t(){if(D<=0||T<=0||M<=0){Ot()}G.addClass(j);W=null}function kt(){G.removeClass(j)}function Ct(){var t=tinycolor(et.val());if(t.ok){Pt(t)}else{et.addClass("sp-validation-error")}}function Tt(){if(C){St()}else{Dt()}}function Dt(){var i=e.Event("beforeShow.spectrum");if(C){Ot();return}X.trigger(i,[At()]);if(_.beforeShow(At())===false||i.isDefaultPrevented()){return}u();C=true;e(Y).bind("click.spectrum",St);e(t).bind("resize.spectrum",k);lt.addClass("sp-active");G.removeClass("sp-hidden");if(p.showPalette){xt()}Ot();Lt();ft=At();wt();_.show(ft);X.trigger("show.spectrum",[ft])}function St(i){if(i&&i.type=="click"&&i.button==2){return}if(!C||m){return}C=false;e(Y).unbind("click.spectrum",St);e(t).unbind("resize.spectrum",k);lt.removeClass("sp-active");G.addClass("sp-hidden");var n=!tinycolor.equals(At(),ft);if(n){if(gt&&i!=="cancel"){Ft(true)}else{Mt()}}_.hide(At());X.trigger("hide.spectrum",[At()])}function Mt(){Pt(ft,true)}function Pt(t,e){if(tinycolor.equals(t,At())){return}var i=tinycolor(t);var n=i.toHsv();L=n.h%360/360;N=n.s;F=n.v;O=n.a;Lt();if(i.ok&&!e){pt=dt||i.format}}function At(t){t=t||{};return tinycolor.fromRatio({h:L,s:N,v:F,a:Math.round(O*100)/100},{format:t.format||pt})}function It(){return!et.hasClass("sp-validation-error")}function Et(){Lt();_.move(At());X.trigger("move.spectrum",[At()])}function Lt(){et.removeClass("sp-validation-error");Nt();var t=tinycolor.fromRatio({h:L,s:1,v:1});V.css("background-color",t.toHexString());var e=pt;if(O<1){if(e==="hex"||e==="hex3"||e==="hex6"||e==="name"){e="rgb"}}var i=At({format:e}),n=i.toHexString(),s=i.toRgbString();if(a||i.alpha===1){ut.css("background-color",s)}else{ut.css("background-color","transparent");ut.css("filter",i.toFilter())}if(p.showAlpha){var o=i.toRgb();o.a=0;var l=tinycolor(o).toRgbString();var h="linear-gradient(left, "+l+", "+n+")";if(r){Z.css("filter",tinycolor(l).toFilter({gradientType:1},n))}else{Z.css("background","-webkit-"+h);Z.css("background","-moz-"+h);Z.css("background","-ms-"+h);Z.css("background",h)}}if(p.showInput){et.val(i.toString(e))}if(p.showPalette){xt()}wt()}function Nt(){var t=N;var e=F;var i=t*T;var n=D-e*D;i=Math.max(-S,Math.min(T-S,i-S));n=Math.max(-S,Math.min(D-S,n-S));U.css({top:n,left:i});var s=O*A;tt.css({left:s-I/2});var r=L*M;Q.css({top:r-E})}function Ft(t){var e=At();if(at){X.val(e.toString(pt)).change()}var i=!tinycolor.equals(e,ft);ft=e;yt(e);if(t&&i){_.change(e);X.trigger("change.spectrum",[e])}}function Ot(){T=V.width();D=V.height();S=U.height();P=K.width();M=K.height();E=Q.height();A=J.width();I=tt.width();if(!m){G.css("position","absolute");G.offset(d(G,ht))}Nt()}function Ht(){X.show();ht.unbind("click.spectrum touchstart.spectrum");G.remove();lt.remove();s[jt.id]=null}function zt(t,n){if(t===i){return e.extend({},p)}if(n===i){return p[t]}p[t]=n;mt()}function Bt(){q=false;X.attr("disabled",false);ht.removeClass("sp-disabled")}function Rt(){St();q=true;X.attr("disabled",true);ht.addClass("sp-disabled")}vt();var jt={show:Dt,hide:St,toggle:Tt,reflow:Ot,option:zt,enable:Bt,disable:Rt,set:function(t){Pt(t);Ft()},get:At,destroy:Ht,container:G};jt.id=s.push(jt)-1;return jt}function d(t,i){var n=0;var s=t.outerWidth();var r=t.outerHeight();var a=i.outerHeight();var o=t[0].ownerDocument;var l=o.documentElement;var h=l.clientWidth+e(o).scrollLeft();var u=l.clientHeight+e(o).scrollTop();var c=i.offset();c.top+=a;c.left-=Math.min(c.left,c.left+s>h&&h>s?Math.abs(c.left+s-h):0);c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+a-n):n);return c}function p(){}function g(t){t.stopPropagation()}function m(t,e){var i=Array.prototype.slice;var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function v(i,n,s,a){n=n||function(){};s=s||function(){};a=a||function(){};var o=i.ownerDocument||document;var l=false;var h={};var u=0;var c=0;var f="ontouchstart"in t;var d={};d["selectstart"]=p;d["dragstart"]=p;d["touchmove mousemove"]=g;d["touchend mouseup"]=v;function p(t){if(t.stopPropagation){t.stopPropagation()}if(t.preventDefault){t.preventDefault()}t.returnValue=false}function g(t){if(l){if(r&&document.documentMode<9&&!t.button){return v()}var e=t.originalEvent.touches;var s=e?e[0].pageX:t.pageX;var a=e?e[0].pageY:t.pageY;var o=Math.max(0,Math.min(s-h.left,c));var d=Math.max(0,Math.min(a-h.top,u));if(f){p(t)}n.apply(i,[o,d,t])}}function m(t){var n=t.which?t.which==3:t.button==2;var r=t.originalEvent.touches;if(!n&&!l){if(s.apply(i,arguments)!==false){l=true;u=e(i).height();c=e(i).width();h=e(i).offset();e(o).bind(d);e(o.body).addClass("sp-dragging");if(!f){g(t)}p(t)}}}function v(){if(l){e(o).unbind(d);e(o.body).removeClass("sp-dragging");a.apply(i,arguments)}l=false}e(i).bind("touchstart mousedown",m)}function y(t,e,i){var n;return function(){var s=this,r=arguments;var a=function(){n=null;t.apply(s,r)};if(i)clearTimeout(n);if(i||!n)n=setTimeout(a,e)}}function b(){if(t.console){if(Function.prototype.bind)b=Function.prototype.bind.call(console.log,console);else b=function(){Function.prototype.apply.call(console.log,console,arguments)};b.apply(this,arguments)}}var x="spectrum.id";e.fn.spectrum=function(t,i){if(typeof t=="string"){var n=this;var r=Array.prototype.slice.call(arguments,1);this.each(function(){var i=s[e(this).data(x)];if(i){var a=i[t];if(!a){throw new Error("Spectrum: no such method: '"+t+"'")}if(t=="get"){n=i.get()}else if(t=="container"){n=i.container}else if(t=="option"){n=i.option.apply(i,r)}else if(t=="destroy"){i.destroy();e(this).removeData(x)}else{a.apply(i,r)}}});return n}return this.spectrum("destroy").each(function(){var i=f(this,t);e(this).data(x,i.id)})};e.fn.spectrum.load=true;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=v;e.fn.spectrum.defaults=n;e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){var t=e("<input type='color' value='!' />")[0];var i=t.type==="color"&&t.value!="!";if(!i){e("input[type=color]").spectrum({preferredFormat:"hex6"})}};(function(t){var e=/^[\s,#]+/,i=/\s+$/,n=0,s=Math,r=s.round,a=s.min,o=s.max,l=s.random;function h(t,e){t=t?t:"";e=e||{};if(typeof t=="object"&&t.hasOwnProperty("_tc_id")){return t}var i=u(t);var s=i.r,a=i.g,o=i.b,l=i.a,c=r(100*l)/100,d=e.format||i.format;if(s<1){s=r(s)}if(a<1){a=r(a)}if(o<1){o=r(o)}return{ok:i.ok,format:d,_tc_id:n++,alpha:l,toHsv:function(){var t=p(s,a,o);return{h:t.h*360,s:t.s,v:t.v,a:l}},toHsvString:function(){var t=p(s,a,o);var e=r(t.h*360),i=r(t.s*100),n=r(t.v*100);return l==1?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+c+")"},toHsl:function(){var t=f(s,a,o);return{h:t.h*360,s:t.s,l:t.l,a:l}},toHslString:function(){var t=f(s,a,o);var e=r(t.h*360),i=r(t.s*100),n=r(t.l*100);return l==1?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+c+")"},toHex:function(t){return m(s,a,o,t)},toHexString:function(t){return"#"+m(s,a,o,t)},toRgb:function(){return{r:r(s),g:r(a),b:r(o),a:l}},toRgbString:function(){return l==1?"rgb("+r(s)+", "+r(a)+", "+r(o)+")":"rgba("+r(s)+", "+r(a)+", "+r(o)+", "+c+")"},toPercentageRgb:function(){return{r:r(x(s,255)*100)+"%",g:r(x(a,255)*100)+"%",b:r(x(o,255)*100)+"%",a:l}},toPercentageRgbString:function(){return l==1?"rgb("+r(x(s,255)*100)+"%, "+r(x(a,255)*100)+"%, "+r(x(o,255)*100)+"%)":"rgba("+r(x(s,255)*100)+"%, "+r(x(a,255)*100)+"%, "+r(x(o,255)*100)+"%, "+c+")"},toName:function(){return y[m(s,a,o,true)]||false},toFilter:function(t){var i=m(s,a,o);var n=i;var r=Math.round(parseFloat(l)*255).toString(16);var u=r;var c=e&&e.gradientType?"GradientType = 1, ":"";if(t){var f=h(t);n=f.toHex();u=Math.round(parseFloat(f.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr=#"+T(r)+i+",endColorstr=#"+T(u)+n+")"},toString:function(t){t=t||this.format;var e=false;if(t==="rgb"){e=this.toRgbString()}if(t==="prgb"){e=this.toPercentageRgbString()}if(t==="hex"||t==="hex6"){e=this.toHexString()}if(t==="hex3"){e=this.toHexString(true)}if(t==="name"){e=this.toName()}if(t==="hsl"){e=this.toHslString()}if(t==="hsv"){e=this.toHsvString()}return e||this.toHexString()}}}h.fromRatio=function(t,e){if(typeof t=="object"){var i={};for(var n in t){if(t.hasOwnProperty(n)){if(n==="a"){i[n]=t[n]}else{i[n]=D(t[n])}}}t=i}return h(t,e)};function u(t){var e={r:0,g:0,b:0};var i=1;var n=false;var s=false;if(typeof t=="string"){t=M(t)}if(typeof t=="object"){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")){e=c(t.r,t.g,t.b);n=true;s=String(t.r).substr(-1)==="%"?"prgb":"rgb"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")){t.s=D(t.s);t.v=D(t.v);e=g(t.h,t.s,t.v);n=true;s="hsv"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){t.s=D(t.s);t.l=D(t.l);e=d(t.h,t.s,t.l);n=true;s="hsl"}if(t.hasOwnProperty("a")){i=t.a}}i=parseFloat(i);if(isNaN(i)||i<0||i>1){i=1}return{ok:n,format:t.format||s,r:a(255,o(e.r,0)),g:a(255,o(e.g,0)),b:a(255,o(e.b,0)),a:i}}function c(t,e,i){return{r:x(t,255)*255,g:x(e,255)*255,b:x(i,255)*255}}function f(t,e,i){t=x(t,255);e=x(e,255);i=x(i,255);var n=o(t,e,i),s=a(t,e,i);var r,l,h=(n+s)/2;if(n==s){r=l=0}else{var u=n-s;l=h>.5?u/(2-n-s):u/(n+s);switch(n){case t:r=(e-i)/u+(e<i?6:0);break;case e:r=(i-t)/u+2;break;case i:r=(t-e)/u+4;break}r/=6}return{h:r,s:l,l:h}}function d(t,e,i){var n,s,r;t=x(t,360);e=x(e,100);i=x(i,100);function a(t,e,i){if(i<0)i+=1;if(i>1)i-=1;if(i<1/6)return t+(e-t)*6*i;if(i<1/2)return e;if(i<2/3)return t+(e-t)*(2/3-i)*6;return t}if(e===0){n=s=r=i}else{var o=i<.5?i*(1+e):i+e-i*e;var l=2*i-o;n=a(l,o,t+1/3);s=a(l,o,t);r=a(l,o,t-1/3)}return{r:n*255,g:s*255,b:r*255}}function p(t,e,i){t=x(t,255);e=x(e,255);i=x(i,255);var n=o(t,e,i),s=a(t,e,i);var r,l,h=n;var u=n-s;l=n===0?0:u/n;if(n==s){r=0}else{switch(n){case t:r=(e-i)/u+(e<i?6:0);break;case e:r=(i-t)/u+2;break;case i:r=(t-e)/u+4;break}r/=6}return{h:r,s:l,v:h}}function g(t,e,i){t=x(t,360)*6;e=x(e,100);i=x(i,100);var n=s.floor(t),r=t-n,a=i*(1-e),o=i*(1-r*e),l=i*(1-(1-r)*e),h=n%6,u=[i,o,a,a,l,i][h],c=[l,i,i,o,a,a][h],f=[a,a,l,i,i,o][h];return{r:u*255,g:c*255,b:f*255}}function m(t,e,i,n){var s=[T(r(t).toString(16)),T(r(e).toString(16)),T(r(i).toString(16))];if(n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)){return s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)}return s.join("")}h.equals=function(t,e){if(!t||!e){return false}return h(t).toRgbString()==h(e).toRgbString()};h.random=function(){return h.fromRatio({r:l(),g:l(),b:l()})};h.desaturate=function(t,e){var i=h(t).toHsl();i.s-=(e||10)/100;i.s=w(i.s);return h(i)};h.saturate=function(t,e){var i=h(t).toHsl();i.s+=(e||10)/100;i.s=w(i.s);return h(i)};h.greyscale=function(t){return h.desaturate(t,100)};h.lighten=function(t,e){var i=h(t).toHsl();i.l+=(e||10)/100;i.l=w(i.l);return h(i)};h.darken=function(t,e){var i=h(t).toHsl();i.l-=(e||10)/100;i.l=w(i.l);return h(i)};h.complement=function(t){var e=h(t).toHsl();e.h=(e.h+180)%360;return h(e)};h.triad=function(t){var e=h(t).toHsl();var i=e.h;return[h(t),h({h:(i+120)%360,s:e.s,l:e.l}),h({h:(i+240)%360,s:e.s,l:e.l})]};h.tetrad=function(t){var e=h(t).toHsl();var i=e.h;return[h(t),h({h:(i+90)%360,s:e.s,l:e.l}),h({h:(i+180)%360,s:e.s,l:e.l}),h({h:(i+270)%360,s:e.s,l:e.l})]};h.splitcomplement=function(t){var e=h(t).toHsl();var i=e.h;return[h(t),h({h:(i+72)%360,s:e.s,l:e.l}),h({h:(i+216)%360,s:e.s,l:e.l})]};h.analogous=function(t,e,i){e=e||6;i=i||30;var n=h(t).toHsl();var s=360/i;var r=[h(t)];for(n.h=(n.h-(s*e>>1)+720)%360;--e;){n.h=(n.h+s)%360;r.push(h(n))}return r};h.monochromatic=function(t,e){e=e||6;var i=h(t).toHsv();var n=i.h,s=i.s,r=i.v;var a=[];var o=1/e;while(e--){a.push(h({h:n,s:s,v:r}));r=(r+o)%1}return a};h.readability=function(t,e){var i=h(t).toRgb();var n=h(e).toRgb();var s=(i.r*299+i.g*587+i.b*114)/1e3;var r=(n.r*299+n.g*587+n.b*114)/1e3;var a=Math.max(i.r,n.r)-Math.min(i.r,n.r)+Math.max(i.g,n.g)-Math.min(i.g,n.g)+Math.max(i.b,n.b)-Math.min(i.b,n.b);return{brightness:Math.abs(s-r),color:a}};h.readable=function(t,e){var i=h.readability(t,e);return i.brightness>125&&i.color>500};h.mostReadable=function(t,e){var i=null;var n=0;var s=false;for(var r=0;r<e.length;r++){var a=h.readability(t,e[r]);var o=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(o&&!s||o&&s&&l>n||!o&&!s&&l>n){s=o;n=l;i=h(e[r])}}return i};var v=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var y=h.hexNames=b(v);function b(t){var e={};for(var i in t){if(t.hasOwnProperty(i)){e[t[i]]=i}}return e}function x(t,e){if(k(t)){t="100%"}var i=C(t);t=a(e,o(0,parseFloat(t)));if(i){t=parseInt(t*e,10)/100}if(s.abs(t-e)<1e-6){return 1}return t%e/parseFloat(e)}function w(t){return a(1,o(0,t))}function _(t){return parseInt(t,16)}function k(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function C(t){return typeof t==="string"&&t.indexOf("%")!=-1}function T(t){return t.length==1?"0"+t:""+t}function D(t){if(t<=1){t=t*100+"%"}return t}var S=function(){var t="[-\\+]?\\d+%?";var e="[-\\+]?\\d*\\.\\d+%?";var i="(?:"+e+")|(?:"+t+")";var n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";var s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function M(t){t=t.replace(e,"").replace(i,"").toLowerCase();var n=false;if(v[t]){t=v[t];n=true}else if(t=="transparent"){return{r:0,g:0,b:0,a:0}}var s;if(s=S.rgb.exec(t)){return{r:s[1],g:s[2],b:s[3]}}if(s=S.rgba.exec(t)){return{r:s[1],g:s[2],b:s[3],a:s[4]}}if(s=S.hsl.exec(t)){return{h:s[1],s:s[2],l:s[3]}}if(s=S.hsla.exec(t)){return{h:s[1],s:s[2],l:s[3],a:s[4]}}if(s=S.hsv.exec(t)){return{h:s[1],s:s[2],v:s[3]}}if(s=S.hex6.exec(t)){return{r:_(s[1]),g:_(s[2]),b:_(s[3]),format:n?"name":"hex"}}if(s=S.hex3.exec(t)){return{r:_(s[1]+""+s[1]),g:_(s[2]+""+s[2]),b:_(s[3]+""+s[3]),format:n?"name":"hex"}}return false}t.tinycolor=h})(this);e(function(){if(e.fn.spectrum.load){e.fn.spectrum.processNativeColorInputs()}})})(window,jQuery);(function(){var t=this;var e=t._;var i={};var n=Array.prototype,s=Object.prototype,r=Function.prototype;var a=n.push,o=n.slice,l=n.concat,h=s.toString,u=s.hasOwnProperty;var c=n.forEach,f=n.map,d=n.reduce,p=n.reduceRight,g=n.filter,m=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,x=Array.isArray,w=Object.keys,_=r.bind;var k=function(t){if(t instanceof k)return t;if(!(this instanceof k))return new k(t);this._wrapped=t};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=k}exports._=k}else{t._=k}k.VERSION="1.4.4";var C=k.each=k.forEach=function(t,e,n){if(t==null)return;if(c&&t.forEach===c){t.forEach(e,n)}else if(t.length===+t.length){for(var s=0,r=t.length;s<r;s++){if(e.call(n,t[s],s,t)===i)return}}else{for(var a in t){if(k.has(t,a)){if(e.call(n,t[a],a,t)===i)return}}}};k.map=k.collect=function(t,e,i){var n=[];if(t==null)return n;if(f&&t.map===f)return t.map(e,i);C(t,function(t,s,r){n[n.length]=e.call(i,t,s,r)});return n};var T="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,i,n){var s=arguments.length>2;if(t==null)t=[];if(d&&t.reduce===d){if(n)e=k.bind(e,n);return s?t.reduce(e,i):t.reduce(e)}C(t,function(t,r,a){if(!s){i=t;s=true}else{i=e.call(n,i,t,r,a)}});if(!s)throw new TypeError(T);return i};k.reduceRight=k.foldr=function(t,e,i,n){var s=arguments.length>2;if(t==null)t=[];if(p&&t.reduceRight===p){if(n)e=k.bind(e,n);return s?t.reduceRight(e,i):t.reduceRight(e)}var r=t.length;if(r!==+r){var a=k.keys(t);r=a.length}C(t,function(o,l,h){l=a?a[--r]:--r;if(!s){i=t[l];s=true}else{i=e.call(n,i,t[l],l,h)}});if(!s)throw new TypeError(T);return i};k.find=k.detect=function(t,e,i){var n;D(t,function(t,s,r){if(e.call(i,t,s,r)){n=t;return true}});return n};k.filter=k.select=function(t,e,i){var n=[];if(t==null)return n;if(g&&t.filter===g)return t.filter(e,i);C(t,function(t,s,r){if(e.call(i,t,s,r))n[n.length]=t});return n};k.reject=function(t,e,i){return k.filter(t,function(t,n,s){return!e.call(i,t,n,s)},i)};k.every=k.all=function(t,e,n){e||(e=k.identity);var s=true;if(t==null)return s;if(m&&t.every===m)return t.every(e,n);C(t,function(t,r,a){if(!(s=s&&e.call(n,t,r,a)))return i});return!!s};var D=k.some=k.any=function(t,e,n){e||(e=k.identity);var s=false;if(t==null)return s;if(v&&t.some===v)return t.some(e,n);C(t,function(t,r,a){if(s||(s=e.call(n,t,r,a)))return i});return!!s};k.contains=k.include=function(t,e){if(t==null)return false;
if(y&&t.indexOf===y)return t.indexOf(e)!=-1;return D(t,function(t){return t===e})};k.invoke=function(t,e){var i=o.call(arguments,2);var n=k.isFunction(e);return k.map(t,function(t){return(n?e:t[e]).apply(t,i)})};k.pluck=function(t,e){return k.map(t,function(t){return t[e]})};k.where=function(t,e,i){if(k.isEmpty(e))return i?null:[];return k[i?"find":"filter"](t,function(t){for(var i in e){if(e[i]!==t[i])return false}return true})};k.findWhere=function(t,e){return k.where(t,e,true)};k.max=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535){return Math.max.apply(Math,t)}if(!e&&k.isEmpty(t))return-Infinity;var n={computed:-Infinity,value:-Infinity};C(t,function(t,s,r){var a=e?e.call(i,t,s,r):t;a>=n.computed&&(n={value:t,computed:a})});return n.value};k.min=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535){return Math.min.apply(Math,t)}if(!e&&k.isEmpty(t))return Infinity;var n={computed:Infinity,value:Infinity};C(t,function(t,s,r){var a=e?e.call(i,t,s,r):t;a<n.computed&&(n={value:t,computed:a})});return n.value};k.shuffle=function(t){var e;var i=0;var n=[];C(t,function(t){e=k.random(i++);n[i-1]=n[e];n[e]=t});return n};var S=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,i){var n=S(e);return k.pluck(k.map(t,function(t,e,s){return{value:t,index:e,criteria:n.call(i,t,e,s)}}).sort(function(t,e){var i=t.criteria;var n=e.criteria;if(i!==n){if(i>n||i===void 0)return 1;if(i<n||n===void 0)return-1}return t.index<e.index?-1:1}),"value")};var M=function(t,e,i,n){var s={};var r=S(e||k.identity);C(t,function(e,a){var o=r.call(i,e,a,t);n(s,o,e)});return s};k.groupBy=function(t,e,i){return M(t,e,i,function(t,e,i){(k.has(t,e)?t[e]:t[e]=[]).push(i)})};k.countBy=function(t,e,i){return M(t,e,i,function(t,e){if(!k.has(t,e))t[e]=0;t[e]++})};k.sortedIndex=function(t,e,i,n){i=i==null?k.identity:S(i);var s=i.call(n,e);var r=0,a=t.length;while(r<a){var o=r+a>>>1;i.call(n,t[o])<s?r=o+1:a=o}return r};k.toArray=function(t){if(!t)return[];if(k.isArray(t))return o.call(t);if(t.length===+t.length)return k.map(t,k.identity);return k.values(t)};k.size=function(t){if(t==null)return 0;return t.length===+t.length?t.length:k.keys(t).length};k.first=k.head=k.take=function(t,e,i){if(t==null)return void 0;return e!=null&&!i?o.call(t,0,e):t[0]};k.initial=function(t,e,i){return o.call(t,0,t.length-(e==null||i?1:e))};k.last=function(t,e,i){if(t==null)return void 0;if(e!=null&&!i){return o.call(t,Math.max(t.length-e,0))}else{return t[t.length-1]}};k.rest=k.tail=k.drop=function(t,e,i){return o.call(t,e==null||i?1:e)};k.compact=function(t){return k.filter(t,k.identity)};var P=function(t,e,i){C(t,function(t){if(k.isArray(t)){e?a.apply(i,t):P(t,e,i)}else{i.push(t)}});return i};k.flatten=function(t,e){return P(t,e,[])};k.without=function(t){return k.difference(t,o.call(arguments,1))};k.uniq=k.unique=function(t,e,i,n){if(k.isFunction(e)){n=i;i=e;e=false}var s=i?k.map(t,i,n):t;var r=[];var a=[];C(s,function(i,n){if(e?!n||a[a.length-1]!==i:!k.contains(a,i)){a.push(i);r.push(t[n])}});return r};k.union=function(){return k.uniq(l.apply(n,arguments))};k.intersection=function(t){var e=o.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})};k.difference=function(t){var e=l.apply(n,o.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})};k.zip=function(){var t=o.call(arguments);var e=k.max(k.pluck(t,"length"));var i=new Array(e);for(var n=0;n<e;n++){i[n]=k.pluck(t,""+n)}return i};k.object=function(t,e){if(t==null)return{};var i={};for(var n=0,s=t.length;n<s;n++){if(e){i[t[n]]=e[n]}else{i[t[n][0]]=t[n][1]}}return i};k.indexOf=function(t,e,i){if(t==null)return-1;var n=0,s=t.length;if(i){if(typeof i=="number"){n=i<0?Math.max(0,s+i):i}else{n=k.sortedIndex(t,e);return t[n]===e?n:-1}}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;n<s;n++)if(t[n]===e)return n;return-1};k.lastIndexOf=function(t,e,i){if(t==null)return-1;var n=i!=null;if(b&&t.lastIndexOf===b){return n?t.lastIndexOf(e,i):t.lastIndexOf(e)}var s=n?i:t.length;while(s--)if(t[s]===e)return s;return-1};k.range=function(t,e,i){if(arguments.length<=1){e=t||0;t=0}i=arguments[2]||1;var n=Math.max(Math.ceil((e-t)/i),0);var s=0;var r=new Array(n);while(s<n){r[s++]=t;t+=i}return r};k.bind=function(t,e){if(t.bind===_&&_)return _.apply(t,o.call(arguments,1));var i=o.call(arguments,2);return function(){return t.apply(e,i.concat(o.call(arguments)))}};k.partial=function(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}};k.bindAll=function(t){var e=o.call(arguments,1);if(e.length===0)e=k.functions(t);C(e,function(e){t[e]=k.bind(t[e],t)});return t};k.memoize=function(t,e){var i={};e||(e=k.identity);return function(){var n=e.apply(this,arguments);return k.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}};k.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)};k.defer=function(t){return k.delay.apply(k,[t,1].concat(o.call(arguments,1)))};k.throttle=function(t,e){var i,n,s,r;var a=0;var o=function(){a=new Date;s=null;r=t.apply(i,n)};return function(){var l=new Date;var h=e-(l-a);i=this;n=arguments;if(h<=0){clearTimeout(s);s=null;a=l;r=t.apply(i,n)}else if(!s){s=setTimeout(o,h)}return r}};k.debounce=function(t,e,i){var n,s;return function(){var r=this,a=arguments;var o=function(){n=null;if(!i)s=t.apply(r,a)};var l=i&&!n;clearTimeout(n);n=setTimeout(o,e);if(l)s=t.apply(r,a);return s}};k.once=function(t){var e=false,i;return function(){if(e)return i;e=true;i=t.apply(this,arguments);t=null;return i}};k.wrap=function(t,e){return function(){var i=[t];a.apply(i,arguments);return e.apply(this,i)}};k.compose=function(){var t=arguments;return function(){var e=arguments;for(var i=t.length-1;i>=0;i--){e=[t[i].apply(this,e)]}return e[0]}};k.after=function(t,e){if(t<=0)return e();return function(){if(--t<1){return e.apply(this,arguments)}}};k.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)if(k.has(t,i))e[e.length]=i;return e};k.values=function(t){var e=[];for(var i in t)if(k.has(t,i))e.push(t[i]);return e};k.pairs=function(t){var e=[];for(var i in t)if(k.has(t,i))e.push([i,t[i]]);return e};k.invert=function(t){var e={};for(var i in t)if(k.has(t,i))e[t[i]]=i;return e};k.functions=k.methods=function(t){var e=[];for(var i in t){if(k.isFunction(t[i]))e.push(i)}return e.sort()};k.extend=function(t){C(o.call(arguments,1),function(e){if(e){for(var i in e){t[i]=e[i]}}});return t};k.pick=function(t){var e={};var i=l.apply(n,o.call(arguments,1));C(i,function(i){if(i in t)e[i]=t[i]});return e};k.omit=function(t){var e={};var i=l.apply(n,o.call(arguments,1));for(var s in t){if(!k.contains(i,s))e[s]=t[s]}return e};k.defaults=function(t){C(o.call(arguments,1),function(e){if(e){for(var i in e){if(t[i]==null)t[i]=e[i]}}});return t};k.clone=function(t){if(!k.isObject(t))return t;return k.isArray(t)?t.slice():k.extend({},t)};k.tap=function(t,e){e(t);return t};var A=function(t,e,i,n){if(t===e)return t!==0||1/t==1/e;if(t==null||e==null)return t===e;if(t instanceof k)t=t._wrapped;if(e instanceof k)e=e._wrapped;var s=h.call(t);if(s!=h.call(e))return false;switch(s){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:t==0?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if(typeof t!="object"||typeof e!="object")return false;var r=i.length;while(r--){if(i[r]==t)return n[r]==e}i.push(t);n.push(e);var a=0,o=true;if(s=="[object Array]"){a=t.length;o=a==e.length;if(o){while(a--){if(!(o=A(t[a],e[a],i,n)))break}}}else{var l=t.constructor,u=e.constructor;if(l!==u&&!(k.isFunction(l)&&l instanceof l&&k.isFunction(u)&&u instanceof u)){return false}for(var c in t){if(k.has(t,c)){a++;if(!(o=k.has(e,c)&&A(t[c],e[c],i,n)))break}}if(o){for(c in e){if(k.has(e,c)&&!a--)break}o=!a}}i.pop();n.pop();return o};k.isEqual=function(t,e){return A(t,e,[],[])};k.isEmpty=function(t){if(t==null)return true;if(k.isArray(t)||k.isString(t))return t.length===0;for(var e in t)if(k.has(t,e))return false;return true};k.isElement=function(t){return!!(t&&t.nodeType===1)};k.isArray=x||function(t){return h.call(t)=="[object Array]"};k.isObject=function(t){return t===Object(t)};C(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}});if(!k.isArguments(arguments)){k.isArguments=function(t){return!!(t&&k.has(t,"callee"))}}if(typeof/./!=="function"){k.isFunction=function(t){return typeof t==="function"}}k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))};k.isNaN=function(t){return k.isNumber(t)&&t!=+t};k.isBoolean=function(t){return t===true||t===false||h.call(t)=="[object Boolean]"};k.isNull=function(t){return t===null};k.isUndefined=function(t){return t===void 0};k.has=function(t,e){return u.call(t,e)};k.noConflict=function(){t._=e;return this};k.identity=function(t){return t};k.times=function(t,e,i){var n=Array(t);for(var s=0;s<t;s++)n[s]=e.call(i,s);return n};k.random=function(t,e){if(e==null){e=t;t=0}return t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=k.invert(I.escape);var E={escape:new RegExp("["+k.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(I.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){if(e==null)return"";return(""+e).replace(E[t],function(e){return I[t][e]})}});k.result=function(t,e){if(t==null)return null;var i=t[e];return k.isFunction(i)?i.call(t):i};k.mixin=function(t){C(k.functions(t),function(e){var i=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];a.apply(t,arguments);return H.call(this,i.apply(k,t))}})};var L=0;k.uniqueId=function(t){var e=++L+"";return t?t+e:e};k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/;var F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var O=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,i){var n;i=k.defaults({},i,k.templateSettings);var s=new RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g");var r=0;var a="__p+='";t.replace(s,function(e,i,n,s,o){a+=t.slice(r,o).replace(O,function(t){return"\\"+F[t]});if(i){a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"}if(n){a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"}if(s){a+="';\n"+s+"\n__p+='"}r=o+e.length;return e});a+="';\n";if(!i.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(o){o.source=a;throw o}if(e)return n(e,k);var l=function(t){return n.call(this,t,k)};l.source="function("+(i.variable||"obj")+"){\n"+a+"}";return l};k.chain=function(t){return k(t).chain()};var H=function(t){return this._chain?k(t).chain():t};k.mixin(k);C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];k.prototype[t]=function(){var i=this._wrapped;e.apply(i,arguments);if((t=="shift"||t=="splice")&&i.length===0)delete i[0];return H.call(this,i)}});C(["concat","join","slice"],function(t){var e=n[t];k.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}});k.extend(k.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var t=this;var e=t.Backbone;var i=[];var n=i.push;var s=i.slice;var r=i.splice;var a;if(typeof exports!=="undefined"){a=exports}else{a=t.Backbone={}}a.VERSION="1.0.0";var o=t._;if(!o&&typeof require!=="undefined")o=require("underscore");a.$=t.jQuery||t.Zepto||t.ender||t.$;a.noConflict=function(){t.Backbone=e;return this};a.emulateHTTP=false;a.emulateJSON=false;var l=a.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);n.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var n=this;var s=o.once(function(){n.off(t,s);e.apply(this,arguments)});s._callback=e;return this.on(t,s,i)},off:function(t,e,i){var n,s,r,a,l,h,c,f;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i){this._events={};return this}a=t?[t]:o.keys(this._events);for(l=0,h=a.length;l<h;l++){t=a[l];if(r=this._events[t]){this._events[t]=n=[];if(e||i){for(c=0,f=r.length;c<f;c++){s=r[c];if(e&&e!==s.callback&&e!==s.callback._callback||i&&i!==s.context){n.push(s)}}}if(!n.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t];var n=this._events.all;if(i)c(i,e);if(n)c(n,arguments);return this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var s=!e&&!i;if(typeof e==="object")i=this;if(t)(n={})[t._listenerId]=t;for(var r in n){n[r].off(e,i,this);if(s)delete this._listeners[r]}return this}};var h=/\s+/;var u=function(t,e,i,n){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(n))}return false}if(h.test(i)){var r=i.split(h);for(var a=0,o=r.length;a<o;a++){t[e].apply(t,[r[a]].concat(n))}return false}return true};var c=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++n<s)(i=t[n]).callback.call(i.ctx);return;case 1:while(++n<s)(i=t[n]).callback.call(i.ctx,r);return;case 2:while(++n<s)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:while(++n<s)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:while(++n<s)(i=t[n]).callback.apply(i.ctx,e)}};var f={listenTo:"on",listenToOnce:"once"};o.each(f,function(t,e){l[e]=function(e,i,n){var s=this._listeners||(this._listeners={});var r=e._listenerId||(e._listenerId=o.uniqueId("l"));s[r]=e;if(typeof i==="object")n=this;e[t](i,n,this);return this}});l.bind=l.on;l.unbind=l.off;o.extend(a,l);var d=a.Model=function(t,e){var i;var n=t||{};e||(e={});this.cid=o.uniqueId("c");this.attributes={};o.extend(this,o.pick(e,p));if(e.parse)n=this.parse(n,e)||{};if(i=o.result(this,"defaults")){n=o.defaults({},n,i)}this.set(n,e);this.changed={};this.initialize.apply(this,arguments)};var p=["url","urlRoot","collection"];o.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,i){var n,s,r,a,l,h,u,c;if(t==null)return this;if(typeof t==="object"){s=t;i=e}else{(s={})[t]=e}i||(i={});if(!this._validate(s,i))return false;r=i.unset;l=i.silent;a=[];h=this._changing;this._changing=true;if(!h){this._previousAttributes=o.clone(this.attributes);this.changed={}}c=this.attributes,u=this._previousAttributes;if(this.idAttribute in s)this.id=s[this.idAttribute];for(n in s){e=s[n];if(!o.isEqual(c[n],e))a.push(n);if(!o.isEqual(u[n],e)){this.changed[n]=e}else{delete this.changed[n]}r?delete c[n]:c[n]=e}if(!l){if(a.length)this._pending=true;for(var f=0,d=a.length;f<d;f++){this.trigger("change:"+a[f],this,c[a[f]],i)}}if(h)return this;if(!l){while(this._pending){this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:true}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,o.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!o.isEmpty(this.changed);return o.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):false;var e,i=false;var n=this._changing?this._previousAttributes:this.attributes;for(var s in t){if(o.isEqual(n[s],e=t[s]))continue;(i||(i={}))[s]=e}return i},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){t=t?o.clone(t):{};if(t.parse===void 0)t.parse=true;var e=this;var i=t.success;t.success=function(n){if(!e.set(e.parse(n,t),t))return false;if(i)i(e,n,t);e.trigger("sync",e,n,t)};H(this,t);return this.sync("read",this,t)},save:function(t,e,i){var n,s,r,a=this.attributes;if(t==null||typeof t==="object"){n=t;i=e}else{(n={})[t]=e}if(n&&(!i||!i.wait)&&!this.set(n,i))return false;i=o.extend({validate:true},i);if(!this._validate(n,i))return false;if(n&&i.wait){this.attributes=o.extend({},a,n)}if(i.parse===void 0)i.parse=true;var l=this;var h=i.success;i.success=function(t){l.attributes=a;var e=l.parse(t,i);if(i.wait)e=o.extend(n||{},e);if(o.isObject(e)&&!l.set(e,i)){return false}if(h)h(l,t,i);l.trigger("sync",l,t,i)};H(this,i);s=this.isNew()?"create":i.patch?"patch":"update";if(s==="patch")i.attrs=n;r=this.sync(s,this,i);if(n&&i.wait)this.attributes=a;return r},destroy:function(t){t=t?o.clone(t):{};var e=this;var i=t.success;var n=function(){e.trigger("destroy",e,e.collection,t)};t.success=function(s){if(t.wait||e.isNew())n();if(i)i(e,s,t);if(!e.isNew())e.trigger("sync",e,s,t)};if(this.isNew()){t.success();return false}H(this,t);var s=this.sync("delete",this,t);if(!t.wait)n();return s},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||O();if(this.isNew())return t;return t+(t.charAt(t.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(t){return this._validate({},o.extend(t||{},{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=o.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;if(!i)return true;this.trigger("invalid",this,i,o.extend(e||{},{validationError:i}));return false}});var g=["keys","values","pairs","invert","pick","omit"];o.each(g,function(t){d.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.attributes);return o[t].apply(o,e)}});var m=a.Collection=function(t,e){e||(e={});if(e.url)this.url=e.url;if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,o.extend({silent:true},e))};var v={add:true,remove:true,merge:true};var y={add:true,merge:false,remove:false};o.extend(m.prototype,l,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return a.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.defaults(e||{},y))},remove:function(t,e){t=o.isArray(t)?t.slice():[t];e||(e={});var i,n,s,r;for(i=0,n=t.length;i<n;i++){r=this.get(t[i]);if(!r)continue;delete this._byId[r.id];delete this._byId[r.cid];s=this.indexOf(r);this.models.splice(s,1);this.length--;if(!e.silent){e.index=s;r.trigger("remove",r,this,e)}this._removeReference(r)}return this},set:function(t,e){e=o.defaults(e||{},v);if(e.parse)t=this.parse(t,e);if(!o.isArray(t))t=t?[t]:[];var i,s,a,l,h,u;var c=e.at;var f=this.comparator&&c==null&&e.sort!==false;var d=o.isString(this.comparator)?this.comparator:null;var p=[],g=[],m={};for(i=0,s=t.length;i<s;i++){if(!(a=this._prepareModel(t[i],e)))continue;if(h=this.get(a)){if(e.remove)m[h.cid]=true;if(e.merge){h.set(a.attributes,e);if(f&&!u&&h.hasChanged(d))u=true}}else if(e.add){p.push(a);a.on("all",this._onModelEvent,this);this._byId[a.cid]=a;if(a.id!=null)this._byId[a.id]=a}}if(e.remove){for(i=0,s=this.length;i<s;++i){if(!m[(a=this.models[i]).cid])g.push(a)}if(g.length)this.remove(g,e)}if(p.length){if(f)u=true;this.length+=p.length;if(c!=null){r.apply(this.models,[c,0].concat(p))}else{n.apply(this.models,p)}}if(u)this.sort({silent:true});if(e.silent)return this;for(i=0,s=p.length;i<s;i++){(a=p[i]).trigger("add",a,this,e)}if(u)this.trigger("sort",this,e);return this},reset:function(t,e){e||(e={});for(var i=0,n=this.models.length;i<n;i++){this._removeReference(this.models[i])}e.previousModels=this.models;this._reset();this.add(t,o.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return this},push:function(t,e){t=this._prepareModel(t,e);this.add(t,o.extend({at:this.length},e));return t},pop:function(t){var e=this.at(this.length-1);this.remove(e,t);return e},unshift:function(t,e){t=this._prepareModel(t,e);this.add(t,o.extend({at:0},e));return t},shift:function(t){var e=this.at(0);this.remove(e,t);return e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(t==null)return void 0;return this._byId[t.id!=null?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){if(o.isEmpty(t))return e?void 0:[];return this[e?"find":"filter"](function(e){for(var i in t){if(t[i]!==e.get(i))return false}return true})},findWhere:function(t){return this.where(t,true)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");t||(t={});if(o.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(o.bind(this.comparator,this))}if(!t.silent)this.trigger("sort",this,t);return this},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=o.isFunction(e)?e:function(t){return t.get(e)};return o.sortedIndex(this.models,t,n,i)},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){t=t?o.clone(t):{};if(t.parse===void 0)t.parse=true;var e=t.success;var i=this;t.success=function(n){var s=t.reset?"reset":"set";i[s](n,t);if(e)e(i,n,t);i.trigger("sync",i,n,t)};H(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?o.clone(e):{};if(!(t=this._prepareModel(t,e)))return false;if(!e.wait)this.add(t,e);var i=this;var n=e.success;e.success=function(s){if(e.wait)i.add(t,e);if(n)n(t,s,e)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(t instanceof d){if(!t.collection)t.collection=this;return t}e||(e={});e.collection=this;var i=new this.model(t,e);if(!i._validate(t,e)){this.trigger("invalid",this,t,e);return false}return i},_removeReference:function(t){if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,n);if(e&&t==="change:"+e.idAttribute){delete this._byId[e.previous(e.idAttribute)];if(e.id!=null)this._byId[e.id]=e}this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(b,function(t){m.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.models);return o[t].apply(o,e)}});var x=["groupBy","countBy","sortBy"];o.each(x,function(t){m.prototype[t]=function(e,i){var n=o.isFunction(e)?e:function(t){return t.get(e)};return o[t](this.models,n,i)}});var w=a.View=function(t){this.cid=o.uniqueId("view");this._configure(t||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var _=/^(\S+)\s*(.*)$/;var k=["model","collection","el","id","attributes","className","tagName","events"];o.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(t,e){if(this.$el)this.undelegateEvents();this.$el=t instanceof a.$?t:a.$(t);this.el=this.$el[0];if(e!==false)this.delegateEvents();return this},delegateEvents:function(t){if(!(t||(t=o.result(this,"events"))))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(!o.isFunction(i))i=this[t[e]];if(!i)continue;var n=e.match(_);var s=n[1],r=n[2];i=o.bind(i,this);s+=".delegateEvents"+this.cid;if(r===""){this.$el.on(s,i)}else{this.$el.on(s,r,i)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(t){if(this.options)t=o.extend({},o.result(this,"options"),t);o.extend(this,o.pick(t,k));this.options=t},_ensureElement:function(){if(!this.el){var t=o.extend({},o.result(this,"attributes"));if(this.id)t.id=o.result(this,"id");if(this.className)t["class"]=o.result(this,"className");var e=a.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(e,false)}else{this.setElement(o.result(this,"el"),false)}}});a.sync=function(t,e,i){var n=C[t];o.defaults(i||(i={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var s={type:n,dataType:"json"};if(!i.url){s.url=o.result(e,"url")||O()}if(i.data==null&&e&&(t==="create"||t==="update"||t==="patch")){s.contentType="application/json";s.data=JSON.stringify(i.attrs||e.toJSON(i))}if(i.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(i.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){s.type="POST";if(i.emulateJSON)s.data._method=n;var r=i.beforeSend;i.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n);if(r)return r.apply(this,arguments)}}if(s.type!=="GET"&&!i.emulateJSON){s.processData=false}if(s.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=i.xhr=a.ajax(o.extend(s,i));e.trigger("request",e,l,i);return l};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var T=a.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var D=/\((.*?)\)/g;var S=/(\(\?)?:\w+/g;var M=/\*\w+/g;var P=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(T.prototype,l,{initialize:function(){},route:function(t,e,i){if(!o.isRegExp(t))t=this._routeToRegExp(t);if(o.isFunction(e)){i=e;e=""}if(!i)i=this[e];var n=this;a.history.route(t,function(s){var r=n._extractParameters(t,s);i&&i.apply(n,r);n.trigger.apply(n,["route:"+e].concat(r));n.trigger("route",e,r);a.history.trigger("route",n,e,r)});return this},navigate:function(t,e){a.history.navigate(t,e);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=o.result(this,"routes");var t,e=o.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(P,"\\$&").replace(D,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/]+)"}).replace(M,"(.*?)");return new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return o.map(i,function(t){return t?decodeURIComponent(t):null})}});var A=a.History=function(){this.handlers=[];o.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var I=/^[#\/]|\s+$/g;var E=/^\/+|\/+$/g;var L=/msie [\w.]+/;var N=/\/$/;A.started=false;o.extend(A.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null){if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(N,"");if(!t.indexOf(i))t=t.substr(i.length)}else{t=this.getHash()}}return t.replace(I,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=true;this.options=o.extend({},{root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment();var i=document.documentMode;var n=L.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(E,"/");if(n&&this._wantsHashChange){this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(e)}if(this._hasPushState){a.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!n){a.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=e;var s=this.location;var r=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&r&&s.hash){this.fragment=this.getHash().replace(I,"");this.history.replaceState({},document.title,this.root+this.fragment+s.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);A.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getFragment(this.getHash(this.iframe))}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);var i=o.any(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}});return i},navigate:function(t,e){if(!A.started)return false;if(!e||e===true)e={trigger:e};t=this.getFragment(t||"");if(this.fragment===t)return;this.fragment=t;var i=this.root+t;if(this._hasPushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe))){if(!e.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,t,e.replace)}}else{return this.location.assign(i)}if(e.trigger)this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else{t.hash="#"+e}}});a.history=new A;var F=function(t,e){var i=this;var n;if(t&&o.has(t,"constructor")){n=t.constructor}else{n=function(){return i.apply(this,arguments)}}o.extend(n,i,e);var s=function(){this.constructor=n};s.prototype=i.prototype;n.prototype=new s;if(t)o.extend(n.prototype,t);n.__super__=i.prototype;return n};d.extend=m.extend=T.extend=w.extend=A.extend=F;var O=function(){throw new Error('A "url" property or function must be specified')};var H=function(t,e){var i=e.error;e.error=function(n){if(i)i(t,n,e);t.trigger("error",t,n,e)}}}).call(this);(function(t){if(typeof exports!=="undefined"&&typeof require!=="undefined"){var e=t.jQuery||t.Zepto||t.ender||require("jquery"),i=t._||require("underscore"),n=t.Backbone||require("backbone")}else{var e=t.jQuery,i=t._,n=t.Backbone}var s=function(){return n.View.extend({hasFocus:false,initialize:function(t){if(!s.templates.form)throw new Error("Templates not loaded");this.schema=function(){if(t.schema)return t.schema;var e=t.model;if(!e)throw new Error("Could not find schema");if(i.isFunction(e.schema))return e.schema();return e.schema}();t=i.extend({template:"form",fieldsetTemplate:"fieldset",fieldTemplate:"field"},t);if(!t.fieldsets){var e=t.fields||i.keys(this.schema);t.fieldsets=[{fields:e}]}this.options=t;this.model=t.model;this.data=t.data;this.fields={}},render:function(){var t=this,n=this.options,r=s.templates[n.template];var a=s.helpers.parseHTML(r({fieldsets:'<b class="bbf-tmp"></b>'}));var o=e(".bbf-tmp",a);i.each(n.fieldsets,function(e){o.append(t.renderFieldset(e));
});o.children().unwrap();this.setElement(a);if(this.hasFocus)this.trigger("blur",this);return this},renderFieldset:function(t){var n=this,r=s.templates[this.options.fieldsetTemplate],a=this.schema,o=s.helpers.getNested;if(i.isArray(t)){t={fields:t}}var l=s.helpers.parseHTML(r(i.extend({},t,{legend:'<b class="bbf-tmp-legend"></b>',fields:'<b class="bbf-tmp-fields"></b>'})));if(t.legend){l.find(".bbf-tmp-legend").replaceWith(t.legend)}else{l.find(".bbf-tmp-legend").parent().remove()}var h=e(".bbf-tmp-fields",l);i.each(t.fields,function(t){var e=function(){if(a[t])return a[t];var e=t.replace(/\./g,".subSchema.");return o(a,e)}();if(!e)throw"Field '"+t+"' not found in schema";var s=n.fields[t]=n.createField(t,e);var r=s.render().el;s.editor.on("all",function(e){var n=i.toArray(arguments);n[0]=t+":"+e;n.splice(1,0,this);this.trigger.apply(this,n)},n);s.editor.on("change",function(){this.trigger("change",n)},n);s.editor.on("focus",function(){if(this.hasFocus)return;this.trigger("focus",this)},n);s.editor.on("blur",function(){if(!this.hasFocus)return;var t=this;setTimeout(function(){if(i.find(t.fields,function(t){return t.editor.hasFocus}))return;t.trigger("blur",t)},0)},n);if(e.type!=="Hidden"){h.append(r)}});h=h.children().unwrap();return l},createField:function(t,e){e.template=e.template||this.options.fieldTemplate;var i={form:this,key:t,schema:e,idPrefix:this.options.idPrefix,template:this.options.fieldTemplate};if(this.model){i.model=this.model}else if(this.data){i.value=this.data[t]}else{i.value=null}return new s.Field(i)},validate:function(){var t=this,e=this.fields,n=this.model,s={};i.each(e,function(t){var e=t.validate();if(e){s[t.key]=e}});if(n&&n.validate){var r=n.validate(this.getValue());if(r){var a=i.isObject(r)&&!i.isArray(r);if(!a){s._others=s._others||[];s._others.push(r)}if(a){i.each(r,function(e,i){if(t.fields[i]&&!s[i]){t.fields[i].setError(e);s[i]=e}else{s._others=s._others||[];var n={};n[i]=e;s._others.push(n)}})}}}return i.isEmpty(s)?null:s},commit:function(t){var e=this.validate();if(e)return e;var n;var s=i.extend({error:function(t,e){n=e}},t);this.model.set(this.getValue(),s);if(n)return n},getValue:function(t){if(t)return this.fields[t].getValue();var e={};i.each(this.fields,function(t){e[t.key]=t.getValue()});return e},setValue:function(t,e){var i={};if(typeof t==="string"){i[t]=e}else{i=t}var n;for(n in this.schema){if(i[n]!==undefined){this.fields[n].setValue(i[n])}}},focus:function(){if(this.hasFocus)return;var t=this.options.fieldsets[0];if(t){var e;if(i.isArray(t)){e=t[0]}else{e=t.fields[0]}if(e){this.fields[e].editor.focus()}}},blur:function(){if(!this.hasFocus)return;var t=i.find(this.fields,function(t){return t.editor.hasFocus});if(t)t.editor.blur()},remove:function(){var t=this.fields;for(var e in t){t[e].remove()}n.View.prototype.remove.call(this)},trigger:function(t){if(t==="focus"){this.hasFocus=true}else if(t==="blur"){this.hasFocus=false}return n.View.prototype.trigger.apply(this,arguments)}})}();s.helpers=function(){var t={};t.getNested=function(t,e){var i=e.split(".");var n=t;for(var s=0,r=i.length;s<r;s++){n=n[i[s]]}return n};t.keyToTitle=function(t){t=t.replace(/([A-Z])/g," $1");t=t.replace(/^./,function(t){return t.toUpperCase()});return t};t.compileTemplate=function(t){var e=i.templateSettings.interpolate;i.templateSettings.interpolate=/\{\{(.+?)\}\}/g;var n=i.template(t);i.templateSettings.interpolate=e;return n};t.createTemplate=function(i,n){var s=t.compileTemplate(e.trim(i));if(!n){return s}else{return s(n)}};t.setTemplateCompiler=function(e){t.compileTemplate=e};t.setTemplates=function(e,n){var r=t.createTemplate;s.templates=s.templates||{};s.classNames=s.classNames||{};i.each(e,function(t,e,n){if(i.isString(t))t=r(t);s.templates[e]=t});i.extend(s.classNames,n)};t.createEditor=function(t,e){var n;if(i.isString(t)){n=s.editors[t]}else{n=t}return new n(e)};t.getValidator=function(t){var e=s.validators;if(i.isRegExp(t)){return e.regexp({regexp:t})}if(i.isString(t)){if(!e[t])throw new Error('Validator "'+t+'" not found');return e[t]()}if(i.isFunction(t))return t;if(i.isObject(t)&&t.type){var n=t;return e[n.type](n)}throw new Error("Invalid validator: "+t)};t.parseHTML=function(t){if(e.parseHTML!==undefined){return e(e.parseHTML(t))}return e(t)};return t}();s.validators=function(){var t={};t.errMessages={required:"Required",regexp:"Invalid",email:"Invalid email address",url:"Invalid URL",match:'Must match field "{{field}}"'};t.required=function(t){t=i.extend({type:"required",message:this.errMessages.required},t);return function e(i){t.value=i;var n={type:t.type,message:s.helpers.createTemplate(t.message,t)};if(i===null||i===undefined||i===false||i==="")return n}};t.regexp=function(t){if(!t.regexp)throw new Error('Missing required "regexp" option for "regexp" validator');t=i.extend({type:"regexp",message:this.errMessages.regexp},t);return function e(i){t.value=i;var n={type:t.type,message:s.helpers.createTemplate(t.message,t)};if(i===null||i===undefined||i==="")return;if(!t.regexp.test(i))return n}};t.email=function(e){e=i.extend({type:"email",message:this.errMessages.email,regexp:/^[\w\-]{1,}([\w\-\+.]{1,1}[\w\-]{1,}){0,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/},e);return t.regexp(e)};t.url=function(e){e=i.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_\-]*)(\.[A-Z0-9][A-Z0-9_\-]*)+)(:(\d+))?\/?/i},e);return t.regexp(e)};t.match=function(t){if(!t.field)throw new Error('Missing required "field" options for "match" validator');t=i.extend({type:"match",message:this.errMessages.match},t);return function e(i,n){t.value=i;var r={type:t.type,message:s.helpers.createTemplate(t.message,t)};if(i===null||i===undefined||i==="")return;if(i!==n[t.field])return r}};return t}();s.Field=function(){var t=s.helpers,r=s.templates;return n.View.extend({initialize:function(e){e=e||{};this.form=e.form;this.key=e.key;this.value=e.value;this.model=e.model;if(i.isString(e.schema))e.schema={type:e.schema};this.schema=i.extend({type:"Text",title:t.keyToTitle(this.key),template:"field"},e.schema)},renderingContext:function(t,e){return{key:this.key,title:t.title,id:e.id,type:t.type,editor:'<b class="bbf-tmp-editor"></b>',help:'<b class="bbf-tmp-help"></b>',error:'<b class="bbf-tmp-error"></b>'}},render:function(){var i=this.schema,n=s.templates;var r={form:this.form,key:this.key,schema:i,idPrefix:this.options.idPrefix,id:this.getId()};if(this.model){r.model=this.model}else{r.value=this.value}var a=this.editor=t.createEditor(i.type,r);var o=s.helpers.parseHTML(n[i.template](this.renderingContext(i,a)));if(i.title===false){o.find('label[for="'+a.id+'"]').first().remove()}o.find(".bbf-tmp-editor").replaceWith(a.render().el);this.$help=e(".bbf-tmp-help",o).parent();this.$help.empty();if(this.schema.help)this.$help.html(this.schema.help);this.$error=e(e(".bbf-tmp-error",o).parent()[0]);if(this.$error)this.$error.empty();if(this.schema.fieldClass)o.addClass(this.schema.fieldClass);if(this.schema.fieldAttrs)o.attr(this.schema.fieldAttrs);this.setElement(o);return this},getId:function(){var t=this.options.idPrefix,e=this.key;e=e.replace(/\./g,"_");if(i.isString(t)||i.isNumber(t))return t+e;if(i.isNull(t))return e;if(this.model)return this.model.cid+"_"+e;return e},validate:function(){var t=this.editor.validate();if(t){this.setError(t.message)}else{this.clearError()}return t},setError:function(t){if(this.editor.hasNestedForm)return;var e=s.classNames.error;this.$el.addClass(e);if(this.$error){this.$error.html(t)}else if(this.$help){this.$help.html(t)}},clearError:function(){var t=s.classNames.error;this.$el.removeClass(t);if(this.$error){this.$error.empty()}else if(this.$help){this.$help.empty();var e=this.schema.help;if(e)this.$help.html(e)}},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(t){this.editor.setValue(t)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove();n.View.prototype.remove.call(this)}})}();s.editors=function(){var t=s.helpers;var r={};r.Base=n.View.extend({defaultValue:null,hasFocus:false,initialize:function(t){var t=t||{};if(t.model){if(!t.key)throw"Missing option: 'key'";this.model=t.model;this.value=this.model.get(t.key)}else if(t.value){this.value=t.value}if(this.value===undefined)this.value=this.defaultValue;this.key=t.key;this.form=t.form;this.schema=t.schema||{};this.validators=t.validators||this.schema.validators;this.$el.attr("name",this.getName());if(this.schema.editorClass)this.$el.addClass(this.schema.editorClass);if(this.schema.editorAttrs)this.$el.attr(this.schema.editorAttrs)},getValue:function(){throw"Not implemented. Extend and override this method."},setValue:function(){throw"Not implemented. Extend and override this method."},focus:function(){throw"Not implemented. Extend and override this method."},blur:function(){throw"Not implemented. Extend and override this method."},getName:function(){var t=this.key||"";return t.replace(/\./g,"_")},commit:function(t){var e=this.validate();if(e)return e;this.listenTo(this.model,"invalid",function(t,i){e=i});this.model.set(this.key,this.getValue(),t);if(e)return e},validate:function(){var t=this.$el,e=null,n=this.getValue(),r=this.form?this.form.getValue():{},a=this.validators,o=s.helpers.getValidator;if(a){i.every(a,function(t){e=o(t)(n,r);return e?false:true})}return e},trigger:function(t){if(t==="focus"){this.hasFocus=true}else if(t==="blur"){this.hasFocus=false}return n.View.prototype.trigger.apply(this,arguments)}});r.Text=r.Base.extend({tagName:"input",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(t){var e=this;setTimeout(function(){e.determineChange()},0)},select:function(t){this.trigger("select",this)},focus:function(t){this.trigger("focus",this)},blur:function(t){this.trigger("blur",this)}},initialize:function(t){r.Base.prototype.initialize.call(this,t);var e=this.schema;var i="text";if(e&&e.editorAttrs&&e.editorAttrs.type)i=e.editorAttrs.type;if(e&&e.dataType)i=e.dataType;this.$el.attr("type",i)},render:function(){this.setValue(this.value);return this},determineChange:function(t){var e=this.$el.val();var i=e!==this.previousValue;if(i){this.previousValue=e;this.trigger("change",this)}},getValue:function(){return this.$el.val()},setValue:function(t){this.$el.val(t)},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()},select:function(){this.$el.select()}});r.Number=r.Text.extend({defaultValue:0,events:i.extend({},r.Text.prototype.events,{keypress:"onKeyPress"}),initialize:function(t){r.Text.prototype.initialize.call(this,t);this.$el.attr("type","number");this.$el.attr("step","any")},onKeyPress:function(t){var e=this,i=function(){setTimeout(function(){e.determineChange()},0)};if(t.charCode===0){i();return}var n=this.$el.val()+String.fromCharCode(t.charCode);var s=/^[0-9]*\.?[0-9]*?$/.test(n);if(s){i()}else{t.preventDefault()}},getValue:function(){var t=this.$el.val();return t===""?null:parseFloat(t,10)},setValue:function(t){t=function(){if(i.isNumber(t))return t;if(i.isString(t)&&t!=="")return parseFloat(t,10);return null}();if(i.isNaN(t))t=null;r.Text.prototype.setValue.call(this,t)}});r.Password=r.Text.extend({initialize:function(t){r.Text.prototype.initialize.call(this,t);this.$el.attr("type","password")}});r.TextArea=r.Text.extend({tagName:"textarea"});r.Checkbox=r.Base.extend({defaultValue:false,tagName:"input",events:{click:function(t){this.trigger("change",this)},focus:function(t){this.trigger("focus",this)},blur:function(t){this.trigger("blur",this)}},initialize:function(t){r.Base.prototype.initialize.call(this,t);this.$el.attr("type","checkbox")},render:function(){this.setValue(this.value);return this},getValue:function(){return this.$el.prop("checked")},setValue:function(t){if(t){this.$el.prop("checked",true)}},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()}});r.Hidden=r.Base.extend({defaultValue:"",initialize:function(t){r.Text.prototype.initialize.call(this,t);this.$el.attr("type","hidden")},getValue:function(){return this.value},setValue:function(t){this.value=t},focus:function(){},blur:function(){}});r.Select=r.Base.extend({tagName:"select",events:{change:function(t){this.trigger("change",this)},focus:function(t){this.trigger("focus",this)},blur:function(t){this.trigger("blur",this)}},initialize:function(t){r.Base.prototype.initialize.call(this,t);if(!this.schema||!this.schema.options)throw"Missing required 'schema.options'"},render:function(){this.setOptions(this.schema.options);return this},setOptions:function(t){var e=this;if(t instanceof n.Collection){var s=t;if(s.length>0){this.renderOptions(t)}else{s.fetch({success:function(i){e.renderOptions(t)}})}}else if(i.isFunction(t)){t(function(t){e.renderOptions(t)},e)}else{this.renderOptions(t)}},renderOptions:function(t){var e=this.$el,i;i=this._getOptionsHtml(t);e.html(i);this.setValue(this.value)},_getOptionsHtml:function(t){var e;if(i.isString(t)){e=t}else if(i.isArray(t)){e=this._arrayToHtml(t)}else if(t instanceof n.Collection){e=this._collectionToHtml(t)}else if(i.isFunction(t)){var s;t(function(t){s=t},this);e=this._getOptionsHtml(s)}return e},getValue:function(){return this.$el.val()},setValue:function(t){this.$el.val(t)},focus:function(){if(this.hasFocus)return;this.$el.focus()},blur:function(){if(!this.hasFocus)return;this.$el.blur()},_collectionToHtml:function(t){var e=[];t.each(function(t){e.push({val:t.id,label:t.toString()})});var i=this._arrayToHtml(e);return i},_arrayToHtml:function(t){var e=[];i.each(t,function(t){if(i.isObject(t)){if(t.group){e.push('<optgroup label="'+t.group+'">');e.push(this._getOptionsHtml(t.options));e.push("</optgroup>")}else{var n=t.val||t.val===0?t.val:"";e.push('<option value="'+n+'">'+t.label+"</option>")}}else{e.push("<option>"+t+"</option>")}},this);return e.join("")}});r.Radio=r.Select.extend({tagName:"ul",className:"bbf-radio",events:{"change input[type=radio]":function(){this.trigger("change",this)},"focus input[type=radio]":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur input[type=radio]":function(){if(!this.hasFocus)return;var t=this;setTimeout(function(){if(t.$("input[type=radio]:focus")[0])return;t.trigger("blur",t)},0)}},getValue:function(){return this.$("input[type=radio]:checked").val()},setValue:function(t){this.$("input[type=radio]").val([t])},focus:function(){if(this.hasFocus)return;var t=this.$("input[type=radio]:checked");if(t[0]){t.focus();return}this.$("input[type=radio]").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(t){var e=[];var n=this;i.each(t,function(t,s){var r="<li>";if(i.isObject(t)){var a=t.val||t.val===0?t.val:"";r+='<input type="radio" name="'+n.id+'" value="'+a+'" id="'+n.id+"-"+s+'" />';r+='<label for="'+n.id+"-"+s+'">'+t.label+"</label>"}else{r+='<input type="radio" name="'+n.id+'" value="'+t+'" id="'+n.id+"-"+s+'" />';r+='<label for="'+n.id+"-"+s+'">'+t+"</label>"}r+="</li>";e.push(r)});return e.join("")}});r.Checkboxes=r.Select.extend({tagName:"ul",className:"bbf-checkboxes",events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(!this.hasFocus)return;var t=this;setTimeout(function(){if(t.$("input[type=checkbox]:focus")[0])return;t.trigger("blur",t)},0)}},getValue:function(){var t=[];this.$("input[type=checkbox]:checked").each(function(){t.push(e(this).val())});return t},setValue:function(t){if(!i.isArray(t))t=[t];this.$("input[type=checkbox]").val(t)},focus:function(){if(this.hasFocus)return;this.$("input[type=checkbox]").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(t){var e=[];var n=this;i.each(t,function(t,s){var r="<li>";if(i.isObject(t)){var a=t.val||t.val===0?t.val:"";r+='<input type="checkbox" name="'+n.id+'" value="'+a+'" id="'+n.id+"-"+s+'" />';r+='<label for="'+n.id+"-"+s+'">'+t.label+"</label>"}else{r+='<input type="checkbox" name="'+n.id+'" value="'+t+'" id="'+n.id+"-"+s+'" />';r+='<label for="'+n.id+"-"+s+'">'+t+"</label>"}r+="</li>";e.push(r)});return e.join("")}});r.Object=r.Base.extend({hasNestedForm:true,className:"bbf-object",initialize:function(t){this.value={};r.Base.prototype.initialize.call(this,t);if(!this.schema.subSchema)throw new Error("Missing required 'schema.subSchema' option for Object editor")},render:function(){this.form=new s({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",fieldTemplate:"nestedField"});this._observeFormEvents();this.$el.html(this.form.render().el);if(this.hasFocus)this.trigger("blur",this);return this},getValue:function(){if(this.form)return this.form.getValue();return this.value},setValue:function(t){this.value=t;this.render()},focus:function(){if(this.hasFocus)return;this.form.focus()},blur:function(){if(!this.hasFocus)return;this.form.blur()},remove:function(){this.form.remove();n.View.prototype.remove.call(this)},validate:function(){return this.form.validate()},_observeFormEvents:function(){this.form.on("all",function(){var t=i.toArray(arguments);t[1]=this;this.trigger.apply(this,t)},this)}});r.NestedModel=r.Object.extend({initialize:function(t){r.Base.prototype.initialize.call(this,t);if(!t.schema.model)throw'Missing required "schema.model" option for NestedModel editor'},render:function(){var t=this.value||{},e=this.key,i=this.schema.model;var n=t.constructor===i?t:new i(t);this.form=new s({model:n,idPrefix:this.id+"_",fieldTemplate:"nestedField"});this._observeFormEvents();this.$el.html(this.form.render().el);if(this.hasFocus)this.trigger("blur",this);return this},commit:function(){var t=this.form.commit();if(t){this.$el.addClass("error");return t}return r.Object.prototype.commit.call(this)}});r.Date=r.Base.extend({events:{"change select":function(){this.updateHidden();this.trigger("change",this)},"focus select":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur select":function(){if(!this.hasFocus)return;var t=this;setTimeout(function(){if(t.$("select:focus")[0])return;t.trigger("blur",t)},0)}},initialize:function(t){t=t||{};r.Base.prototype.initialize.call(this,t);var e=r.Date,n=new Date;this.options=i.extend({monthNames:e.monthNames,showMonthNames:e.showMonthNames},t);this.schema=i.extend({yearStart:n.getFullYear()-100,yearEnd:n.getFullYear()},t.schema||{});if(this.value&&!i.isDate(this.value)){this.value=new Date(this.value)}if(!this.value){var s=new Date;s.setSeconds(0);s.setMilliseconds(0);this.value=s}},render:function(){var t=this.options,n=this.schema;var r=i.map(i.range(1,32),function(t){return'<option value="'+t+'">'+t+"</option>"});var a=i.map(i.range(0,12),function(e){var i=t.showMonthNames?t.monthNames[e]:e+1;return'<option value="'+e+'">'+i+"</option>"});var o=n.yearStart<n.yearEnd?i.range(n.yearStart,n.yearEnd+1):i.range(n.yearStart,n.yearEnd-1,-1);var l=i.map(o,function(t){return'<option value="'+t+'">'+t+"</option>"});var h=s.helpers.parseHTML(s.templates.date({dates:r.join(""),months:a.join(""),years:l.join("")}));this.$date=h.find('select[data-type="date"]');this.$month=h.find('select[data-type="month"]');this.$year=h.find('select[data-type="year"]');this.$hidden=e('<input type="hidden" name="'+this.key+'" />');h.append(this.$hidden);this.setValue(this.value);this.setElement(h);this.$el.attr("id",this.id);if(this.hasFocus)this.trigger("blur",this);return this},getValue:function(){var t=this.$year.val(),e=this.$month.val(),i=this.$date.val();if(!t||!e||!i)return null;return new Date(t,e,i)},setValue:function(t){this.$date.val(t.getDate());this.$month.val(t.getMonth());this.$year.val(t.getFullYear());this.updateHidden()},focus:function(){if(this.hasFocus)return;this.$("select").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("select:focus").blur()},updateHidden:function(){var t=this.getValue();if(i.isDate(t))t=t.toISOString();this.$hidden.val(t)}},{showMonthNames:true,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]});r.DateTime=r.Base.extend({events:{"change select":function(){this.updateHidden();this.trigger("change",this)},"focus select":function(){if(this.hasFocus)return;this.trigger("focus",this)},"blur select":function(){if(!this.hasFocus)return;var t=this;setTimeout(function(){if(t.$("select:focus")[0])return;t.trigger("blur",t)},0)}},initialize:function(t){t=t||{};r.Base.prototype.initialize.call(this,t);this.options=i.extend({DateEditor:r.DateTime.DateEditor},t);this.schema=i.extend({minsInterval:15},t.schema||{});this.dateEditor=new this.options.DateEditor(t);this.value=this.dateEditor.value},render:function(){function t(t){return t<10?"0"+t:t}var e=this.schema;var n=i.map(i.range(0,24),function(e){return'<option value="'+e+'">'+t(e)+"</option>"});var r=i.map(i.range(0,60,e.minsInterval),function(e){return'<option value="'+e+'">'+t(e)+"</option>"});var a=s.helpers.parseHTML(s.templates.dateTime({date:'<b class="bbf-tmp"></b>',hours:n.join(),mins:r.join()}));a.find(".bbf-tmp").replaceWith(this.dateEditor.render().el);this.$hour=a.find('select[data-type="hour"]');this.$min=a.find('select[data-type="min"]');this.$hidden=a.find('input[type="hidden"]');this.setValue(this.value);this.setElement(a);this.$el.attr("id",this.id);if(this.hasFocus)this.trigger("blur",this);return this},getValue:function(){var t=this.dateEditor.getValue();var e=this.$hour.val(),i=this.$min.val();if(!t||!e||!i)return null;t.setHours(e);t.setMinutes(i);return t},setValue:function(t){if(!i.isDate(t))t=new Date(t);this.dateEditor.setValue(t);this.$hour.val(t.getHours());this.$min.val(t.getMinutes());this.updateHidden()},focus:function(){if(this.hasFocus)return;this.$("select").first().focus()},blur:function(){if(!this.hasFocus)return;this.$("select:focus").blur()},updateHidden:function(){var t=this.getValue();if(i.isDate(t))t=t.toISOString();this.$hidden.val(t)},remove:function(){this.dateEditor.remove();r.Base.prototype.remove.call(this)}},{DateEditor:r.Date});return r}();s.setTemplates=s.helpers.setTemplates;s.setTemplateCompiler=s.helpers.setTemplateCompiler;s.templates={};s.setTemplates({form:'      <form class="bbf-form">{{fieldsets}}</form>    ',fieldset:"      <fieldset>        <legend>{{legend}}</legend>        <ul>{{fields}}</ul>      </fieldset>    ",field:'      <li class="bbf-field field-{{key}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>        <div class="bbf-error">{{error}}</div>      </li>    ',nestedField:'      <li class="bbf-field bbf-nested-field field-{{key}}" title="{{title}}">        <label for="{{id}}">{{title}}</label>        <div class="bbf-editor">{{editor}}</div>        <div class="bbf-help">{{help}}</div>        <div class="bbf-error">{{error}}</div>      </li>    ',list:'      <div class="bbf-list">        <ul>{{items}}</ul>        <div class="bbf-actions"><button type="button" data-action="add">Add</div>      </div>    ',listItem:'      <li>        <button type="button" data-action="remove" class="bbf-remove">&times;</button>        <div class="bbf-editor-container">{{editor}}</div>      </li>    ',date:'      <div class="bbf-date">        <select data-type="date" class="bbf-date">{{dates}}</select>        <select data-type="month" class="bbf-month">{{months}}</select>        <select data-type="year" class="bbf-year">{{years}}</select>      </div>    ',dateTime:'      <div class="bbf-datetime">        <div class="bbf-date-container">{{date}}</div>        <select data-type="hour">{{hours}}</select>        :        <select data-type="min">{{mins}}</select>      </div>    ',"list.Modal":'      <div class="bbf-list-modal">        {{summary}}      </div>    '},{error:"bbf-error"});s.VERSION="0.11.0";n.Form=s})(this);(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(function(t){"use strict";var e={};e.fileapi=t("<input type='file'/>").get(0).files!==undefined;e.formdata=window.FormData!==undefined;var i=!!t.fn.prop;t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);if(t&&t.jquery||typeof t==="string")return t;return this.attr.apply(this,arguments)};t.fn.ajaxSubmit=function(n){if(!this.length){r("ajaxSubmit: skipping submit process - no element selected");return this}var s,a,o,l=this;if(typeof n=="function"){n={success:n}}else if(n===undefined){n={}}s=n.type||this.attr2("method");a=n.url||this.attr2("action");o=typeof a==="string"?t.trim(a):"";o=o||window.location.href||"";if(o){o=(o.match(/^([^#]+)/)||[])[1]}n=t.extend(true,{url:o,success:t.ajaxSettings.success,type:s||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var h={};this.trigger("form-pre-serialize",[this,n,h]);if(h.veto){r("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(n.beforeSerialize&&n.beforeSerialize(this,n)===false){r("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var u=n.traditional;if(u===undefined){u=t.ajaxSettings.traditional}var c=[];var f,d=this.formToArray(n.semantic,c);if(n.data){n.extraData=n.data;f=t.param(n.data,u)}if(n.beforeSubmit&&n.beforeSubmit(d,this,n)===false){r("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[d,this,n,h]);if(h.veto){r("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var p=t.param(d,u);if(f){p=p?p+"&"+f:f}if(n.type.toUpperCase()=="GET"){n.url+=(n.url.indexOf("?")>=0?"&":"?")+p;n.data=null}else{n.data=p}var g=[];if(n.resetForm){g.push(function(){l.resetForm()})}if(n.clearForm){g.push(function(){l.clearForm(n.includeHidden)})}if(!n.dataType&&n.target){var m=n.success||function(){};g.push(function(e){var i=n.replaceTarget?"replaceWith":"html";t(n.target)[i](e).each(m,arguments)})}else if(n.success){g.push(n.success)}n.success=function(t,e,i){var s=n.context||this;for(var r=0,a=g.length;r<a;r++){g[r].apply(s,[t,e,i||l,l])}};if(n.error){var v=n.error;n.error=function(t,e,i){var s=n.context||this;v.apply(s,[t,e,i,l])}}if(n.complete){var y=n.complete;n.complete=function(t,e){var i=n.context||this;y.apply(i,[t,e,l])}}var b=t("input[type=file]:enabled",this).filter(function(){return t(this).val()!==""});var x=b.length>0;var w="multipart/form-data";var _=l.attr("enctype")==w||l.attr("encoding")==w;var k=e.fileapi&&e.formdata;r("fileAPI :"+k);var C=(x||_)&&!k;var T;if(n.iframe!==false&&(n.iframe||C)){if(n.closeKeepAlive){t.get(n.closeKeepAlive,function(){T=P(d)})}else{T=P(d)}}else if((x||_)&&k){T=M(d)}else{T=t.ajax(n)}l.removeData("jqxhr").data("jqxhr",T);for(var D=0;D<c.length;D++)c[D]=null;this.trigger("form-submit-notify",[this,n]);return this;function S(e){var i=t.param(e,n.traditional).split("&");var s=i.length;var r=[];var a,o;for(a=0;a<s;a++){i[a]=i[a].replace(/\+/g," ");o=i[a].split("=");r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])])}return r}function M(e){var i=new FormData;for(var r=0;r<e.length;r++){i.append(e[r].name,e[r].value)}if(n.extraData){var a=S(n.extraData);for(r=0;r<a.length;r++)if(a[r])i.append(a[r][0],a[r][1])}n.data=null;var o=t.extend(true,{},t.ajaxSettings,n,{contentType:false,processData:false,cache:false,type:s||"POST"});if(n.uploadProgress){o.xhr=function(){var e=t.ajaxSettings.xhr();if(e.upload){e.upload.addEventListener("progress",function(t){var e=0;var i=t.loaded||t.position;var s=t.total;if(t.lengthComputable){e=Math.ceil(i/s*100)}n.uploadProgress(t,i,s,e)},false)}return e}}o.data=null;var l=o.beforeSend;o.beforeSend=function(t,e){if(n.formData)e.data=n.formData;else e.data=i;if(l)l.call(this,t,e)};return t.ajax(o)}function P(e){var a=l[0],o,h,u,f,d,p,g,m,v,y,b,x;var w=t.Deferred();w.abort=function(t){m.abort(t)};if(e){for(h=0;h<c.length;h++){o=t(c[h]);if(i)o.prop("disabled",false);else o.removeAttr("disabled")}}u=t.extend(true,{},t.ajaxSettings,n);u.context=u.context||u;d="jqFormIO"+(new Date).getTime();if(u.iframeTarget){p=t(u.iframeTarget);y=p.attr2("name");if(!y)p.attr2("name",d);else d=y}else{p=t('<iframe name="'+d+'" src="'+u.iframeSrc+'" />');p.css({position:"absolute",top:"-1000px",left:"-1000px"})}g=p[0];m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i=e==="timeout"?"timeout":"aborted";r("aborting upload... "+i);this.aborted=1;try{if(g.contentWindow.document.execCommand){g.contentWindow.document.execCommand("Stop")}}catch(n){}p.attr("src",u.iframeSrc);m.error=i;if(u.error)u.error.call(u.context,m,i,e);if(f)t.event.trigger("ajaxError",[m,u,i]);if(u.complete)u.complete.call(u.context,m,i)}};f=u.global;if(f&&0===t.active++){t.event.trigger("ajaxStart")}if(f){t.event.trigger("ajaxSend",[m,u])}if(u.beforeSend&&u.beforeSend.call(u.context,m,u)===false){if(u.global){t.active--}w.reject();return w}if(m.aborted){w.reject();return w}v=a.clk;if(v){y=v.name;if(y&&!v.disabled){u.extraData=u.extraData||{};u.extraData[y]=v.value;if(v.type=="image"){u.extraData[y+".x"]=a.clk_x;u.extraData[y+".y"]=a.clk_y}}}var _=1;var k=2;function C(t){var e=null;try{if(t.contentWindow){e=t.contentWindow.document}}catch(i){r("cannot get iframe.contentWindow document: "+i)}if(e){return e}try{e=t.contentDocument?t.contentDocument:t.document}catch(i){r("cannot get iframe.contentDocument: "+i);e=t.document}return e}var T=t("meta[name=csrf-token]").attr("content");var D=t("meta[name=csrf-param]").attr("content");if(D&&T){u.extraData=u.extraData||{};u.extraData[D]=T}function S(){var e=l.attr2("target"),i=l.attr2("action");a.setAttribute("target",d);if(!s||/post/i.test(s)){a.setAttribute("method","POST")}if(i!=u.url){a.setAttribute("action",u.url)}if(!u.skipEncodingOverride&&(!s||/post/i.test(s))){l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(u.timeout){x=setTimeout(function(){b=true;E(_)},u.timeout)}function n(){try{var t=C(g).readyState;r("state = "+t);if(t&&t.toLowerCase()=="uninitialized")setTimeout(n,50)}catch(e){r("Server abort: ",e," (",e.name,")");E(k);if(x)clearTimeout(x);x=undefined}}var o=[];try{if(u.extraData){for(var h in u.extraData){if(u.extraData.hasOwnProperty(h)){if(t.isPlainObject(u.extraData[h])&&u.extraData[h].hasOwnProperty("name")&&u.extraData[h].hasOwnProperty("value")){o.push(t('<input type="hidden" name="'+u.extraData[h].name+'">').val(u.extraData[h].value).appendTo(a)[0])}else{o.push(t('<input type="hidden" name="'+h+'">').val(u.extraData[h]).appendTo(a)[0])}}}}if(!u.iframeTarget){p.appendTo("body")}if(g.attachEvent)g.attachEvent("onload",E);else g.addEventListener("load",E,false);setTimeout(n,15);try{a.submit()}catch(c){var f=document.createElement("form").submit;f.apply(a)}}finally{a.setAttribute("action",i);if(e){a.setAttribute("target",e)}else{l.removeAttr("target")}t(o).remove()}}if(u.forceSync){S()}else{setTimeout(S,10)}var M,P,A=50,I;function E(e){if(m.aborted||I){return}P=C(g);if(!P){r("cannot access response document");e=k}if(e===_&&m){m.abort("timeout");w.reject(m,"timeout");return}else if(e==k&&m){m.abort("server abort");w.reject(m,"error","server abort");return}if(!P||P.location.href==u.iframeSrc){if(!b)return}if(g.detachEvent)g.detachEvent("onload",E);else g.removeEventListener("load",E,false);var i="success",n;try{if(b){throw"timeout"}var s=u.dataType=="xml"||P.XMLDocument||t.isXMLDoc(P);r("isXml="+s);if(!s&&window.opera&&(P.body===null||!P.body.innerHTML)){if(--A){r("requeing onLoad callback, DOM not available");setTimeout(E,250);return}}var a=P.body?P.body:P.documentElement;m.responseText=a?a.innerHTML:null;m.responseXML=P.XMLDocument?P.XMLDocument:P;if(s)u.dataType="xml";
m.getResponseHeader=function(t){var e={"content-type":u.dataType};return e[t.toLowerCase()]};if(a){m.status=Number(a.getAttribute("status"))||m.status;m.statusText=a.getAttribute("statusText")||m.statusText}var o=(u.dataType||"").toLowerCase();var l=/(json|script|text)/.test(o);if(l||u.textarea){var h=P.getElementsByTagName("textarea")[0];if(h){m.responseText=h.value;m.status=Number(h.getAttribute("status"))||m.status;m.statusText=h.getAttribute("statusText")||m.statusText}else if(l){var c=P.getElementsByTagName("pre")[0];var d=P.getElementsByTagName("body")[0];if(c){m.responseText=c.textContent?c.textContent:c.innerText}else if(d){m.responseText=d.textContent?d.textContent:d.innerText}}}else if(o=="xml"&&!m.responseXML&&m.responseText){m.responseXML=L(m.responseText)}try{M=F(m,o,u)}catch(v){i="parsererror";m.error=n=v||i}}catch(v){r("error caught: ",v);i="error";m.error=n=v||i}if(m.aborted){r("upload aborted");i=null}if(m.status){i=m.status>=200&&m.status<300||m.status===304?"success":"error"}if(i==="success"){if(u.success)u.success.call(u.context,M,"success",m);w.resolve(m.responseText,"success",m);if(f)t.event.trigger("ajaxSuccess",[m,u])}else if(i){if(n===undefined)n=m.statusText;if(u.error)u.error.call(u.context,m,i,n);w.reject(m,"error",n);if(f)t.event.trigger("ajaxError",[m,u,n])}if(f)t.event.trigger("ajaxComplete",[m,u]);if(f&&!--t.active){t.event.trigger("ajaxStop")}if(u.complete)u.complete.call(u.context,m,i);I=true;if(u.timeout)clearTimeout(x);setTimeout(function(){if(!u.iframeTarget)p.remove();else p.attr("src",u.iframeSrc);m.responseXML=null},100)}var L=t.parseXML||function(t,e){if(window.ActiveXObject){e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(t)}else{e=(new DOMParser).parseFromString(t,"text/xml")}return e&&e.documentElement&&e.documentElement.nodeName!="parsererror"?e:null};var N=t.parseJSON||function(t){return window["eval"]("("+t+")")};var F=function(e,i,n){var s=e.getResponseHeader("content-type")||"",r=i==="xml"||!i&&s.indexOf("xml")>=0,a=r?e.responseXML:e.responseText;if(r&&a.documentElement.nodeName==="parsererror"){if(t.error)t.error("parsererror")}if(n&&n.dataFilter){a=n.dataFilter(a,i)}if(typeof a==="string"){if(i==="json"||!i&&s.indexOf("json")>=0){a=N(a)}else if(i==="script"||!i&&s.indexOf("javascript")>=0){t.globalEval(a)}}return a};return w}};t.fn.ajaxForm=function(e){e=e||{};e.delegation=e.delegation&&t.isFunction(t.fn.on);if(!e.delegation&&this.length===0){var i={s:this.selector,c:this.context};if(!t.isReady&&i.s){r("DOM not ready, queuing ajaxForm");t(function(){t(i.s,i.c).ajaxForm(e)});return this}r("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)"));return this}if(e.delegation){t(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,s).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,s);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,s)};function n(e){var i=e.data;if(!e.isDefaultPrevented()){e.preventDefault();t(e.target).ajaxSubmit(i)}}function s(e){var i=e.target;var n=t(i);if(!n.is("[type=submit],[type=image]")){var s=n.closest("[type=submit]");if(s.length===0){return}i=s[0]}var r=this;r.clk=i;if(i.type=="image"){if(e.offsetX!==undefined){r.clk_x=e.offsetX;r.clk_y=e.offsetY}else if(typeof t.fn.offset=="function"){var a=n.offset();r.clk_x=e.pageX-a.left;r.clk_y=e.pageY-a.top}else{r.clk_x=e.pageX-i.offsetLeft;r.clk_y=e.pageY-i.offsetTop}}setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};t.fn.formToArray=function(i,n){var s=[];if(this.length===0){return s}var r=this[0];var a=i?r.getElementsByTagName("*"):r.elements;if(!a){return s}var o,l,h,u,c,f,d;for(o=0,f=a.length;o<f;o++){c=a[o];h=c.name;if(!h||c.disabled){continue}if(i&&r.clk&&c.type=="image"){if(r.clk==c){s.push({name:h,value:t(c).val(),type:c.type});s.push({name:h+".x",value:r.clk_x},{name:h+".y",value:r.clk_y})}continue}u=t.fieldValue(c,true);if(u&&u.constructor==Array){if(n)n.push(c);for(l=0,d=u.length;l<d;l++){s.push({name:h,value:u[l]})}}else if(e.fileapi&&c.type=="file"){if(n)n.push(c);var p=c.files;if(p.length){for(l=0;l<p.length;l++){s.push({name:h,value:p[l],type:c.type})}}else{s.push({name:h,value:"",type:c.type})}}else if(u!==null&&typeof u!="undefined"){if(n)n.push(c);s.push({name:h,value:u,type:c.type,required:c.required})}}if(!i&&r.clk){var g=t(r.clk),m=g[0];h=m.name;if(h&&!m.disabled&&m.type=="image"){s.push({name:h,value:g.val()});s.push({name:h+".x",value:r.clk_x},{name:h+".y",value:r.clk_y})}}return s};t.fn.formSerialize=function(e){return t.param(this.formToArray(e))};t.fn.fieldSerialize=function(e){var i=[];this.each(function(){var n=this.name;if(!n){return}var s=t.fieldValue(this,e);if(s&&s.constructor==Array){for(var r=0,a=s.length;r<a;r++){i.push({name:n,value:s[r]})}}else if(s!==null&&typeof s!="undefined"){i.push({name:this.name,value:s})}});return t.param(i)};t.fn.fieldValue=function(e){for(var i=[],n=0,s=this.length;n<s;n++){var r=this[n];var a=t.fieldValue(r,e);if(a===null||typeof a=="undefined"||a.constructor==Array&&!a.length){continue}if(a.constructor==Array)t.merge(i,a);else i.push(a)}return i};t.fieldValue=function(e,i){var n=e.name,s=e.type,r=e.tagName.toLowerCase();if(i===undefined){i=true}if(i&&(!n||e.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!e.checked||(s=="submit"||s=="image")&&e.form&&e.form.clk!=e||r=="select"&&e.selectedIndex==-1)){return null}if(r=="select"){var a=e.selectedIndex;if(a<0){return null}var o=[],l=e.options;var h=s=="select-one";var u=h?a+1:l.length;for(var c=h?a:0;c<u;c++){var f=l[c];if(f.selected){var d=f.value;if(!d){d=f.attributes&&f.attributes["value"]&&!f.attributes["value"].specified?f.text:f.value}if(h){return d}o.push(d)}}return o}return t(e).val()};t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})};t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,s=this.tagName.toLowerCase();if(i.test(n)||s=="textarea"){this.value=""}else if(n=="checkbox"||n=="radio"){this.checked=false}else if(s=="select"){this.selectedIndex=-1}else if(n=="file"){if(/MSIE/.test(navigator.userAgent)){t(this).replaceWith(t(this).clone(true))}else{t(this).val("")}}else if(e){if(e===true&&/hidden/.test(n)||typeof e=="string"&&t(this).is(e))this.value=""}})};t.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};t.fn.enable=function(t){if(t===undefined){t=true}return this.each(function(){this.disabled=!t})};t.fn.selected=function(e){if(e===undefined){e=true}return this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio"){this.checked=e}else if(this.tagName.toLowerCase()=="option"){var n=t(this).parent("select");if(e&&n[0]&&n[0].type=="select-one"){n.find("option").selected(false)}this.selected=e}})};t.fn.ajaxSubmit.debug=false;function r(){if(!t.fn.ajaxSubmit.debug)return;var e="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(e)}else if(window.opera&&window.opera.postError){window.opera.postError(e)}}});var hexcase=0;var b64pad="=";var chrsz=8;function hex_sha1(t){return binb2hex(core_sha1(str2binb(t),t.length*chrsz))}function b64_sha1(t){return binb2b64(core_sha1(str2binb(t),t.length*chrsz))}function str_sha1(t){return binb2str(core_sha1(str2binb(t),t.length*chrsz))}function hex_hmac_sha1(t,e){return binb2hex(core_hmac_sha1(t,e))}function b64_hmac_sha1(t,e){return binb2b64(core_hmac_sha1(t,e))}function str_hmac_sha1(t,e){return binb2str(core_hmac_sha1(t,e))}function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}function core_sha1(t,e){t[e>>5]|=128<<24-e%32;t[(e+64>>9<<4)+15]=e;var i=Array(80);var n=1732584193;var s=-271733879;var r=-1732584194;var a=271733878;var o=-1009589776;for(var l=0;l<t.length;l+=16){var h=n;var u=s;var c=r;var f=a;var d=o;for(var p=0;p<80;p++){if(p<16)i[p]=t[l+p];else i[p]=rol(i[p-3]^i[p-8]^i[p-14]^i[p-16],1);var g=safe_add(safe_add(rol(n,5),sha1_ft(p,s,r,a)),safe_add(safe_add(o,i[p]),sha1_kt(p)));o=a;a=r;r=rol(s,30);s=n;n=g}n=safe_add(n,h);s=safe_add(s,u);r=safe_add(r,c);a=safe_add(a,f);o=safe_add(o,d)}return Array(n,s,r,a,o)}function sha1_ft(t,e,i,n){if(t<20)return e&i|~e&n;if(t<40)return e^i^n;if(t<60)return e&i|e&n|i&n;return e^i^n}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function core_hmac_sha1(t,e){var i=str2binb(t);if(i.length>16)i=core_sha1(i,t.length*chrsz);var n=Array(16),s=Array(16);for(var r=0;r<16;r++){n[r]=i[r]^909522486;s[r]=i[r]^1549556828}var a=core_sha1(n.concat(str2binb(e)),512+e.length*chrsz);return core_sha1(s.concat(a),512+160)}function safe_add(t,e){var i=(t&65535)+(e&65535);var n=(t>>16)+(e>>16)+(i>>16);return n<<16|i&65535}function rol(t,e){return t<<e|t>>>32-e}function str2binb(t){var e=Array();var i=(1<<chrsz)-1;for(var n=0;n<t.length*chrsz;n+=chrsz)e[n>>5]|=(t.charCodeAt(n/chrsz)&i)<<32-chrsz-n%32;return e}function binb2str(t){var e="";var i=(1<<chrsz)-1;for(var n=0;n<t.length*32;n+=chrsz)e+=String.fromCharCode(t[n>>5]>>>32-chrsz-n%32&i);return e}function binb2hex(t){var e=hexcase?"0123456789ABCDEF":"0123456789abcdef";var i="";for(var n=0;n<t.length*4;n++){i+=e.charAt(t[n>>2]>>(3-n%4)*8+4&15)+e.charAt(t[n>>2]>>(3-n%4)*8&15)}return i}function binb2b64(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i="";for(var n=0;n<t.length*4;n+=3){var s=(t[n>>2]>>8*(3-n%4)&255)<<16|(t[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|t[n+2>>2]>>8*(3-(n+2)%4)&255;for(var r=0;r<4;r++){if(n*8+r*6>t.length*32)i+=b64pad;else i+=e.charAt(s>>6*(3-r)&63)}}return i}(function(t){function e(t,e){return function(i){return l(t.call(this,i),e)}}function i(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}function n(){}function s(t){a(this,t)}function r(t){var e=t.years||t.year||t.y||0,i=t.months||t.month||t.M||0,n=t.weeks||t.week||t.w||0,s=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=+l+1e3*o+6e4*a+36e5*r,this._days=+s+7*n,this._months=+i+12*e,this._data={},this._bubble()}function a(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}function h(t,e,i,n){var s,r,a=e._milliseconds,o=e._days,l=e._months;a&&t._d.setTime(+t._d+a*i),(o||l)&&(s=t.minute(),r=t.hour()),o&&t.date(t.date()+o*i),l&&t.month(t.month()+l*i),a&&!n&&H.updateOffset(t),(o||l)&&(t.minute(s),t.hour(r))}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(i=0;n>i;i++)~~t[i]!==~~e[i]&&r++;return r+s}function f(t){return t?lt[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function d(t,e){return e.abbr=t,j[t]||(j[t]=new n),j[t].set(e),j[t]}function p(t){delete j[t]}function g(t){if(!t)return H.fn._lang;if(!j[t]&&W)try{require("./lang/"+t)}catch(e){return H.fn._lang}return j[t]||H.fn._lang}function m(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function v(t){var e,i,n=t.match(X);for(e=0,i=n.length;i>e;e++)n[e]=ft[n[e]]?ft[n[e]]:m(n[e]);return function(s){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(s,t):n[e];return r}}function y(t,e){return e=b(e,t.lang()),ht[e]||(ht[e]=v(e)),ht[e](t)}function b(t,e){function i(t){return e.longDateFormat(t)||t}for(var n=5;n--&&(q.lastIndex=0,q.test(t));)t=t.replace(q,i);return t}function x(t,e){switch(t){case"DDDD":return U;case"YYYY":return K;case"YYYYY":return Q;case"S":case"SS":case"SSS":case"DDD":return V;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Z;case"a":case"A":return g(e._l)._meridiemParse;case"X":return et;case"Z":case"ZZ":return J;case"T":return tt;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return G;default:return new RegExp(t.replace("\\",""))}}function w(t){var e=(J.exec(t)||[])[0],i=(e+"").match(rt)||["-",0,0],n=+(60*i[1])+~~i[2];return"+"===i[0]?-n:n}function _(t,e,i){var n,s=i._a;switch(t){case"M":case"MM":null!=e&&(s[1]=~~e-1);break;case"MMM":case"MMMM":n=g(i._l).monthsParse(e),null!=n?s[1]=n:i._isValid=!1;break;case"D":case"DD":null!=e&&(s[2]=~~e);break;case"DDD":case"DDDD":null!=e&&(s[1]=0,s[2]=~~e);break;case"YY":s[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~e;break;case"a":case"A":i._isPm=g(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":s[3]=~~e;break;case"m":case"mm":s[4]=~~e;break;case"s":case"ss":s[5]=~~e;break;case"S":case"SS":case"SSS":s[6]=~~(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=w(e)}null==e&&(i._isValid=!1)}function k(t){var e,i,n,s=[];if(!t._d){for(n=T(t),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),i=new Date(0),t._useUTC?(i.setUTCFullYear(s[0],s[1],s[2]),i.setUTCHours(s[3],s[4],s[5],s[6])):(i.setFullYear(s[0],s[1],s[2]),i.setHours(s[3],s[4],s[5],s[6])),t._d=i}}function C(t){var e=t._i;t._d||(t._a=[e.years||e.year||e.y,e.months||e.month||e.M,e.days||e.day||e.d,e.hours||e.hour||e.h,e.minutes||e.minute||e.m,e.seconds||e.second||e.s,e.milliseconds||e.millisecond||e.ms],k(t))}function T(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function D(t){var e,i,n,s=g(t._l),r=""+t._i;for(n=b(t._f,s).match(X),t._a=[],e=0;e<n.length;e++)i=(x(n[e],t).exec(r)||[])[0],i&&(r=r.slice(r.indexOf(i)+i.length)),ft[n[e]]&&_(n[e],i,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),k(t)}function S(t){var e,i,n,r,o,l=99;for(r=0;r<t._f.length;r++)e=a({},t),e._f=t._f[r],D(e),i=new s(e),o=c(e._a,i.toArray()),i._il&&(o+=i._il.length),l>o&&(l=o,n=i);a(t,n)}function M(t){var e,i=t._i,n=it.exec(i);if(n){for(t._f="YYYY-MM-DD"+(n[2]||" "),e=0;4>e;e++)if(st[e][1].exec(i)){t._f+=st[e][0];break}J.exec(i)&&(t._f+=" Z"),D(t)}else t._d=new Date(i)}function P(e){var i=e._i,n=Y.exec(i);i===t?e._d=new Date:n?e._d=new Date(+n[1]):"string"==typeof i?M(e):u(i)?(e._a=i.slice(0),k(e)):i instanceof Date?e._d=new Date(+i):"object"==typeof i?C(e):e._d=new Date(i)}function A(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function I(t,e,i){var n=R(Math.abs(t)/1e3),s=R(n/60),r=R(s/60),a=R(r/24),o=R(a/365),l=45>n&&["s",n]||1===s&&["m"]||45>s&&["mm",s]||1===r&&["h"]||22>r&&["hh",r]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",R(a/30)]||1===o&&["y"]||["yy",o];return l[2]=e,l[3]=t>0,l[4]=i,A.apply({},l)}function E(t,e,i){var n,s=i-e,r=i-t.day();return r>s&&(r-=7),s-7>r&&(r+=7),n=H(t).add("d",r),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function L(t){var e=t._i,i=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=g().preparse(e)),H.isMoment(e)?(t=a({},e),t._d=new Date(+e._d)):i?u(i)?S(t):D(t):P(t),new s(t))}function N(t,e){H.fn[t]=H.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),H.updateOffset(this),this):this._d["get"+i+e]()}}function F(t){H.duration.fn[t]=function(){return this._data[t]}}function O(t,e){H.duration.fn["as"+t]=function(){return+this/e}}for(var H,z,B="2.2.1",R=Math.round,j={},W="undefined"!=typeof module&&module.exports,Y=/^\/?Date\((\-?\d+)/i,$=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,X=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,G=/\d\d?/,V=/\d{1,3}/,U=/\d{3}/,K=/\d{1,4}/,Q=/[+\-]?\d{1,6}/,Z=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J=/Z|[\+\-]\d\d:?\d\d/i,tt=/T/i,et=/[\+\-]?\d+(\.\d{1,3})?/,it=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,nt="YYYY-MM-DDTHH:mm:ssZ",st=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],rt=/([\+\-]|\d\d)/gi,at="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ot={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},lt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},ht={},ut="DDD w W M D d".split(" "),ct="M D H h m s w W".split(" "),ft={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ut.length;)z=ut.pop(),ft[z+"o"]=i(ft[z],z);for(;ct.length;)z=ct.pop(),ft[z+z]=e(ft[z],2);for(ft.DDDD=e(ft.DDD,3),a(n.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=H.utc([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=H([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return E(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),H=function(t,e,i){return L({_i:t,_f:e,_l:i,_isUTC:!1})},H.utc=function(t,e,i){return L({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:e}).utc()},H.unix=function(t){return H(1e3*t)},H.duration=function(t,e){var i,n,s=H.isDuration(t),a="number"==typeof t,o=s?t._input:a?{}:t,l=$.exec(t);return a?e?o[e]=t:o.milliseconds=t:l&&(i="-"===l[1]?-1:1,o={y:0,d:~~l[2]*i,h:~~l[3]*i,m:~~l[4]*i,s:~~l[5]*i,ms:~~l[6]*i}),n=new r(o),s&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},H.version=B,H.defaultFormat=nt,H.updateOffset=function(){},H.lang=function(t,e){return t?(t=t.toLowerCase(),t=t.replace("_","-"),e?d(t,e):null===e?(p(t),t="en"):j[t]||g(t),H.duration.fn._lang=H.fn._lang=g(t),void 0):H.fn._lang._abbr},H.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),g(t)},H.isMoment=function(t){return t instanceof s},H.isDuration=function(t){return t instanceof r},a(H.fn=s.prototype,{clone:function(){return H(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return y(H(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var t,e=this._a,i=(this._isUTC?H.utc(this._a):H(this._a)).toArray();for(t=6;t>=0&&e[t]===i[t];--t);return t},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=y(this,t||H.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?H.duration(+e,t):H.duration(t,e),h(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?H.duration(+e,t):H.duration(t,e),h(this,i,-1),this},diff:function(t,e,i){var n,s,r=this._isUTC?H(t).zone(this._offset||0):H(t).local(),a=6e4*(this.zone()-r.zone());return e=f(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+r.daysInMonth()),s=12*(this.year()-r.year())+(this.month()-r.month()),s+=(this-H(this).startOf("month")-(r-H(r).startOf("month")))/n,s-=6e4*(this.zone()-H(this).startOf("month").zone()-(r.zone()-H(r).startOf("month").zone()))/n,"year"===e&&(s/=12)):(n=this-r,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-a)/864e5:"week"===e?(n-a)/6048e5:n),i?s:o(s)},from:function(t,e){return H.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(H(),t)},calendar:function(){var t=this.diff(H().zone(this.zone()).startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,i=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+i+"Month"](t),this.date(Math.min(e,this.daysInMonth())),H.updateOffset(this),this):this._d["get"+i+"Month"]()},startOf:function(t){switch(t=f(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoweek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=f(t),this.startOf(t).add("isoweek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+H(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+H(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+H(t).startOf(e)},min:function(t){return t=H.apply(null,arguments),this>t?this:t},max:function(t){return t=H.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=w(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&h(this,H.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(t){return t=t?H(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return H.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=R((H(this).startOf("day")-H(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=E(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=E(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=E(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=f(t),this[t.toLowerCase()]()},set:function(t,e){t=f(t),this[t.toLowerCase()](e)},lang:function(e){return e===t?this._lang:(this._lang=g(e),this)}}),z=0;z<at.length;z++)N(at[z].toLowerCase().replace(/s$/,""),at[z]);N("year","FullYear"),H.fn.days=H.fn.day,H.fn.months=H.fn.month,H.fn.weeks=H.fn.week,H.fn.isoWeeks=H.fn.isoWeek,H.fn.toJSON=H.fn.toISOString,a(H.duration.fn=r.prototype,{_bubble:function(){var t,e,i,n,s=this._milliseconds,r=this._days,a=this._months,l=this._data;l.milliseconds=s%1e3,t=o(s/1e3),l.seconds=t%60,e=o(t/60),l.minutes=e%60,i=o(e/60),l.hours=i%24,r+=o(i/24),l.days=r%30,a+=o(r/30),l.months=a%12,n=o(a/12),l.years=n},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,i=I(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},add:function(t,e){var i=H.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=H.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=f(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=f(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:H.fn.lang});for(z in ot)ot.hasOwnProperty(z)&&(O(z,ot[z]),F(z.toLowerCase()));O("Weeks",6048e5),H.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},H.lang("en",{ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),W&&(module.exports=H),"undefined"==typeof ender&&(this.moment=H),"function"==typeof define&&define.amd&&define("moment",[],function(){return H})}).call(this);(function(t){t.couch=t.couch||{};function e(t){var e=t.split("/");if(e[0]=="_design"){e.shift();return"_design/"+encodeURIComponent(e.join("/"))}return encodeURIComponent(t)}var i=[];t.extend(t.couch,{urlPrefix:"",activeTasks:function(t){n({url:this.urlPrefix+"/_active_tasks"},t,"Active task status could not be retrieved")},allDbs:function(t){n({url:this.urlPrefix+"/_all_dbs"},t,"An error occurred retrieving the list of all databases")},config:function(t,e,i,s){var r={url:this.urlPrefix+"/_config/"};if(e){r.url+=encodeURIComponent(e)+"/";if(i){r.url+=encodeURIComponent(i)}}if(s===null){r.type="DELETE"}else if(s!==undefined){r.type="PUT";r.data=a(s);r.contentType="application/json";r.processData=false}n(r,t,"An error occurred retrieving/updating the server configuration")},session:function(e){e=e||{};t.ajax({type:"GET",url:this.urlPrefix+"/_session",beforeSend:function(t){t.setRequestHeader("Accept","application/json")},complete:function(i){var n=t.parseJSON(i.responseText);if(i.status==200){if(e.success)e.success(n)}else if(e.error){e.error(i.status,n.error,n.reason)}else{throw"An error occurred getting session info: "+n.reason}}})},userDb:function(e){t.couch.session({success:function(i){var n=t.couch.db(i.info.authentication_db);e(n)}})},signup:function(e,i,n){n=n||{};e.password=i;e.roles=e.roles||[];e.type=e.type="user"||[];var s="org.couchdb.user:";e._id=e._id||s+e.name;t.couch.userDb(function(t){t.saveDoc(e,n)})},login:function(e){e=e||{};t.ajax({type:"POST",url:this.urlPrefix+"/_session",dataType:"json",data:{name:e.name,password:e.password},beforeSend:function(t){t.setRequestHeader("Accept","application/json")},complete:function(i){var n=t.parseJSON(i.responseText);if(i.status==200){if(e.success)e.success(n)}else if(e.error){e.error(i.status,n.error,n.reason)}else{throw"An error occurred logging in: "+n.reason}}})},logout:function(e){e=e||{};t.ajax({type:"DELETE",url:this.urlPrefix+"/_session",dataType:"json",username:"_",password:"_",beforeSend:function(t){t.setRequestHeader("Accept","application/json")},complete:function(i){var n=t.parseJSON(i.responseText);if(i.status==200){if(e.success)e.success(n)}else if(e.error){e.error(i.status,n.error,n.reason)}else{throw"An error occurred logging out: "+n.reason}}})},db:function(i,o){o=o||{};var l={};function h(t){if(t._id&&t._rev&&l[t._id]&&l[t._id].rev==t._rev){if(typeof Base64=="undefined"){throw"Base64 support not found."}else{t._attachments=t._attachments||{};t._attachments["rev-"+t._rev.split("-")[0]]={content_type:"application/json",data:Base64.encode(l[t._id].raw)};return true}}}return{name:i,uri:this.urlPrefix+"/"+encodeURIComponent(i)+"/",compact:function(e){t.extend(e,{successStatus:202});n({type:"POST",url:this.uri+"_compact",data:"",processData:false},e,"The database could not be compacted")},viewCleanup:function(e){t.extend(e,{successStatus:202});n({type:"POST",url:this.uri+"_view_cleanup",data:"",processData:false},e,"The views could not be cleaned up")},compactView:function(e,i){
t.extend(i,{successStatus:202});n({type:"POST",url:this.uri+"_compact/"+e,data:"",processData:false},i,"The view could not be compacted")},create:function(e){t.extend(e,{successStatus:201});n({type:"PUT",url:this.uri,contentType:"application/json",data:"",processData:false},e,"The database could not be created")},drop:function(t){n({type:"DELETE",url:this.uri},t,"The database could not be deleted")},info:function(t){n({url:this.uri},t,"Database information could not be retrieved")},changes:function(e,i){i=i||{};var s=100,a=this,o=true,l=[],h={onChange:function(t){l.push(t)},stop:function(){o=false}};function u(e){t.each(l,function(){this(e)})}i.success=function(t){s=100;if(o){e=t.last_seq;u(t);c()}};i.error=function(){if(o){setTimeout(c,s);s=s*2}};function c(){var s=t.extend({heartbeat:10*1e3},i,{feed:"longpoll",since:e});n({url:a.uri+"_changes"+r(s)},i,"Error connecting to "+a.uri+"/_changes.")}if(e){c()}else{a.info({success:function(t){e=t.update_seq;c()}})}return h},allDocs:function(t){var e="GET";var i=null;if(t["keys"]){e="POST";var s=t["keys"];delete t["keys"];i=a({keys:s})}n({type:e,data:i,url:this.uri+"_all_docs"+r(t)},t,"An error occurred retrieving a list of all documents")},allDesignDocs:function(e){this.allDocs(t.extend({startkey:"_design",endkey:"_design0"},e))},allApps:function(e){e=e||{};var n=this;if(e.eachApp){this.allDesignDocs({success:function(s){t.each(s.rows,function(){n.openDoc(this.id,{success:function(t){var n,s,r=t._id.split("/");r.shift();r=r.join("/");n=t.couchapp&&t.couchapp.index;if(n){s=["",i,t._id,n].join("/")}else if(t._attachments&&t._attachments["index.html"]){s=["",i,t._id,"index.html"].join("/")}if(s)e.eachApp(r,s,t)}})})}})}else{throw"Please provide an eachApp function for allApps()"}},openDoc:function(i,s,a){s=s||{};if(o.attachPrevRev||s.attachPrevRev){t.extend(s,{beforeSuccess:function(t,e){l[e._id]={rev:e._rev,raw:t.responseText}}})}else{t.extend(s,{beforeSuccess:function(t,e){if(e["jquery.couch.attachPrevRev"]){l[e._id]={rev:e._rev,raw:t.responseText}}}})}n({url:this.uri+e(i)+r(s)},s,"The document could not be retrieved",a)},saveDoc:function(i,n){n=n||{};var o=this;var l=s(n);if(i._id===undefined){var u="POST";var c=this.uri}else{var u="PUT";var c=this.uri+e(i._id)}var f=h(i);t.ajax({type:u,url:c+r(n),contentType:"application/json",dataType:"json",data:a(i),beforeSend:l,complete:function(e){var s=t.parseJSON(e.responseText);if(e.status==200||e.status==201||e.status==202){i._id=s.id;i._rev=s.rev;if(f){o.openDoc(i._id,{attachPrevRev:true,success:function(t){i._attachments=t._attachments;if(n.success)n.success(s)}})}else{if(n.success)n.success(s)}}else if(n.error){n.error(e.status,s.error,s.reason)}else{throw"The document could not be saved: "+s.reason}}})},bulkSave:function(e,i){var o=s(i);t.extend(i,{successStatus:201,beforeSend:o});n({type:"POST",url:this.uri+"_bulk_docs"+r(i),contentType:"application/json",data:a(e)},i,"The documents could not be saved")},removeDoc:function(t,i){n({type:"DELETE",url:this.uri+e(t._id)+r({rev:t._rev})},i,"The document could not be deleted")},bulkRemove:function(e,i){e.docs=t.each(e.docs,function(t,e){e._deleted=true});t.extend(i,{successStatus:201});n({type:"POST",url:this.uri+"_bulk_docs"+r(i),data:a(e)},i,"The documents could not be deleted")},copyDoc:function(i,s,r){r=t.extend(r,{complete:function(e){var i=t.parseJSON(e.responseText);if(e.status==201){if(s.success)s.success(i)}else if(s.error){s.error(e.status,i.error,i.reason)}else{throw"The document could not be copied: "+i.reason}}});n({type:"COPY",url:this.uri+e(i)},s,"The document could not be copied",r)},query:function(t,e,i,s){i=i||"javascript";if(typeof t!=="string"){t=t.toSource?t.toSource():"("+t.toString()+")"}var o={language:i,map:t};if(e!=null){if(typeof e!=="string")e=e.toSource?e.toSource():"("+e.toString()+")";o.reduce=e}n({type:"POST",url:this.uri+"_temp_view"+r(s),contentType:"application/json",data:a(o)},s,"An error occurred querying the database")},list:function(t,e,i,s){var t=t.split("/");var i=i||{};var o="GET";var l=null;if(i["keys"]){o="POST";var h=i["keys"];delete i["keys"];l=a({keys:h})}n({type:o,data:l,url:this.uri+"_design/"+t[0]+"/_list/"+t[1]+"/"+e+r(i)},s,"An error occured accessing the list")},view:function(t,e){var t=t.split("/");var e=e||{};var i="GET";var s=null;if(e["keys"]){i="POST";var o=e["keys"];delete e["keys"];s=a({keys:o})}n({type:i,data:s,url:this.uri+"_design/"+t[0]+"/_view/"+t[1]+r(e)},e,"An error occurred accessing the view")},getDbProperty:function(t,e,i){n({url:this.uri+t+r(e)},e,"The property could not be retrieved",i)},setDbProperty:function(t,e,i,s){n({type:"PUT",url:this.uri+t+r(i),data:JSON.stringify(e)},i,"The property could not be updated",s)}}},encodeDocId:e,info:function(t){n({url:this.urlPrefix+"/"},t,"Server information could not be retrieved")},replicate:function(e,i,s,r){r=t.extend({source:e,target:i},r);if(r.continuous&&!r.cancel){s.successStatus=202}n({type:"POST",url:this.urlPrefix+"/_replicate",data:JSON.stringify(r),contentType:"application/json"},s,"Replication failed")},newUUID:function(t){if(t===undefined){t=1}if(!i.length){n({url:this.urlPrefix+"/_uuids",data:{count:t},async:false},{success:function(t){i=t.uuids}},"Failed to retrieve UUID batch.")}return i.shift()}});function n(e,i,n,s){var r;var a={contentType:"application/json",headers:{Accept:"application/json"}};i=t.extend({successStatus:200},i);s=t.extend(a,s);n=n||"Unknown error";r=(new Date).getTime();t.ajax(t.extend(t.extend({type:"GET",dataType:"json",cache:!t.browser.msie,beforeSend:function(t){if(s&&s.headers){for(var e in s.headers){t.setRequestHeader(e,s.headers[e])}}},complete:function(e){var s=(new Date).getTime()-r;try{var a=t.parseJSON(e.responseText)}catch(o){if(i.error){i.error(e.status,e,o)}else{throw n+": "+o}return}if(i.ajaxStart){i.ajaxStart(a)}if(e.status==i.successStatus){if(i.beforeSuccess)i.beforeSuccess(e,a,s);if(i.success)i.success(a,s)}else if(i.error){i.error(e.status,a&&a.error||n,a&&a.reason||"no response",s)}else{throw n+": "+a.reason}}},e),s))}function s(t){var t=t||{};if(typeof t.ensure_full_commit!=="undefined"){var e=t.ensure_full_commit;delete t.ensure_full_commit;return function(t){t.setRequestHeader("Accept","application/json");t.setRequestHeader("X-Couch-Full-Commit",e.toString())}}}function r(e){var i=[];if(typeof e==="object"&&e!==null){for(var n in e){if(t.inArray(n,["error","success","beforeSuccess","ajaxStart"])>=0)continue;var s=e[n];if(t.inArray(n,["key","startkey","endkey"])>=0){s=a(s)}i.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}}return i.length?"?"+i.join("&"):""}function a(t){return t!==null?JSON.stringify(t):null}})(jQuery);(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(t){var e=/\+/g;function i(t){if(s.raw){return t}try{return decodeURIComponent(t.replace(e," "))}catch(i){}}function n(t){if(t.indexOf('"')===0){t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}t=i(t);try{return s.json?JSON.parse(t):t}catch(e){}}var s=t.cookie=function(e,r,a){if(r!==undefined){a=t.extend({},s.defaults,a);if(typeof a.expires==="number"){var o=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+o)}r=s.json?JSON.stringify(r):String(r);return document.cookie=[s.raw?e:encodeURIComponent(e),"=",s.raw?r:encodeURIComponent(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var h=e?undefined:{};var u=document.cookie?document.cookie.split("; "):[];for(var c=0,f=u.length;c<f;c++){var d=u[c].split("=");var p=i(d.shift());var g=d.join("=");if(e&&e===p){h=n(g);break}if(!e&&(g=n(g))!==undefined){h[p]=g}}return h};s.defaults={};t.removeCookie=function(e,i){if(t.cookie(e)!==undefined){t.cookie(e,"",t.extend({},i,{expires:-1}));return true}return false}});(function(t){Backbone.couch={};Backbone.couch.options={database:"test",design:"backbone"};var e={_format_row:function(t){_.extend(t,t.value?{value:t.value}:{},t.doc);delete t.doc;return t},_ignores:["view","update","filter"],_remove:function(t){_.each(e._ignores,function(e){delete t[e]})},model:{create:function(t,i,n){var s=i.couch&&i.couch()||{};if(!t)var t=i._db;var r=_.bind(t.saveDoc,t);if("update"in s)r=_.bind(t.updateDoc,t,s.update);e._remove(s);r(i.toJSON(),_.extend(s,{success:function(t){n.success(_.extend({_id:t.id,_rev:t.rev},t.doc))},error:n.error}))},update:function(t,e,i){this.create(t,e,i)},read:function(t,e,i){t=e._db;t.openDoc(e.id,{success:i.success,error:i.error})},"delete":function(t,e,i){t.removeDoc(_.extend({_id:e.id},e.toJSON()),{success:i.success,error:i.error})}},collection:{read:function(t,i,n){var s=i.couch();if(!("view"in s))throw new Error("The return of `couch()` must contain the view");var r=s.view;e._remove(s);t.view(r,_.extend({success:function(t){n.success(_.map(t.rows,e._format_row))},error:n.error},s))}},sync:function(t,i,n){_db=this._db||this.collection&&this.collection._db;if(!_db)this._db=Backbone.couch.db(Backbone.couch.options.database);var s="model"in i?"collection":"model";e[s][t](_db,i,n)}};Backbone.couch.db=function(e,i){if(!i)i={};var n=t.couch.urlPrefix;t.couch.urlPrefix=i.host||t.couch.urlPrefix;var s=t.couch.db(e,i);_.extend(s,{updateDoc:function(t,e,i){var n=this.uri;var s=t.split("/");this.uri=this.uri+"_design/"+s[0]+"/_update/"+s[1];this.saveDoc(e,i);this.uri=n}});t.couch.urlPrefix=n;return s};Backbone.couch.sync=e.sync;Backbone.couch.Model=Backbone.Model.extend({sync:e.sync,idAttribute:"_id"});Backbone.couch.Collection=Backbone.Collection.extend({sync:e.sync,change_feed:false,initialize:function(){_.bindAll(this,"_init_changes","_on_change");if(this.change_feed)this._db.info({success:this._init_changes})},_init_changes:function(t){var e=t.update_seq||0;var i={include_docs:true};var n=this.couch();if("filter"in n)_.extend(i,n.filter);this._changes=this._db.changes(e,i);this._changes.onChange(this._on_change)},_on_change:function(t){var i=this;_.each(t.results,function(t){var n=i.get(t.id);if(n){if(t.deleted)return i.remove(n);if(n.get("_rev")==t.doc._rev)return;return n.set(t.doc)}if(t.deleted)return;i.add(e._format_row(t))})}})})(jQuery);function htmlEncode(t){return $("<div/>").text(t).html()}$.fn.serializeObject=function(){var t={};var e=this.serializeArray();$.each(e,function(){if(t[this.name]!==undefined){if(!t[this.name].push){t[this.name]=[t[this.name]]}t[this.name].push(this.value||"")}else{t[this.name]=this.value||""}});return t};(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(t,e){var i={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],s={anchor:"fragment"},r={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},a=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,o=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;function l(t,e){var i=decodeURI(unescape(t)),s=r[e||false?"strict":"loose"].exec(i),l={attr:{},param:{},seg:{}},h=14;while(h--){l.attr[n[h]]=s[h]||""}l.param["query"]={};l.param["fragment"]={};l.attr["query"].replace(a,function(t,e,i){if(e){l.param["query"][e]=i}});l.attr["fragment"].replace(o,function(t,e,i){if(e){l.param["fragment"][e]=i}});l.seg["path"]=l.attr.path.replace(/^\/+|\/+$/g,"").split("/");l.seg["fragment"]=l.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");l.attr["base"]=l.attr.host?(l.attr.protocol?l.attr.protocol+"://"+l.attr.host:l.attr.host)+(l.attr.port?":"+l.attr.port:""):"";return l}function h(t){var n=t.tagName;if(n!==e)return i[n.toLowerCase()];return n}t.fn.url=function(e){var i="";if(this.length){i=t(this).attr(h(this[0]))||""}return t.url(i,e)};t.url=function(t,i){if(arguments.length===1&&t===true){i=true;t=e}i=i||false;t=t||window.location.toString();return{data:l(t,i),attr:function(t){t=s[t]||t;return t!==e?this.data.attr[t]:this.data.attr},param:function(t){return t!==e?this.data.param.query[t]:this.data.param.query},fparam:function(t){return t!==e?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){if(t===e){return this.data.seg.path}else{t=t<0?this.data.seg.path.length+t:t-1;return this.data.seg.path[t]}},fsegment:function(t){if(t===e){return this.data.seg.fragment}else{t=t<0?this.data.seg.fragment.length+t:t-1;return this.data.seg.fragment[t]}}}}});!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i;for(i in e){if(t.style[i]!==undefined){return e[i]}}}();return t&&{end:t}}()})}(window.jQuery);!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){var i=t(this),n=i.attr("data-target"),s;if(!n){n=i.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}s=t(n);e&&e.preventDefault();s.length||(s=i.hasClass("alert")?i:i.parent());s.trigger(e=t.Event("close"));if(e.isDefaultPrevented())return;s.removeClass("in");function r(){s.trigger("closed").remove()}t.support.transition&&s.hasClass("fade")?s.on(t.support.transition.end,r):r()};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("alert");if(!s)n.data("alert",s=new i(this));if(typeof e=="string")s[e].call(n)})};t.fn.alert.Constructor=i;t.fn.alert.noConflict=function(){t.fn.alert=n;return this};t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.$element=t(e);this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";t=t+"Text";n.resetText||i.data("resetText",i[s]());i[s](n[t]||this.options[t]);setTimeout(function(){t=="loadingText"?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)};e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active");this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("button"),r=typeof i=="object"&&i;if(!s)n.data("button",s=new e(this,r));if(i=="toggle")s.toggle();else if(i)s.setState(i)})};t.fn.button.defaults={loadingText:"loading..."};t.fn.button.Constructor=e;t.fn.button.noConflict=function(){t.fn.button=i;return this};t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);if(!i.hasClass("btn"))i=i.closest(".btn");i.button("toggle")})}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.$element=t(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.options.pause=="hover"&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){if(!e)this.paused=false;if(this.interval)clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),n=this;if(e>this.$items.length-1||e<0)return;if(this.sliding){return this.$element.one("slid",function(){n.to(e)})}if(i==e){return this.pause().cycle()}return this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){if(!e)this.paused=true;if(this.$element.find(".next, .prev").length&&t.support.transition.end){this.$element.trigger(t.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),r=this.interval,a=e=="next"?"left":"right",o=e=="next"?"first":"last",l=this,h;this.sliding=true;r&&this.pause();s=s.length?s:this.$element.find(".item")[o]();h=t.Event("slide",{relatedTarget:s[0],direction:a});if(s.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})}if(t.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);if(h.isDefaultPrevented())return;s.addClass(e);s[0].offsetWidth;n.addClass(a);s.addClass(a);this.$element.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active");n.removeClass(["active",a].join(" "));l.sliding=false;setTimeout(function(){l.$element.trigger("slid")},0)})}else{this.$element.trigger(h);if(h.isDefaultPrevented())return;n.removeClass("active");s.addClass("active");this.sliding=false;this.$element.trigger("slid")}r&&this.cycle();return this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("carousel"),r=t.extend({},t.fn.carousel.defaults,typeof i=="object"&&i),a=typeof i=="string"?i:r.slide;if(!s)n.data("carousel",s=new e(this,r));if(typeof i=="number")s.to(i);else if(a)s[a]();else if(r.interval)s.pause().cycle()})};t.fn.carousel.defaults={interval:5e3,pause:"hover"};t.fn.carousel.Constructor=e;t.fn.carousel.noConflict=function(){t.fn.carousel=i;return this};t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i=t(this),n,s=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},s.data(),i.data()),a;s.carousel(r);if(a=i.attr("data-slide-to")){s.data("carousel").pause().to(a).cycle()}e.preventDefault()})}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.$element=t(e);this.options=t.extend({},t.fn.collapse.defaults,i);if(this.options.parent){this.$parent=t(this.options.parent)}this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,s;if(this.transitioning||this.$element.hasClass("in"))return;e=this.dimension();i=t.camelCase(["scroll",e].join("-"));n=this.$parent&&this.$parent.find("> .accordion-group > .in");if(n&&n.length){s=n.data("collapse");if(s&&s.transitioning)return;n.collapse("hide");s||n.data("collapse",null)}this.$element[e](0);this.transition("addClass",t.Event("show"),"shown");t.support.transition&&this.$element[e](this.$element[0][i])},hide:function(){var e;if(this.transitioning||!this.$element.hasClass("in"))return;e=this.dimension();this.reset(this.$element[e]());this.transition("removeClass",t.Event("hide"),"hidden");this.$element[e](0)},reset:function(t){var e=this.dimension();this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth;this.$element[t!==null?"addClass":"removeClass"]("collapse");return this},transition:function(e,i,n){var s=this,r=function(){if(i.type=="show")s.reset();s.transitioning=0;s.$element.trigger(n)};this.$element.trigger(i);if(i.isDefaultPrevented())return;this.transitioning=1;this.$element[e]("in");t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("collapse"),r=t.extend({},t.fn.collapse.defaults,n.data(),typeof i=="object"&&i);if(!s)n.data("collapse",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.collapse.defaults={toggle:true};t.fn.collapse.Constructor=e;t.fn.collapse.noConflict=function(){t.fn.collapse=i;return this};t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i=t(this),n,s=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(s).data("collapse")?"toggle":i.data();i[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed");t(s).collapse(r)})}(window.jQuery);!function(t){"use strict";var e="[data-toggle=dropdown]",i=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(e){var i=t(this),r,a;if(i.is(".disabled, :disabled"))return;r=s(i);a=r.hasClass("open");n();if(!a){r.toggleClass("open")}i.focus();return false},keydown:function(i){var n,r,a,o,l,h;if(!/(38|40|27)/.test(i.keyCode))return;n=t(this);i.preventDefault();i.stopPropagation();if(n.is(".disabled, :disabled"))return;o=s(n);l=o.hasClass("open");if(!l||l&&i.keyCode==27){if(i.which==27)o.find(e).focus();return n.click()}r=t("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;h=r.index(r.filter(":focus"));if(i.keyCode==38&&h>0)h--;if(i.keyCode==40&&h<r.length-1)h++;if(!~h)h=0;r.eq(h).focus()}};function n(){t(e).each(function(){s(t(this)).removeClass("open")})}function s(e){var i=e.attr("data-target"),n;if(!i){i=e.attr("href");i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}n=i&&t(i);if(!n||!n.length)n=e.parent();return n}var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),s=n.data("dropdown");if(!s)n.data("dropdown",s=new i(this));if(typeof e=="string")s[e].call(n)})};t.fn.dropdown.Constructor=i;t.fn.dropdown.noConflict=function(){t.fn.dropdown=r;return this};t(document).on("click.dropdown.data-api",n).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",e,i.prototype.toggle).on("keydown.dropdown.data-api",e+", [role=menu]",i.prototype.keydown)}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.options=i;this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");if(!e.$element.parent().length){e.$element.appendTo(document.body)}e.$element.show();if(i){e.$element[0].offsetWidth}e.$element.addClass("in").attr("aria-hidden",false);e.enforceFocus();i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var i=this;e=t.Event("hide");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();t(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){if(e.$element[0]!==t.target&&!e.$element.has(t.target).length){e.$element.focus()}})},escape:function(){var t=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end);e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i);e.hideModal()})},hideModal:function(){var t=this;this.$element.hide();this.backdrop(function(){t.removeBackdrop();t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this));if(s)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!e)return;s?this.$backdrop.one(t.support.transition.end,e):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()}else if(e){e()}}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),s=n.data("modal"),r=t.extend({},t.fn.modal.defaults,n.data(),typeof i=="object"&&i);if(!s)n.data("modal",s=new e(this,r));if(typeof i=="string")s[i]();else if(r.show)s.show()})};t.fn.modal.defaults={backdrop:true,keyboard:true,show:true};t.fn.modal.Constructor=e;t.fn.modal.noConflict=function(){t.fn.modal=i;return this};t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault();s.modal(r).one("hide",function(){i.focus()})})}(window.jQuery);!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,r,a,o,l;this.type=e;this.$element=t(i);this.options=this.getOptions(n);this.enabled=true;a=this.options.trigger.split(" ");for(l=a.length;l--;){o=a[l];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this))}else if(o!="manual"){s=o=="hover"?"mouseenter":"focus";r=o=="hover"?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this));this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(e){var i=t.fn[this.type].defaults,n={},s;this._options&&t.each(this._options,function(t,e){if(i[t]!=e)n[t]=e},this);s=t(e.currentTarget)[this.type](n).data(this.type);if(!s.options.delay||!s.options.delay.show)return s.show();clearTimeout(this.timeout);s.hoverState="in";this.timeout=setTimeout(function(){if(s.hoverState=="in")s.show()},s.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out";this.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)},show:function(){var e,i,n,s,r,a,o=t.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(o);if(o.isDefaultPrevented())return;e=this.tip();this.setContent();if(this.options.animation){e.addClass("fade")}r=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;e.detach().css({top:0,left:0,display:"block"});this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);i=this.getPosition();n=e[0].offsetWidth;s=e[0].offsetHeight;switch(r){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":a={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":a={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":a={top:i.top+i.height/2-s/2,left:i.left+i.width};break}this.applyPlacement(a,r);this.$element.trigger("shown")}},applyPlacement:function(t,e){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,r,a,o,l;i.offset(t).addClass(e).addClass("in");r=i[0].offsetWidth;a=i[0].offsetHeight;if(e=="top"&&a!=s){t.top=t.top+s-a;l=true}if(e=="bottom"||e=="top"){o=0;if(t.left<0){o=t.left*-2;t.left=0;i.offset(t);r=i[0].offsetWidth;a=i[0].offsetHeight}this.replaceArrow(o-n+r,r,"left")}else{this.replaceArrow(a-s,a,"top")}if(l)i.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e);t.removeClass("fade in top bottom left right")},hide:function(){var e=this,i=this.tip(),n=t.Event("hide");this.$element.trigger(n);if(n.isDefaultPrevented())return;i.removeClass("in");function s(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e);i.detach()})}t.support.transition&&this.$tip.hasClass("fade")?s():i.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var t=this.$element;if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title);return t},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),r=typeof i=="object"&&i;if(!s)n.data("tooltip",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.tooltip.Constructor=e;t.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};t.fn.tooltip.noConflict=function(){t.fn.tooltip=i;return this}}(window.jQuery);!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e);t.find(".popover-content")[this.options.html?"html":"text"](i);t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;t=(typeof i.content=="function"?i.content.call(e[0]):i.content)||e.attr("data-content");return t},tip:function(){if(!this.$tip){this.$tip=t(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("popover"),r=typeof i=="object"&&i;if(!s)n.data("popover",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.popover.Constructor=e;t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
});t.fn.popover.noConflict=function(){t.fn.popover=i;return this}}(window.jQuery);!function(t){"use strict";function e(e,i){var n=t.proxy(this.process,this),s=t(e).is("body")?t(window):t(e),r;this.options=t.extend({},t.fn.scrollspy.defaults,i);this.$scrollElement=s.on("scroll.scroll-spy.data-api",n);this.selector=(this.options.target||(r=t(e).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=t("body");this.refresh();this.process()}e.prototype={constructor:e,refresh:function(){var e=this,i;this.offsets=t([]);this.targets=t([]);i=this.$body.find(this.selector).map(function(){var i=t(this),n=i.data("target")||i.attr("href"),s=/^#\w/.test(n)&&t(n);return s&&s.length&&[[s.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})},process:function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=e-this.$scrollElement.height(),n=this.offsets,s=this.targets,r=this.activeTarget,a;if(t>=i){return r!=(a=s.last()[0])&&this.activate(a)}for(a=n.length;a--;){r!=s[a]&&t>=n[a]&&(!n[a+1]||t<=n[a+1])&&this.activate(s[a])}},activate:function(e){var i,n;this.activeTarget=e;t(this.selector).parent(".active").removeClass("active");n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]';i=t(n).parent("li").addClass("active");if(i.parent(".dropdown-menu").length){i=i.closest("li.dropdown").addClass("active")}i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("scrollspy"),r=typeof i=="object"&&i;if(!s)n.data("scrollspy",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.scrollspy.Constructor=e;t.fn.scrollspy.defaults={offset:10};t.fn.scrollspy.noConflict=function(){t.fn.scrollspy=i;return this};t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery);!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target"),s,r,a;if(!n){n=e.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(e.parent("li").hasClass("active"))return;s=i.find(".active:last a")[0];a=t.Event("show",{relatedTarget:s});e.trigger(a);if(a.isDefaultPrevented())return;r=t(n);this.activate(e.parent("li"),i);this.activate(r,r.parent(),function(){e.trigger({type:"shown",relatedTarget:s})})},activate:function(e,i,n){var s=i.find("> .active"),r=n&&t.support.transition&&s.hasClass("fade");function a(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");e.addClass("active");if(r){e[0].offsetWidth;e.addClass("in")}else{e.removeClass("fade")}if(e.parent(".dropdown-menu")){e.closest("li.dropdown").addClass("active")}n&&n()}r?s.one(t.support.transition.end,a):a();s.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("tab");if(!s)n.data("tab",s=new e(this));if(typeof i=="string")s[i]()})};t.fn.tab.Constructor=e;t.fn.tab.noConflict=function(){t.fn.tab=i;return this};t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();t(this).tab("show")})}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.$element=t(e);this.options=t.extend({},t.fn.typeahead.defaults,i);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=t(this.options.menu);this.shown=false;this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(t)).change();return this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var i;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}i=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source;return i?this.process(i):this},process:function(e){var i=this;e=t.grep(e,function(t){return i.matcher(t)});e=this.sorter(e);if(!e.length){return this.shown?this.hide():this}return this.render(e.slice(0,this.options.items)).show()},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){var e=[],i=[],n=[],s;while(s=t.shift()){if(!s.toLowerCase().indexOf(this.query.toLowerCase()))e.push(s);else if(~s.indexOf(this.query))i.push(s);else n.push(s)}return e.concat(i,n)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;e=t(e).map(function(e,n){e=t(i.options.item).attr("data-value",n);e.find("a").html(i.highlighter(n));return e[0]});e.first().addClass("active");this.$menu.html(e);return this},next:function(e){var i=this.$menu.find(".active").removeClass("active"),n=i.next();if(!n.length){n=t(this.$menu.find("li")[0])}n.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev();if(!i.length){i=this.$menu.find("li").last()}i.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",t.proxy(this.keydown,this))}this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;if(!e){this.$element.setAttribute(t,"return;");e=typeof this.$element[t]==="function"}return e},move:function(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault();this.prev();break;case 40:t.preventDefault();this.next();break}t.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]);this.move(e)},keypress:function(t){if(this.suppressKeyPressRepeat)return;this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation();t.preventDefault()},focus:function(t){this.focused=true},blur:function(t){this.focused=false;if(!this.mousedover&&this.shown)this.hide()},click:function(t){t.stopPropagation();t.preventDefault();this.select();this.$element.focus()},mouseenter:function(e){this.mousedover=true;this.$menu.find(".active").removeClass("active");t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=false;if(!this.focused&&this.shown)this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("typeahead"),r=typeof i=="object"&&i;if(!s)n.data("typeahead",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};t.fn.typeahead.Constructor=e;t.fn.typeahead.noConflict=function(){t.fn.typeahead=i;return this};t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);if(i.data("typeahead"))return;i.typeahead(i.data())})}(window.jQuery);!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i);this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this));this.$element=t(e);this.checkPosition()};e.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=t(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,r=s.bottom,a=s.top,o="affix affix-top affix-bottom",l;if(typeof s!="object")r=a=s;if(typeof a=="function")a=s.top();if(typeof r=="function")r=s.bottom();l=this.unpin!=null&&i+this.unpin<=n.top?false:r!=null&&n.top+this.$element.height()>=e-r?"bottom":a!=null&&i<=a?"top":false;if(this.affixed===l)return;this.affixed=l;this.unpin=l=="bottom"?n.top-i:null;this.$element.removeClass(o).addClass("affix"+(l?"-"+l:""))};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("affix"),r=typeof i=="object"&&i;if(!s)n.data("affix",s=new e(this,r));if(typeof i=="string")s[i]()})};t.fn.affix.Constructor=e;t.fn.affix.defaults={offset:0};t.fn.affix.noConflict=function(){t.fn.affix=i;return this};t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{};i.offsetBottom&&(i.offset.bottom=i.offsetBottom);i.offsetTop&&(i.offset.top=i.offsetTop);e.affix(i)})})}(window.jQuery);(function(t){var e={init:function(i){return this.each(function(){e.destroy.call(this);this.opt=t.extend(true,{},t.fn.raty.defaults,i);var n=t(this),s=["number","readOnly","score","scoreName"];e._callback.call(this,s);if(this.opt.precision){e._adjustPrecision.call(this)}this.opt.number=e._between(this.opt.number,0,this.opt.numberMax);this.opt.path=this.opt.path||"";if(this.opt.path&&this.opt.path.charAt(this.opt.path.length-1)!=="/"){this.opt.path+="/"}this.stars=e._createStars.call(this);this.score=e._createScore.call(this);e._apply.call(this,this.opt.score);var r=this.opt.space?4:0,a=this.opt.width||this.opt.number*this.opt.size+this.opt.number*r;if(this.opt.cancel){this.cancel=e._createCancel.call(this);a+=this.opt.size+r}if(this.opt.readOnly){e._lock.call(this)}else{n.css("cursor","pointer");e._binds.call(this)}if(this.opt.width!==false){n.css("width",a)}e._target.call(this,this.opt.score);n.data({settings:this.opt,raty:true})})},_adjustPrecision:function(){this.opt.targetType="score";this.opt.half=true},_apply:function(t){if(t&&t>0){t=e._between(t,0,this.opt.number);this.score.val(t)}e._fill.call(this,t);if(t){e._roundStars.call(this,t)}},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){if(this.cancel){e._bindCancel.call(this)}e._bindClick.call(this);e._bindOut.call(this);e._bindOver.call(this)},_bindCancel:function(){e._bindClickCancel.call(this);e._bindOutCancel.call(this);e._bindOverCancel.call(this)},_bindClick:function(){var e=this,i=t(e);e.stars.on("click.raty",function(t){e.score.val(e.opt.half||e.opt.precision?i.data("score"):this.alt);if(e.opt.click){e.opt.click.call(e,parseFloat(e.score.val()),t)}})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value");if(t.opt.click){t.opt.click.call(t,null,e)}})},_bindOut:function(){var i=this;t(this).on("mouseleave.raty",function(t){var n=parseFloat(i.score.val())||undefined;e._apply.call(i,n);e._target.call(i,n,t);if(i.opt.mouseout){i.opt.mouseout.call(i,n,t)}})},_bindOutCancel:function(){var e=this;e.cancel.on("mouseleave.raty",function(i){t(this).attr("src",e.opt.path+e.opt.cancelOff);if(e.opt.mouseout){e.opt.mouseout.call(e,e.score.val()||null,i)}})},_bindOverCancel:function(){var i=this;i.cancel.on("mouseover.raty",function(n){t(this).attr("src",i.opt.path+i.opt.cancelOn);i.stars.attr("src",i.opt.path+i.opt.starOff);e._target.call(i,null,n);if(i.opt.mouseover){i.opt.mouseover.call(i,null)}})},_bindOver:function(){var i=this,n=t(i),s=i.opt.half?"mousemove.raty":"mouseover.raty";i.stars.on(s,function(s){var r=parseInt(this.alt,10);if(i.opt.half){var a=parseFloat((s.pageX-t(this).offset().left)/i.opt.size),o=a>.5?1:.5;r=r-1+o;e._fill.call(i,r);if(i.opt.precision){r=r-o+a}e._roundStars.call(i,r);n.data("score",r)}else{e._fill.call(i,r)}e._target.call(i,r,s);if(i.opt.mouseover){i.opt.mouseover.call(i,r,s)}})},_callback:function(t){for(var e in t){if(typeof this.opt[t[e]]==="function"){this.opt[t[e]]=this.opt[t[e]].call(this)}}},_createCancel:function(){var e=t(this),i=this.opt.path+this.opt.cancelOff,n=t("<img />",{src:i,alt:"x",title:this.opt.cancelHint,"class":"raty-cancel"});if(this.opt.cancelPlace=="left"){e.prepend("&#160;").prepend(n)}else{e.append("&#160;").append(n)}return n},_createScore:function(){return t("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){var i=t(this);for(var n=1;n<=this.opt.number;n++){var s=e._getHint.call(this,n),r=this.opt.score&&this.opt.score>=n?"starOn":"starOff";r=this.opt.path+this.opt[r];t("<img />",{src:r,alt:n,title:s}).appendTo(this);if(this.opt.space){i.append(n<this.opt.number?"&#160;":"")}}return i.children("img")},_error:function(e){t(this).html(e);t.error(e)},_fill:function(t){var e=this,i=0;for(var n=1;n<=e.stars.length;n++){var s=e.stars.eq(n-1),r=e.opt.single?n==t:n<=t;if(e.opt.iconRange&&e.opt.iconRange.length>i){var a=e.opt.iconRange[i],o=a.on||e.opt.starOn,l=a.off||e.opt.starOff,h=r?o:l;if(n<=a.range){s.attr("src",e.opt.path+h)}if(n==a.range){i++}}else{var h=r?"starOn":"starOff";s.attr("src",this.opt.path+this.opt[h])}}},_getHint:function(t){var e=this.opt.hints[t-1];return e===""?"":e||t},_lock:function(){var i=parseInt(this.score.val(),10),n=i?e._getHint.call(this,i):this.opt.noRatedMsg;t(this).data("readonly",true).css("cursor","").attr("title",n);this.score.attr("readonly","readonly");this.stars.attr("title",n);if(this.cancel){this.cancel.hide()}},_roundStars:function(t){var e=(t-Math.floor(t)).toFixed(2);if(e>this.opt.round.down){var i="starOn";if(this.opt.halfShow&&e<this.opt.round.up){i="starHalf"}else if(e<this.opt.round.full){i="starOff"}this.stars.eq(Math.ceil(t)-1).attr("src",this.opt.path+this.opt[i])}},_target:function(i,n){if(this.opt.target){var s=t(this.opt.target);if(s.length===0){e._error.call(this,"Target selector invalid or missing!")}if(this.opt.targetFormat.indexOf("{score}")<0){e._error.call(this,'Template "{score}" missing!')}var r=n&&n.type=="mouseover";if(i===undefined){i=this.opt.targetText}else if(i===null){i=r?this.opt.cancelHint:this.opt.targetText}else{if(this.opt.targetType=="hint"){i=e._getHint.call(this,Math.ceil(i))}else if(this.opt.precision){i=parseFloat(i).toFixed(1)}if(!r&&!this.opt.targetKeep){i=this.opt.targetText}}if(i){i=this.opt.targetFormat.toString().replace("{score}",i)}if(s.is(":input")){s.val(i)}else{s.html(i)}}},_unlock:function(){t(this).data("readonly",false).css("cursor","pointer").removeAttr("title");this.score.removeAttr("readonly","readonly");for(var i=0;i<this.opt.number;i++){this.stars.eq(i).attr("title",e._getHint.call(this,i+1))}if(this.cancel){this.cancel.css("display","")}},cancel:function(i){return this.each(function(){if(t(this).data("readonly")!==true){e[i?"click":"score"].call(this,null);this.score.removeAttr("value")}})},click:function(i){return t(this).each(function(){if(t(this).data("readonly")!==true){e._apply.call(this,i);if(!this.opt.click){e._error.call(this,'You must add the "click: function(score, evt) { }" callback.')}this.opt.click.call(this,i,t.Event("click"));e._target.call(this,i)}})},destroy:function(){return t(this).each(function(){var e=t(this),i=e.data("raw");if(i){e.off(".raty").empty().css({cursor:i.style.cursor,width:i.style.width}).removeData("readonly")}else{e.data("raw",e.clone()[0])}})},getScore:function(){var e=[],i;t(this).each(function(){i=this.score.val();e.push(i?parseFloat(i):undefined)});return e.length>1?e:e[0]},readOnly:function(i){return this.each(function(){var n=t(this);if(n.data("readonly")!==i){if(i){n.off(".raty").children("img").off(".raty");e._lock.call(this)}else{e._binds.call(this);e._unlock.call(this)}n.data("readonly",i)}})},reload:function(){return e.set.call(this,{})},score:function(){return arguments.length?e.setScore.apply(this,arguments):e.getScore.call(this)},set:function(e){return this.each(function(){var i=t(this),n=i.data("settings"),s=t.extend({},n,e);i.raty(s)})},setScore:function(i){return t(this).each(function(){if(t(this).data("readonly")!==true){e._apply.call(this,i);e._target.call(this,i)}})}};t.fn.raty=function(i){if(e[i]){return e[i].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof i==="object"||!i){return e.init.apply(this,arguments)}else{t.error("Method "+i+" does not exist!")}};t.fn.raty.defaults={cancel:false,cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:false,halfShow:true,hints:["bad","poor","regular","good","gorgeous"],iconRange:undefined,mouseout:undefined,mouseover:undefined,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:"",precision:false,readOnly:false,round:{down:.25,full:.6,up:.76},score:undefined,scoreName:"score",single:false,size:16,space:true,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:undefined,targetFormat:"{score}",targetKeep:false,targetText:"",targetType:"hint",width:undefined}})(jQuery);(function(t){var e="0.3.4",i="hasOwnProperty",n=/[\.\/]/,s="*",r=function(){},a=function(t,e){return t-e},o,l,h={n:{}},u=function(t,e){var i=h,n=l,s=Array.prototype.slice.call(arguments,2),r=u.listeners(t),c=0,f=!1,d,p=[],g={},m=[],v=o,y=[];o=t,l=0;for(var b=0,x=r.length;b<x;b++)"zIndex"in r[b]&&(p.push(r[b].zIndex),r[b].zIndex<0&&(g[r[b].zIndex]=r[b]));p.sort(a);while(p[c]<0){d=g[p[c++]],m.push(d.apply(e,s));if(l){l=n;return m}}for(b=0;b<x;b++){d=r[b];if("zIndex"in d)if(d.zIndex==p[c]){m.push(d.apply(e,s));if(l)break;do{c++,d=g[p[c]],d&&m.push(d.apply(e,s));if(l)break}while(d)}else g[d.zIndex]=d;else{m.push(d.apply(e,s));if(l)break}}l=n,o=v;return m.length?m:null};u.listeners=function(t){var e=t.split(n),i=h,r,a,o,l,u,c,f,d,p=[i],g=[];for(l=0,u=e.length;l<u;l++){d=[];for(c=0,f=p.length;c<f;c++){i=p[c].n,a=[i[e[l]],i[s]],o=2;while(o--)r=a[o],r&&(d.push(r),g=g.concat(r.f||[]))}p=d}return g},u.on=function(t,e){var i=t.split(n),s=h;for(var a=0,o=i.length;a<o;a++)s=s.n,!s[i[a]]&&(s[i[a]]={n:{}}),s=s[i[a]];s.f=s.f||[];for(a=0,o=s.f.length;a<o;a++)if(s.f[a]==e)return r;s.f.push(e);return function(t){+t==+t&&(e.zIndex=+t)}},u.stop=function(){l=1},u.nt=function(t){if(t)return new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(o);return o},u.off=u.unbind=function(t,e){var r=t.split(n),a,o,l,u,c,f,d,p=[h];for(u=0,c=r.length;u<c;u++)for(f=0;f<p.length;f+=l.length-2){l=[f,1],a=p[f].n;if(r[u]!=s)a[r[u]]&&l.push(a[r[u]]);else for(o in a)a[i](o)&&l.push(a[o]);p.splice.apply(p,l)}for(u=0,c=p.length;u<c;u++){a=p[u];while(a.n){if(e){if(a.f){for(f=0,d=a.f.length;f<d;f++)if(a.f[f]==e){a.f.splice(f,1);break}!a.f.length&&delete a.f}for(o in a.n)if(a.n[i](o)&&a.n[o].f){var g=a.n[o].f;for(f=0,d=g.length;f<d;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete a.n[o].f}}else{delete a.f;for(o in a.n)a.n[i](o)&&a.n[o].f&&delete a.n[o].f}a=a.n}}},u.once=function(t,e){var i=function(){var n=e.apply(this,arguments);u.unbind(t,i);return n};return u.on(t,i)},u.version=e,u.toString=function(){return"You are running Eve "+e},typeof module!="undefined"&&module.exports?module.exports=u:typeof define!="undefined"?define("eve",[],function(){return u}):t.eve=u})(this),function(){function t(t){for(var e=0;e<Me.length;e++)Me[e].el.paper==t&&Me.splice(e--,1)}function e(t,e,i,s,r,o){i=lt(i);var l,h,u,c=[],f,d,p,g=t.ms,m={},v={},y={};if(s)for(w=0,k=Me.length;w<k;w++){var b=Me[w];if(b.el.id==e.id&&b.anim==t){b.percent!=i?(Me.splice(w,1),u=1):h=b,e.attr(b.totalOrigin);break}}else s=+v;for(var w=0,k=t.percents.length;w<k;w++){if(t.percents[w]==i||t.percents[w]>s*t.top){i=t.percents[w],d=t.percents[w-1]||0,g=g/t.top*(i-d),f=t.percents[w+1],l=t.anim[i];break}s&&e.attr(t.anim[t.percents[w]])}if(!!l){if(!h){for(var C in l)if(l[D](C))if(ft[D](C)||e.paper.customAttributes[D](C)){m[C]=e.attr(C),m[C]==null&&(m[C]=ct[C]),v[C]=l[C];switch(ft[C]){case V:y[C]=(v[C]-m[C])/g;break;case"colour":m[C]=x.getRGB(m[C]);var T=x.getRGB(v[C]);y[C]={r:(T.r-m[C].r)/g,g:(T.g-m[C].g)/g,b:(T.b-m[C].b)/g};break;case"path":var S=Kt(m[C],v[C]),M=S[1];m[C]=S[0],y[C]=[];for(w=0,k=m[C].length;w<k;w++){y[C][w]=[0];for(var P=1,A=m[C][w].length;P<A;P++)y[C][w][P]=(M[w][P]-m[C][w][P])/g}break;case"transform":var I=e._,E=oe(I[C],v[C]);if(E){m[C]=E.from,v[C]=E.to,y[C]=[],y[C].real=!0;for(w=0,k=m[C].length;w<k;w++){y[C][w]=[m[C][w][0]];for(P=1,A=m[C][w].length;P<A;P++)y[C][w][P]=(v[C][w][P]-m[C][w][P])/g}}else{var N=e.matrix||new a,F={_:{transform:I.transform},getBBox:function(){return e.getBBox(1)}};m[C]=[N.a,N.b,N.c,N.d,N.e,N.f],re(F,v[C]),v[C]=F._.transform,y[C]=[(F.matrix.a-N.a)/g,(F.matrix.b-N.b)/g,(F.matrix.c-N.c)/g,(F.matrix.d-N.d)/g,(F.matrix.e-N.e)/g,(F.matrix.f-N.f)/g]}break;case"csv":var O=H(l[C])[z](_),B=H(m[C])[z](_);if(C=="clip-rect"){m[C]=B,y[C]=[],w=B.length;while(w--)y[C][w]=(O[w]-m[C][w])/g}v[C]=O;break;default:O=[][L](l[C]),B=[][L](m[C]),y[C]=[],w=e.paper.customAttributes[C].length;while(w--)y[C][w]=((O[w]||0)-(B[w]||0))/g}}var R=l.easing,j=x.easing_formulas[R];if(!j){j=H(R).match(rt);if(j&&j.length==5){var W=j;j=function(t){return n(t,+W[1],+W[2],+W[3],+W[4],g)}}else j=Tt}p=l.start||t.start||+new Date,b={anim:t,percent:i,timestamp:p,start:p+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:j,from:m,diff:y,to:v,el:e,callback:l.callback,prev:d,next:f,repeat:o||t.times,origin:e.attr(),totalOrigin:r},Me.push(b);if(s&&!h&&!u){b.stop=!0,b.start=new Date-g*s;if(Me.length==1)return Ae()}u&&(b.start=new Date-b.ms*s),Me.length==1&&Pe(Ae)}else h.initstatus=s,h.start=new Date-h.ms*s;eve("raphael.anim.start."+e.id,e,t)}}function i(t,e){var i=[],n={};this.ms=e,this.times=1;if(t){for(var s in t)t[D](s)&&(n[lt(s)]=t[s],i.push(lt(s)));i.sort(kt)}this.anim=n,this.top=i[i.length-1],this.percents=i}function n(t,e,i,n,s,r){function a(t,e){var i,n,s,r,a,o;for(s=t,o=0;o<8;o++){r=l(s)-t;if(X(r)<e)return s;a=(3*c*s+2*u)*s+h;if(X(a)<1e-6)break;s=s-r/a}i=0,n=1,s=t;if(s<i)return i;if(s>n)return n;while(i<n){r=l(s);if(X(r-t)<e)return s;t>r?i=s:n=s,s=(n-i)/2+i}return s}function o(t,e){var i=a(t,e);return((p*i+d)*i+f)*i}function l(t){return((c*t+u)*t+h)*t}var h=3*e,u=3*(n-e)-h,c=1-h-u,f=3*i,d=3*(s-i)-f,p=1-f-d;return o(t,1/(200*r))}function s(){return this.x+O+this.y+O+this.width+" Ãâ "+this.height}function r(){return this.x+O+this.y}function a(t,e,i,n,s,r){t!=null?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+s,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function o(t,e,i){t=x._path2curve(t),e=x._path2curve(e);var n,s,r,a,o,h,u,c,f,d,p=i?0:[];for(var g=0,m=t.length;g<m;g++){var v=t[g];if(v[0]=="M")n=o=v[1],s=h=v[2];else{v[0]=="C"?(f=[n,s].concat(v.slice(1)),n=f[6],s=f[7]):(f=[n,s,n,s,o,h,o,h],n=o,s=h);for(var y=0,b=e.length;y<b;y++){var w=e[y];if(w[0]=="M")r=u=w[1],a=c=w[2];else{w[0]=="C"?(d=[r,a].concat(w.slice(1)),r=d[6],a=d[7]):(d=[r,a,r,a,u,c,u,c],r=u,a=c);var _=l(f,d,i);if(i)p+=_;else{for(var k=0,C=_.length;k<C;k++)_[k].segment1=g,_[k].segment2=y,_[k].bez1=f,_[k].bez2=d;p=p.concat(_)}}}}}return p}function l(t,e,i){var n=x.bezierBBox(t),s=x.bezierBBox(e);if(!x.isBBoxIntersect(n,s))return i?0:[];var r=d.apply(0,t),a=d.apply(0,e),o=~~(r/5),l=~~(a/5),h=[],u=[],f={},p=i?0:[];for(var g=0;g<o+1;g++){var m=x.findDotsAtSegment.apply(x,t.concat(g/o));h.push({x:m.x,y:m.y,t:g/o})}for(g=0;g<l+1;g++)m=x.findDotsAtSegment.apply(x,e.concat(g/l)),u.push({x:m.x,y:m.y,t:g/l});for(g=0;g<o;g++)for(var v=0;v<l;v++){var y=h[g],b=h[g+1],w=u[v],_=u[v+1],k=X(b.x-y.x)<.001?"y":"x",C=X(_.x-w.x)<.001?"y":"x",T=c(y.x,y.y,b.x,b.y,w.x,w.y,_.x,_.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var D=y.t+X((T[k]-y[k])/(b[k]-y[k]))*(b.t-y.t),S=w.t+X((T[C]-w[C])/(_[C]-w[C]))*(_.t-w.t);D>=0&&D<=1&&S>=0&&S<=1&&(i?p++:p.push({x:T.x,y:T.y,t1:D,t2:S}))}}return p}function h(t,e){return l(t,e,1)}function u(t,e){return l(t,e)}function c(t,e,i,n,s,r,a,o){if(!(Y(t,i)<$(s,a)||$(t,i)>Y(s,a)||Y(e,n)<$(r,o)||$(e,n)>Y(r,o))){var l=(t*n-e*i)*(s-a)-(t-i)*(s*o-r*a),h=(t*n-e*i)*(r-o)-(e-n)*(s*o-r*a),u=(t-i)*(r-o)-(e-n)*(s-a);if(!u)return;var c=l/u,f=h/u,d=+c.toFixed(2),p=+f.toFixed(2);if(d<+$(t,i).toFixed(2)||d>+Y(t,i).toFixed(2)||d<+$(s,a).toFixed(2)||d>+Y(s,a).toFixed(2)||p<+$(e,n).toFixed(2)||p>+Y(e,n).toFixed(2)||p<+$(r,o).toFixed(2)||p>+Y(r,o).toFixed(2))return;return{x:c,y:f}}}function f(t,e,i,n,s,r,a,o,l){if(!(l<0||d(t,e,i,n,s,r,a,o)<l)){var h=1,u=h/2,c=h-u,f,p=.01;f=d(t,e,i,n,s,r,a,o,c);while(X(f-l)>p)u/=2,c+=(f<l?1:-1)*u,f=d(t,e,i,n,s,r,a,o,c);return c}}function d(t,e,i,n,s,r,a,o,l){l==null&&(l=1),l=l>1?1:l<0?0:l;var h=l/2,u=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;for(var g=0;g<u;g++){var m=h*c[g]+h,v=p(m,t,i,s,a),y=p(m,e,n,r,o),b=v*v+y*y;d+=f[g]*W.sqrt(b)}return h*d}function p(t,e,i,n,s){var r=-3*e+9*i-9*n+3*s,a=t*r+6*e-12*i+6*n;return t*a-3*e+3*i}function g(t,e){var i=[];for(var n=0,s=t.length;s-2*!e>n;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?s-4==n?r[3]={x:+t[0],y:+t[1]}:s-2==n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[s-2],y:+t[s-1]}:s-4==n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}function m(){return this.hex}function v(t,e,i){function n(){var s=Array.prototype.slice.call(arguments,0),r=s.join("Ã¢Ââ¬"),a=n.cache=n.cache||{},o=n.count=n.count||[];if(a[D](r)){y(o,r);return i?i(a[r]):a[r]}o.length>=1e3&&delete a[o.shift()],o.push(r),a[r]=t[E](e,s);return i?i(a[r]):a[r]}return n}function y(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function b(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[D](i)&&(e[i]=b(t[i]));return e}function x(t){if(x.is(t,"function"))return w?t():eve.on("raphael.DOMload",t);if(x.is(t,K))return x._engine.create[E](x,t.splice(0,3+x.is(t[0],V))).add(t);var e=Array.prototype.slice.call(arguments,0);if(x.is(e[e.length-1],"function")){var i=e.pop();return w?i.call(x._engine.create[E](x,e)):eve.on("raphael.DOMload",function(){i.call(x._engine.create[E](x,e))})}return x._engine.create[E](x,arguments)}x.version="2.1.0",x.eve=eve;var w,_=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,T="prototype",D="hasOwnProperty",S={doc:document,win:window},M={was:Object.prototype[D].call(S.win,"Raphael"),is:S.win.Raphael},P=function(){this.ca=this.customAttributes={}},A,I="appendChild",E="apply",L="concat",N="createTouch"in S.doc,F="",O=" ",H=String,z="split",B="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[z](O),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},j=H.prototype.toLowerCase,W=Math,Y=W.max,$=W.min,X=W.abs,q=W.pow,G=W.PI,V="number",U="string",K="array",Q="toString",Z="fill",J=Object.prototype.toString,tt={},et="push",it=x._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,nt=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,st={NaN:1,Infinity:1,"-Infinity":1},rt=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,at=W.round,ot="setAttribute",lt=parseFloat,ht=parseInt,ut=H.prototype.toUpperCase,ct=x._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ft=x._availableAnimAttrs={blur:V,"clip-rect":"csv",cx:V,cy:V,fill:"colour","fill-opacity":V,"font-size":V,height:V,opacity:V,path:"path",r:V,rx:V,ry:V,stroke:"colour","stroke-opacity":V,"stroke-width":V,transform:"transform",width:V,x:V,y:V},dt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,pt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,gt={hs:1,rg:1},mt=/,?([achlmqrstvxz]),?/gi,vt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,yt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,xt=x._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,wt={},_t=function(t,e){return t.key-e.key},kt=function(t,e){return lt(t)-lt(e)},Ct=function(){},Tt=function(t){return t},Dt=x._rectPath=function(t,e,i,n,s){if(s)return[["M",t+s,e],["l",i-s*2,0],["a",s,s,0,0,1,s,s],["l",0,n-s*2],["a",s,s,0,0,1,-s,s],["l",s*2-i,0],["a",s,s,0,0,1,-s,-s],["l",0,s*2-n],["a",s,s,0,0,1,s,-s],["z"]];return[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},St=function(t,e,i,n){n==null&&(n=i);return[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},Mt=x._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return St(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return St(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return Dt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return Dt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return Dt(e.x,e.y,e.width,e.height)}},Pt=x.mapPath=function(t,e){if(!e)return t;var i,n,s,r,a,o,l;t=Kt(t);for(s=0,a=t.length;s<a;s++){l=t[s];for(r=1,o=l.length;r<o;r+=2)i=e.x(l[r],l[r+1]),n=e.y(l[r],l[r+1]),l[r]=i,l[r+1]=n}return t};x._g=S,x.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(x.type=="VML"){
var At=S.doc.createElement("div"),It;At.innerHTML='<v:shape adj="1"/>',It=At.firstChild,It.style.behavior="url(#default#VML)";if(!It||typeof It.adj!="object")return x.type=F;At=null}x.svg=!(x.vml=x.type=="VML"),x._Paper=P,x.fn=A=P.prototype=x.prototype,x._id=0,x._oid=0,x.is=function(t,e){e=j.call(e);if(e=="finite")return!st[D](+t);if(e=="array")return t instanceof Array;return e=="null"&&t===null||e==typeof t&&t!==null||e=="object"&&t===Object(t)||e=="array"&&Array.isArray&&Array.isArray(t)||J.call(t).slice(8,-1).toLowerCase()==e},x.angle=function(t,e,i,n,s,r){if(s==null){var a=t-i,o=e-n;if(!a&&!o)return 0;return(180+W.atan2(-o,-a)*180/G+360)%360}return x.angle(t,e,s,r)-x.angle(i,n,s,r)},x.rad=function(t){return t%360*G/180},x.deg=function(t){return t*180/G%360},x.snapTo=function(t,e,i){i=x.is(i,"finite")?i:10;if(x.is(t,K)){var n=t.length;while(n--)if(X(t[n]-e)<=i)return t[n]}else{t=+t;var s=e%t;if(s<i)return e-s;if(s>t-i)return e-s+t}return e};var Et=x.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=W.random()*16|0,i=t=="x"?e:e&3|8;return i.toString(16)});x.setWindow=function(t){eve("raphael.setWindow",x,S.win,t),S.win=t,S.doc=S.win.document,x._engine.initWin&&x._engine.initWin(S.win)};var Lt=function(t){if(x.vml){var e=/^\s+|\s+$/g,i;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),i=n.body}catch(s){i=createPopup().document.body}var r=i.createTextRange();Lt=v(function(t){try{i.style.color=H(t).replace(e,F);var n=r.queryCommandValue("ForeColor");n=(n&255)<<16|n&65280|(n&16711680)>>>16;return"#"+("000000"+n.toString(16)).slice(-6)}catch(s){return"none"}})}else{var a=S.doc.createElement("i");a.title="RaphaÃÂ«l Colour Picker",a.style.display="none",S.doc.body.appendChild(a),Lt=v(function(t){a.style.color=t;return S.doc.defaultView.getComputedStyle(a,F).getPropertyValue("color")})}return Lt(t)},Nt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ft=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ot=function(){return this.hex},Ht=function(t,e,i){e==null&&x.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r);if(e==null&&x.is(t,U)){var n=x.getRGB(t);t=n.r,e=n.g,i=n.b}if(t>1||e>1||i>1)t/=255,e/=255,i/=255;return[t,e,i]},zt=function(t,e,i,n){t*=255,e*=255,i*=255;var s={r:t,g:e,b:i,hex:x.rgb(t,e,i),toString:Ot};x.is(n,"finite")&&(s.opacity=n);return s};x.color=function(t){var e;x.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=x.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):x.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=x.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(x.is(t,"string")&&(t=x.getRGB(t)),x.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=x.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=x.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=Ot;return t},x.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var s,r,a,o,l;t=t%360/60,l=i*e,o=l*(1-X(t%2-1)),s=r=a=i-l,t=~~t,s+=[l,o,0,0,o,l][t],r+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t];return zt(s,r,a,n)},x.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h);if(t>1||e>1||i>1)t/=360,e/=100,i/=100;t*=360;var s,r,a,o,l;t=t%360/60,l=2*e*(i<.5?i:1-i),o=l*(1-X(t%2-1)),s=r=a=i-l/2,t=~~t,s+=[l,o,0,0,o,l][t],r+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t];return zt(s,r,a,n)},x.rgb2hsb=function(t,e,i){i=Ht(t,e,i),t=i[0],e=i[1],i=i[2];var n,s,r,a;r=Y(t,e,i),a=r-$(t,e,i),n=a==0?null:r==t?(e-i)/a:r==e?(i-t)/a+2:(t-e)/a+4,n=(n+360)%6*60/360,s=a==0?0:a/r;return{h:n,s:s,b:r,toString:Nt}},x.rgb2hsl=function(t,e,i){i=Ht(t,e,i),t=i[0],e=i[1],i=i[2];var n,s,r,a,o,l;a=Y(t,e,i),o=$(t,e,i),l=a-o,n=l==0?null:a==t?(e-i)/l:a==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,r=(a+o)/2,s=l==0?0:r<.5?l/(2*r):l/(2-2*r);return{h:n,s:s,l:r,toString:Ft}},x._path2string=function(){return this.join(",").replace(mt,"$1")};var Bt=x._preload=function(t,e){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=t};x.getRGB=v(function(t){if(!t||!!((t=H(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:m};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:m};!gt[D](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=Lt(t));var e,i,n,s,r,a,o,l=t.match(nt);if(l){l[2]&&(s=ht(l[2].substring(5),16),n=ht(l[2].substring(3,5),16),i=ht(l[2].substring(1,3),16)),l[3]&&(s=ht((a=l[3].charAt(3))+a,16),n=ht((a=l[3].charAt(2))+a,16),i=ht((a=l[3].charAt(1))+a,16)),l[4]&&(o=l[4][z](pt),i=lt(o[0]),o[0].slice(-1)=="%"&&(i*=2.55),n=lt(o[1]),o[1].slice(-1)=="%"&&(n*=2.55),s=lt(o[2]),o[2].slice(-1)=="%"&&(s*=2.55),l[1].toLowerCase().slice(0,4)=="rgba"&&(r=lt(o[3])),o[3]&&o[3].slice(-1)=="%"&&(r/=100));if(l[5]){o=l[5][z](pt),i=lt(o[0]),o[0].slice(-1)=="%"&&(i*=2.55),n=lt(o[1]),o[1].slice(-1)=="%"&&(n*=2.55),s=lt(o[2]),o[2].slice(-1)=="%"&&(s*=2.55),(o[0].slice(-3)=="deg"||o[0].slice(-1)=="ÃÂ°")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsba"&&(r=lt(o[3])),o[3]&&o[3].slice(-1)=="%"&&(r/=100);return x.hsb2rgb(i,n,s,r)}if(l[6]){o=l[6][z](pt),i=lt(o[0]),o[0].slice(-1)=="%"&&(i*=2.55),n=lt(o[1]),o[1].slice(-1)=="%"&&(n*=2.55),s=lt(o[2]),o[2].slice(-1)=="%"&&(s*=2.55),(o[0].slice(-3)=="deg"||o[0].slice(-1)=="ÃÂ°")&&(i/=360),l[1].toLowerCase().slice(0,4)=="hsla"&&(r=lt(o[3])),o[3]&&o[3].slice(-1)=="%"&&(r/=100);return x.hsl2rgb(i,n,s,r)}l={r:i,g:n,b:s,toString:m},l.hex="#"+(16777216|s|n<<8|i<<16).toString(16).slice(1),x.is(r,"finite")&&(l.opacity=r);return l}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:m}},x),x.hsb=v(function(t,e,i){return x.hsb2rgb(t,e,i).hex}),x.hsl=v(function(t,e,i){return x.hsl2rgb(t,e,i).hex}),x.rgb=v(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),x.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b}));return i.hex},x.getColor.reset=function(){delete this.start},x.parsePathString=function(t){if(!t)return null;var e=Rt(t);if(e.arr)return Wt(e.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];x.is(t,K)&&x.is(t[0],K)&&(n=Wt(t)),n.length||H(t).replace(vt,function(t,e,s){var r=[],a=e.toLowerCase();s.replace(bt,function(t,e){e&&r.push(+e)}),a=="m"&&r.length>2&&(n.push([e][L](r.splice(0,2))),a="l",e=e=="m"?"l":"L");if(a=="r")n.push([e][L](r));else while(r.length>=i[a]){n.push([e][L](r.splice(0,i[a])));if(!i[a])break}}),n.toString=x._path2string,e.arr=Wt(n);return n},x.parseTransformString=v(function(t){if(!t)return null;var e={r:3,s:4,t:2,m:6},i=[];x.is(t,K)&&x.is(t[0],K)&&(i=Wt(t)),i.length||H(t).replace(yt,function(t,e,n){var s=[],r=j.call(e);n.replace(bt,function(t,e){e&&s.push(+e)}),i.push([e][L](s))}),i.toString=x._path2string;return i});var Rt=function(t){var e=Rt.ps=Rt.ps||{};e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[D](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])});return e[t]};x.findDotsAtSegment=function(t,e,i,n,s,r,a,o,l){var h=1-l,u=q(h,3),c=q(h,2),f=l*l,d=f*l,p=u*t+c*3*l*i+h*3*l*l*s+d*a,g=u*e+c*3*l*n+h*3*l*l*r+d*o,m=t+2*l*(i-t)+f*(s-2*i+t),v=e+2*l*(n-e)+f*(r-2*n+e),y=i+2*l*(s-i)+f*(a-2*s+i),b=n+2*l*(r-n)+f*(o-2*r+n),x=h*t+l*i,w=h*e+l*n,_=h*s+l*a,k=h*r+l*o,C=90-W.atan2(m-y,v-b)*180/G;(m>y||v<b)&&(C+=180);return{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:x,y:w},end:{x:_,y:k},alpha:C}},x.bezierBBox=function(t,e,i,n,s,r,a,o){x.is(t,"array")||(t=[t,e,i,n,s,r,a,o]);var l=Ut.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},x.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},x.isBBoxIntersect=function(t,e){var i=x.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},x.pathIntersection=function(t,e){return o(t,e)},x.pathIntersectionNumber=function(t,e){return o(t,e,1)},x.isPointInsidePath=function(t,e,i){var n=x.pathBBox(t);return x.isPointInsideBBox(n,e,i)&&o(t,[["M",e,i],["H",n.x2+10]],1)%2==1},x._removedFactory=function(t){return function(){eve("raphael.log",null,"RaphaÃÂ«l: you are calling to method Ã¢â¬Å"+t+"Ã¢â¬Â of removed object",t)}};var jt=x.pathBBox=function(t){var e=Rt(t);if(e.bbox)return e.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Kt(t);var i=0,n=0,s=[],r=[],a;for(var o=0,l=t.length;o<l;o++){a=t[o];if(a[0]=="M")i=a[1],n=a[2],s.push(i),r.push(n);else{var h=Ut(i,n,a[1],a[2],a[3],a[4],a[5],a[6]);s=s[L](h.min.x,h.max.x),r=r[L](h.min.y,h.max.y),i=a[5],n=a[6]}}var u=$[E](0,s),c=$[E](0,r),f=Y[E](0,s),d=Y[E](0,r),p={x:u,y:c,x2:f,y2:d,width:f-u,height:d-c};e.bbox=b(p);return p},Wt=function(t){var e=b(t);e.toString=x._path2string;return e},Yt=x._pathToRelative=function(t){var e=Rt(t);if(e.rel)return Wt(e.rel);if(!x.is(t,K)||!x.is(t&&t[0],K))t=x.parsePathString(t);var i=[],n=0,s=0,r=0,a=0,o=0;t[0][0]=="M"&&(n=t[0][1],s=t[0][2],r=n,a=s,o++,i.push(["M",n,s]));for(var l=o,h=t.length;l<h;l++){var u=i[l]=[],c=t[l];if(c[0]!=j.call(c[0])){u[0]=j.call(c[0]);switch(u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-n).toFixed(3),u[7]=+(c[7]-s).toFixed(3);break;case"v":u[1]=+(c[1]-s).toFixed(3);break;case"m":r=c[1],a=c[2];default:for(var f=1,d=c.length;f<d;f++)u[f]=+(c[f]-(f%2?n:s)).toFixed(3)}}else{u=i[l]=[],c[0]=="m"&&(r=c[1]+n,a=c[2]+s);for(var p=0,g=c.length;p<g;p++)i[l][p]=c[p]}var m=i[l].length;switch(i[l][0]){case"z":n=r,s=a;break;case"h":n+=+i[l][m-1];break;case"v":s+=+i[l][m-1];break;default:n+=+i[l][m-2],s+=+i[l][m-1]}}i.toString=x._path2string,e.rel=Wt(i);return i},$t=x._pathToAbsolute=function(t){var e=Rt(t);if(e.abs)return Wt(e.abs);if(!x.is(t,K)||!x.is(t&&t[0],K))t=x.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var i=[],n=0,s=0,r=0,a=0,o=0;t[0][0]=="M"&&(n=+t[0][1],s=+t[0][2],r=n,a=s,o++,i[0]=["M",n,s]);var l=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var h,u,c=o,f=t.length;c<f;c++){i.push(h=[]),u=t[c];if(u[0]!=ut.call(u[0])){h[0]=ut.call(u[0]);switch(h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+n),h[7]=+(u[7]+s);break;case"V":h[1]=+u[1]+s;break;case"H":h[1]=+u[1]+n;break;case"R":var d=[n,s][L](u.slice(1));for(var p=2,m=d.length;p<m;p++)d[p]=+d[p]+n,d[++p]=+d[p]+s;i.pop(),i=i[L](g(d,l));break;case"M":r=+u[1]+n,a=+u[2]+s;default:for(p=1,m=u.length;p<m;p++)h[p]=+u[p]+(p%2?n:s)}}else if(u[0]=="R")d=[n,s][L](u.slice(1)),i.pop(),i=i[L](g(d,l)),h=["R"][L](u.slice(-2));else for(var v=0,y=u.length;v<y;v++)h[v]=u[v];switch(h[0]){case"Z":n=r,s=a;break;case"H":n=h[1];break;case"V":s=h[1];break;case"M":r=h[h.length-2],a=h[h.length-1];default:n=h[h.length-2],s=h[h.length-1]}}i.toString=x._path2string,e.abs=Wt(i);return i},Xt=function(t,e,i,n){return[t,e,i,n,i,n]},qt=function(t,e,i,n,s,r){var a=1/3,o=2/3;return[a*t+o*i,a*e+o*n,a*s+o*i,a*r+o*n,s,r]},Gt=function(t,e,i,n,s,r,a,o,l,h){var u=G*120/180,c=G/180*(+s||0),f=[],d,p=v(function(t,e,i){var n=t*W.cos(i)-e*W.sin(i),s=t*W.sin(i)+e*W.cos(i);return{x:n,y:s}});if(!h){d=p(t,e,-c),t=d.x,e=d.y,d=p(o,l,-c),o=d.x,l=d.y;var g=W.cos(G/180*s),m=W.sin(G/180*s),y=(t-o)/2,b=(e-l)/2,x=y*y/(i*i)+b*b/(n*n);x>1&&(x=W.sqrt(x),i=x*i,n=x*n);var w=i*i,_=n*n,k=(r==a?-1:1)*W.sqrt(X((w*_-w*b*b-_*y*y)/(w*b*b+_*y*y))),C=k*i*b/n+(t+o)/2,T=k*-n*y/i+(e+l)/2,D=W.asin(((e-T)/n).toFixed(9)),S=W.asin(((l-T)/n).toFixed(9));D=t<C?G-D:D,S=o<C?G-S:S,D<0&&(D=G*2+D),S<0&&(S=G*2+S),a&&D>S&&(D=D-G*2),!a&&S>D&&(S=S-G*2)}else D=h[0],S=h[1],C=h[2],T=h[3];var M=S-D;if(X(M)>u){var P=S,A=o,I=l;S=D+u*(a&&S>D?1:-1),o=C+i*W.cos(S),l=T+n*W.sin(S),f=Gt(o,l,i,n,s,0,a,A,I,[S,P,C,T])}M=S-D;var E=W.cos(D),N=W.sin(D),F=W.cos(S),O=W.sin(S),H=W.tan(M/4),B=4/3*i*H,R=4/3*n*H,j=[t,e],Y=[t+B*N,e-R*E],$=[o+B*O,l-R*F],q=[o,l];Y[0]=2*j[0]-Y[0],Y[1]=2*j[1]-Y[1];if(h)return[Y,$,q][L](f);f=[Y,$,q][L](f).join()[z](",");var V=[];for(var U=0,K=f.length;U<K;U++)V[U]=U%2?p(f[U-1],f[U],c).y:p(f[U],f[U+1],c).x;return V},Vt=function(t,e,i,n,s,r,a,o,l){var h=1-l;return{x:q(h,3)*t+q(h,2)*3*l*i+h*3*l*l*s+q(l,3)*a,y:q(h,3)*e+q(h,2)*3*l*n+h*3*l*l*r+q(l,3)*o}},Ut=v(function(t,e,i,n,s,r,a,o){var l=s-2*i+t-(a-2*s+i),h=2*(i-t)-2*(s-i),u=t-i,c=(-h+W.sqrt(h*h-4*l*u))/2/l,f=(-h-W.sqrt(h*h-4*l*u))/2/l,d=[e,o],p=[t,a],g;X(c)>"1e12"&&(c=.5),X(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=Vt(t,e,i,n,s,r,a,o,c),p.push(g.x),d.push(g.y)),f>0&&f<1&&(g=Vt(t,e,i,n,s,r,a,o,f),p.push(g.x),d.push(g.y)),l=r-2*n+e-(o-2*r+n),h=2*(n-e)-2*(r-n),u=e-n,c=(-h+W.sqrt(h*h-4*l*u))/2/l,f=(-h-W.sqrt(h*h-4*l*u))/2/l,X(c)>"1e12"&&(c=.5),X(f)>"1e12"&&(f=.5),c>0&&c<1&&(g=Vt(t,e,i,n,s,r,a,o,c),p.push(g.x),d.push(g.y)),f>0&&f<1&&(g=Vt(t,e,i,n,s,r,a,o,f),p.push(g.x),d.push(g.y));return{min:{x:$[E](0,p),y:$[E](0,d)},max:{x:Y[E](0,p),y:Y[E](0,d)}}}),Kt=x._path2curve=v(function(t,e){var i=!e&&Rt(t);if(!e&&i.curve)return Wt(i.curve);var n=$t(t),s=e&&$t(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(t,e){var i,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null);switch(t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][L](Gt[E](0,[e.x,e.y][L](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",i,n][L](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][L](qt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][L](qt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][L](Xt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][L](Xt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][L](Xt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][L](Xt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();var i=t[e];while(i.length)t.splice(e++,0,["C"][L](i.splice(0,6)));t.splice(e,1),c=Y(n.length,s&&s.length||0)}},h=function(t,e,i,r,a){t&&e&&t[a][0]=="M"&&e[a][0]!="M"&&(e.splice(a,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],c=Y(n.length,s&&s.length||0))};for(var u=0,c=Y(n.length,s&&s.length||0);u<c;u++){n[u]=o(n[u],r),l(n,u),s&&(s[u]=o(s[u],a)),s&&l(s,u),h(n,s,r,a,u),h(s,n,a,r,u);var f=n[u],d=s&&s[u],p=f.length,g=s&&d.length;r.x=f[p-2],r.y=f[p-1],r.bx=lt(f[p-4])||r.x,r.by=lt(f[p-3])||r.y,a.bx=s&&(lt(d[g-4])||a.x),a.by=s&&(lt(d[g-3])||a.y),a.x=s&&d[g-2],a.y=s&&d[g-1]}s||(i.curve=Wt(n));return s?[n,s]:n},null,Wt),Qt=x._parseDots=v(function(t){var e=[];for(var i=0,n=t.length;i<n;i++){var s={},r=t[i].match(/^([^:]*):?([\d\.]*)/);s.color=x.getRGB(r[1]);if(s.color.error)return null;s.color=s.color.hex,r[2]&&(s.offset=r[2]+"%"),e.push(s)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){var a=lt(e[i-1].offset||0),o=0;for(var l=i+1;l<n;l++)if(e[l].offset){o=e[l].offset;break}o||(o=100,l=n),o=lt(o);var h=(o-a)/(l-i+1);for(;i<l;i++)a+=h,e[i].offset=a+"%"}return e}),Zt=x._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Jt=x._tofront=function(t,e){e.top!==t&&(Zt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},te=x._toback=function(t,e){e.bottom!==t&&(Zt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},ee=x._insertafter=function(t,e,i){Zt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},ie=x._insertbefore=function(t,e,i){Zt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},ne=x.toMatrix=function(t,e){var i=jt(t),n={_:{transform:F},getBBox:function(){return i}};re(n,e);return n.matrix},se=x.transformPath=function(t,e){return Pt(t,ne(t,e))},re=x._extractTransform=function(t,e){if(e==null)return t._.transform;e=H(e).replace(/\.{3}|\u2026/g,t._.transform||F);var i=x.parseTransformString(e),n=0,s=0,r=0,o=1,l=1,h=t._,u=new a;h.transform=i||[];if(i)for(var c=0,f=i.length;c<f;c++){var d=i[c],p=d.length,g=H(d[0]).toLowerCase(),m=d[0]!=g,v=m?u.invert():0,y,b,w,_,k;g=="t"&&p==3?m?(y=v.x(0,0),b=v.y(0,0),w=v.x(d[1],d[2]),_=v.y(d[1],d[2]),u.translate(w-y,_-b)):u.translate(d[1],d[2]):g=="r"?p==2?(k=k||t.getBBox(1),u.rotate(d[1],k.x+k.width/2,k.y+k.height/2),n+=d[1]):p==4&&(m?(w=v.x(d[2],d[3]),_=v.y(d[2],d[3]),u.rotate(d[1],w,_)):u.rotate(d[1],d[2],d[3]),n+=d[1]):g=="s"?p==2||p==3?(k=k||t.getBBox(1),u.scale(d[1],d[p-1],k.x+k.width/2,k.y+k.height/2),o*=d[1],l*=d[p-1]):p==5&&(m?(w=v.x(d[3],d[4]),_=v.y(d[3],d[4]),u.scale(d[1],d[2],w,_)):u.scale(d[1],d[2],d[3],d[4]),o*=d[1],l*=d[2]):g=="m"&&p==7&&u.add(d[1],d[2],d[3],d[4],d[5],d[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=s=u.e,h.dy=r=u.f,o==1&&l==1&&!n&&h.bbox?(h.bbox.x+=+s,h.bbox.y+=+r):h.dirtyT=1},ae=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return t.length==4?[e,0,t[2],t[3]]:[e,0];case"s":return t.length==5?[e,1,1,t[3],t[4]]:t.length==3?[e,1,1]:[e,1]}},oe=x._equaliseTransform=function(t,e){e=H(e).replace(/\.{3}|\u2026/g,t),t=x.parseTransformString(t)||[],e=x.parseTransformString(e)||[];var i=Y(t.length,e.length),n=[],s=[],r=0,a,o,l,h;for(;r<i;r++){l=t[r]||ae(e[r]),h=e[r]||ae(l);if(l[0]!=h[0]||l[0].toLowerCase()=="r"&&(l[2]!=h[2]||l[3]!=h[3])||l[0].toLowerCase()=="s"&&(l[3]!=h[3]||l[4]!=h[4]))return;n[r]=[],s[r]=[];for(a=0,o=Y(l.length,h.length);a<o;a++)a in l&&(n[r][a]=l[a]),a in h&&(s[r][a]=h[a])}return{from:n,to:s}};x._getContainer=function(t,e,i,n){var s;s=n==null&&!x.is(t,"object")?S.doc.getElementById(t):t;if(s!=null){if(s.tagName)return e==null?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:e,height:i};return{container:1,x:t,y:e,width:i,height:n}}},x.pathToRelative=Yt,x._engine={},x.path2curve=Kt,x.matrix=function(t,e,i,n,s,r){return new a(t,e,i,n,s,r)},function(t){function e(t){var e=W.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}function i(t){return t[0]*t[0]+t[1]*t[1]}t.add=function(t,e,i,n,s,r){var o=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,i,s],[e,n,r],[0,0,1]],u,c,f,d;t&&t instanceof a&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]);for(u=0;u<3;u++)for(c=0;c<3;c++){d=0;for(f=0;f<3;f++)d+=l[u][f]*h[f][c];o[u][c]=d}this.a=o[0][0],this.b=o[1][0],this.c=o[0][1],this.d=o[1][1],this.e=o[0][2],this.f=o[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new a(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new a(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){e==null&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,i){t=x.rad(t),e=e||0,i=i||0;var n=+W.cos(t).toFixed(9),s=+W.sin(t).toFixed(9);this.add(n,s,-s,n,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[H.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return x.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=W.sqrt(i(n[0])),e(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=W.sqrt(i(n[1])),e(n[1]),t.shear/=t.scaley;var s=-n[0][1],r=n[1][1];r<0?(t.rotate=x.deg(W.acos(r)),s<0&&(t.rotate=360-t.rotate)):t.rotate=x.deg(W.asin(s)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate;return t},t.toTransformString=function(t){var e=t||this[z]();if(e.isSimple){e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4);return(e.dx||e.dy?"t"+[e.dx,e.dy]:F)+(e.scalex!=1||e.scaley!=1?"s"+[e.scalex,e.scaley,0,0]:F)+(e.rotate?"r"+[e.rotate,0,0]:F)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(a.prototype);var le=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(le&&le[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&le&&le[1]<8?A.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:A.safari=Ct;var he=function(){this.returnValue=!1},ue=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},fe=function(){return this.originalEvent.stopPropagation()},de=function(){if(S.doc.addEventListener)return function(t,e,i,n){var s=N&&R[e]?R[e]:e,r=function(s){var r=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,a=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=s.clientX+a,l=s.clientY+r;if(N&&R[D](e))for(var h=0,u=s.targetTouches&&s.targetTouches.length;h<u;h++)if(s.targetTouches[h].target==t){var c=s;s=s.targetTouches[h],s.originalEvent=c,s.preventDefault=ue,s.stopPropagation=fe;break}return i.call(n,s,o,l)};t.addEventListener(s,r,!1);return function(){t.removeEventListener(s,r,!1);return!0}};if(S.doc.attachEvent)return function(t,e,i,n){var s=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,r=t.clientX+s,a=t.clientY+e;t.preventDefault=t.preventDefault||he,t.stopPropagation=t.stopPropagation||ce;return i.call(n,t,r,a)};t.attachEvent("on"+e,s);var r=function(){t.detachEvent("on"+e,s);return!0};return r}}(),pe=[],ge=function(t){var e=t.clientX,i=t.clientY,n=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,r,a=pe.length;while(a--){r=pe[a];if(N){var o=t.touches.length,l;while(o--){l=t.touches[o];if(l.identifier==r.el._drag.id){e=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}}else t.preventDefault();var h=r.el.node,u,c=h.nextSibling,f=h.parentNode,d=h.style.display;S.win.opera&&f.removeChild(h),h.style.display="none",u=r.el.paper.getElementByPoint(e,i),h.style.display=d,S.win.opera&&(c?f.insertBefore(h,c):f.appendChild(h)),u&&eve("raphael.drag.over."+r.el.id,r.el,u),e+=s,i+=n,eve("raphael.drag.move."+r.el.id,r.move_scope||r.el,e-r.el._drag.x,i-r.el._drag.y,e,i,t)}},me=function(t){x.unmousemove(ge).unmouseup(me);var e=pe.length,i;while(e--)i=pe[e],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);pe=[]},ve=x.el={};for(var ye=B.length;ye--;)(function(t){x[t]=ve[t]=function(e,i){x.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:de(this.shape||this.node||S.doc,t,e,i||this)}));return this},x["un"+t]=ve["un"+t]=function(e){var i=this.events||[],n=i.length;while(n--)if(i[n].name==t&&i[n].f==e){i[n].unbind(),i.splice(n,1),!i.length&&delete this.events;return this}return this}})(B[ye]);ve.data=function(t,e){var i=wt[this.id]=wt[this.id]||{};if(arguments.length==1){if(x.is(t,"object")){for(var n in t)t[D](n)&&this.data(n,t[n]);return this}eve("raphael.data.get."+this.id,this,i[t],t);return i[t]}i[t]=e,eve("raphael.data.set."+this.id,this,e,t);return this},ve.removeData=function(t){t==null?wt[this.id]={}:wt[this.id]&&delete wt[this.id][t];return this},ve.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},ve.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var be=[];ve.drag=function(t,e,i,n,s,r){function a(a){(a.originalEvent||a).preventDefault();var o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,l=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=a.clientX+l,this._drag.y=a.clientY+o,this._drag.id=a.identifier,!pe.length&&x.mousemove(ge).mouseup(me),pe.push({el:this,move_scope:n,start_scope:s,end_scope:r}),e&&eve.on("raphael.drag.start."+this.id,e),t&&eve.on("raphael.drag.move."+this.id,t),i&&eve.on("raphael.drag.end."+this.id,i),eve("raphael.drag.start."+this.id,s||n||this,a.clientX+l,a.clientY+o,a)}this._drag={},be.push({el:this,start:a}),this.mousedown(a);return this},ve.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},ve.undrag=function(){var t=be.length;while(t--)be[t].el==this&&(this.unmousedown(be[t].start),be.splice(t,1),eve.unbind("raphael.drag.*."+this.id));!be.length&&x.unmousemove(ge).unmouseup(me)},A.circle=function(t,e,i){var n=x._engine.circle(this,t||0,e||0,i||0);this.__set__&&this.__set__.push(n);return n},A.rect=function(t,e,i,n,s){var r=x._engine.rect(this,t||0,e||0,i||0,n||0,s||0);this.__set__&&this.__set__.push(r);return r},A.ellipse=function(t,e,i,n){var s=x._engine.ellipse(this,t||0,e||0,i||0,n||0);this.__set__&&this.__set__.push(s);return s},A.path=function(t){t&&!x.is(t,U)&&!x.is(t[0],K)&&(t+=F);var e=x._engine.path(x.format[E](x,arguments),this);this.__set__&&this.__set__.push(e);return e},A.image=function(t,e,i,n,s){var r=x._engine.image(this,t||"about:blank",e||0,i||0,n||0,s||0);this.__set__&&this.__set__.push(r);return r},A.text=function(t,e,i){var n=x._engine.text(this,t||0,e||0,H(i));this.__set__&&this.__set__.push(n);return n},A.set=function(t){!x.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new Ee(t);this.__set__&&this.__set__.push(e);return e},A.setStart=function(t){this.__set__=t||this.set()},A.setFinish=function(t){var e=this.__set__;delete this.__set__;return e},A.setSize=function(t,e){return x._engine.setSize.call(this,t,e)},A.setViewBox=function(t,e,i,n,s){return x._engine.setViewBox.call(this,t,e,i,n,s)},A.top=A.bottom=null,A.raphael=x;var xe=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,s=i.documentElement,r=s.clientTop||n.clientTop||0,a=s.clientLeft||n.clientLeft||0,o=e.top+(S.win.pageYOffset||s.scrollTop||n.scrollTop)-r,l=e.left+(S.win.pageXOffset||s.scrollLeft||n.scrollLeft)-a;return{y:o,x:l}};A.getElementByPoint=function(t,e){var i=this,n=i.canvas,s=S.doc.elementFromPoint(t,e);if(S.win.opera&&s.tagName=="svg"){var r=xe(n),a=n.createSVGRect();a.x=t-r.x,a.y=e-r.y,a.width=a.height=1;var o=n.getIntersectionList(a,null);o.length&&(s=o[o.length-1])}if(!s)return null;while(s.parentNode&&s!=n.parentNode&&!s.raphael)s=s.parentNode;s==i.canvas.parentNode&&(s=n),s=s&&s.raphael?i.getById(s.raphaelid):null;return s},A.getById=function(t){var e=this.bottom;while(e){if(e.id==t)return e;e=e.next}return null},A.forEach=function(t,e){var i=this.bottom;while(i){if(t.call(e,i)===!1)return this;i=i.next}return this},A.getElementsByPoint=function(t,e){var i=this.set();this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)});return i},ve.isPointInside=function(t,e){var i=this.realPath=this.realPath||Mt[this.type](this);return x.isPointInsidePath(i,t,e)},ve.getBBox=function(t){if(this.removed)return{};var e=this._;if(t){if(e.dirty||!e.bboxwt)this.realPath=Mt[this.type](this),e.bboxwt=jt(this.realPath),e.bboxwt.toString=s,e.dirty=0;return e.bboxwt}if(e.dirty||e.dirtyT||!e.bbox){if(e.dirty||!this.realPath)e.bboxwt=0,this.realPath=Mt[this.type](this);e.bbox=jt(Pt(this.realPath,this.matrix)),e.bbox.toString=s,e.dirty=e.dirtyT=0}return e.bbox},ve.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(t);return t},ve.glow=function(t){if(this.type=="text")return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,s=n.set(),r=this.realPath||Mt[this.type](this);r=this.matrix?Pt(r,this.matrix):r;for(var a=1;a<i+1;a++)s.push(n.path(r).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*a).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return s.insertBefore(this).translate(e.offsetx,e.offsety)};var we={},_e=function(t,e,i,n,s,r,a,o,l){return l==null?d(t,e,i,n,s,r,a,o):x.findDotsAtSegment(t,e,i,n,s,r,a,o,f(t,e,i,n,s,r,a,o,l))},ke=function(t,e){return function(i,n,s){i=Kt(i);var r,a,o,l,h="",u={},c,f=0;for(var d=0,p=i.length;d<p;d++){o=i[d];if(o[0]=="M")r=+o[1],a=+o[2];else{l=_e(r,a,o[1],o[2],o[3],o[4],o[5],o[6]);if(f+l>n){if(e&&!u.start){c=_e(r,a,o[1],o[2],o[3],o[4],o[5],o[6],n-f),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y];if(s)return h;u.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,o[5],o[6]].join(),f+=l,r=+o[5],a=+o[6];continue}if(!t&&!e){c=_e(r,a,o[1],o[2],o[3],o[4],o[5],o[6],n-f);return{x:c.x,y:c.y,alpha:c.alpha}}}f+=l,r=+o[5],a=+o[6]}h+=o.shift()+o}u.end=h,c=t?f:e?u:x.findDotsAtSegment(r,a,o[0],o[1],o[2],o[3],o[4],o[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha});return c}},Ce=ke(1),Te=ke(),De=ke(0,1);x.getTotalLength=Ce,x.getPointAtLength=Te,x.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return De(t,e).end;var n=De(t,i,1);return e?De(n,e).end:n},ve.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return Ce(this.attrs.path)}},ve.getPointAtLength=function(t){if(this.type=="path")return Te(this.attrs.path,t)},ve.getSubpath=function(t,e){if(this.type=="path")return x.getSubpath(this.attrs.path,t,e)};var Se=x.easing_formulas={linear:function(t){return t},"<":function(t){return q(t,1.7)},">":function(t){return q(t,.48)},"<>":function(t){var e=.48-t/1.04,i=W.sqrt(.1734+e*e),n=i-e,s=q(X(n),1/3)*(n<0?-1:1),r=-i-e,a=q(X(r),1/3)*(r<0?-1:1),o=s+a+.5;return(1-o)*3*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t=t-1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(t==!!t)return t;return q(2,-10*t)*W.sin((t-.075)*2*G/.3)+1},bounce:function(t){var e=7.5625,i=2.75,n;t<1/i?n=e*t*t:t<2/i?(t-=1.5/i,n=e*t*t+.75):t<2.5/i?(t-=2.25/i,n=e*t*t+.9375):(t-=2.625/i,n=e*t*t+.984375);return n}};Se.easeIn=Se["ease-in"]=Se["<"],Se.easeOut=Se["ease-out"]=Se[">"],Se.easeInOut=Se["ease-in-out"]=Se["<>"],Se["back-in"]=Se.backIn,Se["back-out"]=Se.backOut;var Me=[],Pe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},Ae=function(){var t=+new Date,i=0;for(;i<Me.length;i++){var n=Me[i];if(n.el.removed||n.paused)continue;var s=t-n.start,r=n.ms,a=n.easing,o=n.from,l=n.diff,h=n.to,u=n.t,c=n.el,f={},d,p={},g;n.initstatus?(s=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*r,n.status=n.initstatus,delete n.initstatus,n.stop&&Me.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(s/r))/n.anim.top;if(s<0)continue;if(s<r){var m=a(s/r);for(var v in o)if(o[D](v)){switch(ft[v]){case V:d=+o[v]+m*r*l[v];break;case"colour":d="rgb("+[Ie(at(o[v].r+m*r*l[v].r)),Ie(at(o[v].g+m*r*l[v].g)),Ie(at(o[v].b+m*r*l[v].b))].join(",")+")";break;case"path":d=[];for(var y=0,b=o[v].length;y<b;y++){d[y]=[o[v][y][0]];for(var w=1,_=o[v][y].length;w<_;w++)d[y][w]=+o[v][y][w]+m*r*l[v][y][w];d[y]=d[y].join(O)}d=d.join(O);break;case"transform":if(l[v].real){d=[];for(y=0,b=o[v].length;y<b;y++){d[y]=[o[v][y][0]];for(w=1,_=o[v][y].length;w<_;w++)d[y][w]=o[v][y][w]+m*r*l[v][y][w]}}else{var k=function(t){return+o[v][t]+m*r*l[v][t]};d=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if(v=="clip-rect"){d=[],y=4;while(y--)d[y]=+o[v][y]+m*r*l[v][y]}break;default:var C=[][L](o[v]);d=[],y=c.paper.customAttributes[v].length;while(y--)d[y]=+C[y]+m*r*l[v][y];
}f[v]=d}c.attr(f),function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+t,e,i)})}(c.id,c,n.anim)}else{(function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+e.id,e,i),eve("raphael.anim.finish."+e.id,e,i),x.is(t,"function")&&t.call(e)})})(n.callback,c,n.anim),c.attr(h),Me.splice(i--,1);if(n.repeat>1&&!n.next){for(g in h)h[D](g)&&(p[g]=n.totalOrigin[g]);n.el.attr(p),e(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&e(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}x.svg&&c&&c.paper&&c.paper.safari(),Me.length&&Pe(Ae)},Ie=function(t){return t>255?255:t<0?0:t};ve.animateWith=function(t,n,s,r,a,o){var l=this;if(l.removed){o&&o.call(l);return l}var h=s instanceof i?s:x.animation(s,r,a,o),u,c;e(h,l,h.percents[0],null,l.attr());for(var f=0,d=Me.length;f<d;f++)if(Me[f].anim==n&&Me[f].el==t){Me[d-1].start=Me[f].start;break}return l},ve.onAnimation=function(t){t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id);return this},i.prototype.delay=function(t){var e=new i(this.anim,this.ms);e.times=this.times,e.del=+t||0;return e},i.prototype.repeat=function(t){var e=new i(this.anim,this.ms);e.del=this.del,e.times=W.floor(Y(t,0))||1;return e},x.animation=function(t,e,n,s){if(t instanceof i)return t;if(x.is(n,"function")||!n)s=s||n||null,n=null;t=Object(t),e=+e||0;var r={},a,o;for(o in t)t[D](o)&&lt(o)!=o&&lt(o)+"%"!=o&&(a=!0,r[o]=t[o]);if(!a)return new i(t,e);n&&(r.easing=n),s&&(r.callback=s);return new i({100:r},e)},ve.animate=function(t,n,s,r){var a=this;if(a.removed){r&&r.call(a);return a}var o=t instanceof i?t:x.animation(t,n,s,r);e(o,a,o.percents[0],null,a.attr());return a},ve.setTime=function(t,e){t&&e!=null&&this.status(t,$(e,t.ms)/t.ms);return this},ve.status=function(t,i){var n=[],s=0,r,a;if(i!=null){e(t,this,-1,$(i,1));return this}r=Me.length;for(;s<r;s++){a=Me[s];if(a.el.id==this.id&&(!t||a.anim==t)){if(t)return a.status;n.push({anim:a.anim,status:a.status})}}if(t)return 0;return n},ve.pause=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.pause."+this.id,this,Me[e].anim)!==!1&&(Me[e].paused=!0);return this},ve.resume=function(t){for(var e=0;e<Me.length;e++)if(Me[e].el.id==this.id&&(!t||Me[e].anim==t)){var i=Me[e];eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},ve.stop=function(t){for(var e=0;e<Me.length;e++)Me[e].el.id==this.id&&(!t||Me[e].anim==t)&&eve("raphael.anim.stop."+this.id,this,Me[e].anim)!==!1&&Me.splice(e--,1);return this},eve.on("raphael.remove",t),eve.on("raphael.clear",t),ve.toString=function(){return"RaphaÃÂ«lÃ¢â¬â¢s object"};var Ee=function(t){this.items=[],this.length=0,this.type="set";if(t)for(var e=0,i=t.length;e<i;e++)t[e]&&(t[e].constructor==ve.constructor||t[e].constructor==Ee)&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},Le=Ee.prototype;Le.push=function(){var t,e;for(var i=0,n=arguments.length;i<n;i++)t=arguments[i],t&&(t.constructor==ve.constructor||t.constructor==Ee)&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},Le.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},Le.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var Ne in ve)ve[D](Ne)&&(Le[Ne]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][E](i,e)})}}(Ne));Le.attr=function(t,e){if(t&&x.is(t,K)&&x.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var s=0,r=this.items.length;s<r;s++)this.items[s].attr(t,e);return this},Le.clear=function(){while(this.length)this.pop()},Le.splice=function(t,e,i){t=t<0?Y(this.length+t,0):t,e=Y(0,$(this.length-t,e));var n=[],s=[],r=[],a;for(a=2;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<e;a++)s.push(this[t+a]);for(;a<this.length-t;a++)n.push(this[t+a]);var o=r.length;for(a=0;a<o+n.length;a++)this.items[t+a]=this[t+a]=a<o?r[a]:n[a-o];a=this.items.length=this.length-=e-o;while(this[a])delete this[a++];return new Ee(s)},Le.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t){this.splice(e,1);return!0}},Le.animate=function(t,e,i,n){(x.is(i,"function")||!i)&&(n=i||null);var s=this.items.length,r=s,a,o=this,l;if(!s)return this;n&&(l=function(){!--s&&n.call(o)}),i=x.is(i,U)?i:l;var h=x.animation(t,e,i,l);a=this.items[--r].animate(h);while(r--)this.items[r]&&!this.items[r].removed&&this.items[r].animateWith(a,h,h);return this},Le.insertAfter=function(t){var e=this.items.length;while(e--)this.items[e].insertAfter(t);return this},Le.getBBox=function(){var t=[],e=[],i=[],n=[];for(var s=this.items.length;s--;)if(!this.items[s].removed){var r=this.items[s].getBBox();t.push(r.x),e.push(r.y),i.push(r.x+r.width),n.push(r.y+r.height)}t=$[E](0,t),e=$[E](0,e),i=Y[E](0,i),n=Y[E](0,n);return{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},Le.clone=function(t){t=new Ee;for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},Le.toString=function(){return"RaphaÃÂ«lÃ¢â¬Ës set"},x.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[D](n)&&(e.face[n]=t.face[n]);this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e];if(!t.svg){e.face["units-per-em"]=ht(t.face["units-per-em"],10);for(var s in t.glyphs)if(t.glyphs[D](s)){var r=t.glyphs[s];e.glyphs[s]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"};if(r.k)for(var a in r.k)r[D](a)&&(e.glyphs[s].k[a]=r.k[a])}}return t},A.getFont=function(t,e,i,n){n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400;if(!!x.fonts){var s=x.fonts[t];if(!s){var r=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,F)+"(\\s|$)","i");for(var a in x.fonts)if(x.fonts[D](a)&&r.test(a)){s=x.fonts[a];break}}var o;if(s)for(var l=0,h=s.length;l<h;l++){o=s[l];if(o.face["font-weight"]==e&&(o.face["font-style"]==i||!o.face["font-style"])&&o.face["font-stretch"]==n)break}return o}},A.print=function(t,e,i,n,s,r,a){r=r||"middle",a=Y($(a||0,1),-1);var o=H(i)[z](F),l=0,h=0,u=F,c;x.is(n,i)&&(n=this.getFont(n));if(n){c=(s||16)/n.face["units-per-em"];var f=n.face.bbox[z](_),d=+f[0],p=f[3]-f[1],g=0,m=+f[1]+(r=="baseline"?p+ +n.face.descent:p/2);for(var v=0,y=o.length;v<y;v++){if(o[v]=="\n")l=0,w=0,h=0,g+=p;else{var b=h&&n.glyphs[o[v-1]]||{},w=n.glyphs[o[v]];l+=h?(b.w||n.w)+(b.k&&b.k[o[v]]||0)+n.w*a:0,h=1}w&&w.d&&(u+=x.transformPath(w.d,["t",l*c,g*c,"s",c,c,d,m,"t",(t-d)/c,(e-m)/c]))}}return this.path(u).attr({fill:"#000",stroke:"none"})},A.add=function(t){if(x.is(t,"array")){var e=this.set(),i=0,n=t.length,s;for(;i<n;i++)s=t[i]||{},k[D](s.type)&&e.push(this[s.type]().attr(s))}return e},x.format=function(t,e){var i=x.is(e,K)?[0][L](e):arguments;t&&x.is(t,U)&&i.length-1&&(t=t.replace(C,function(t,e){return i[++e]==null?F:i[e]}));return t||F},x.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var s=n;i.replace(e,function(t,e,i,n,r){e=e||n,s&&(e in s&&(s=s[e]),typeof s=="function"&&r&&(s=s()))}),s=(s==null||s==n?t:s)+"";return s};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),x.ninja=function(){M.was?S.win.Raphael=M.is:delete Raphael;return x},x.st=Le,function(t,e,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):x.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),M.was?S.win.Raphael=x:Raphael=x,eve.on("raphael.DOMload",function(){w=!0})}(),window.Raphael.svg&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,s=parseInt,r=Math,a=r.max,o=r.abs,l=r.pow,h=/[, ]+/,u=t.eve,c="",f=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃÂ«l "+this.version};var m=function(n,s){if(s){typeof n=="string"&&(n=m(n));for(var r in s)s[e](r)&&(r.substring(0,6)=="xlink:"?n.setAttributeNS(d,r.substring(6),i(s[r])):n.setAttribute(r,i(s[r])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,s){var h="linear",u=e.id+s,f=.5,d=.5,p=e.node,g=e.paper,v=p.style,y=t._g.doc.getElementById(u);if(!y){s=i(s).replace(t._radial_gradient,function(t,e,i){h="radial";if(e&&i){f=n(e),d=n(i);var s=(d>.5)*2-1;l(f-.5,2)+l(d-.5,2)>.25&&(d=r.sqrt(.25-l(f-.5,2))*s+.5)&&d!=.5&&(d=d.toFixed(5)-1e-5*s)}return c}),s=s.split(/\s*\-\s*/);if(h=="linear"){var b=s.shift();b=-n(b);if(isNaN(b))return null;var x=[0,0,r.cos(t.rad(b)),r.sin(t.rad(b))],w=1/(a(o(x[2]),o(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var _=t._parseDots(s);if(!_)return null;u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient);if(!e.gradient){y=m(h+"Gradient",{id:u}),e.gradient=y,m(y,h=="radial"?{fx:f,fy:d}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var k=0,C=_.length;k<C;k++)y.appendChild(m("stop",{offset:_[k].offset?_[k].offset:k?"100%":"0%","stop-color":_[k].color||"#fff"}))}}m(p,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1;return 1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,s,r){if(n.type=="path"){var a=i(s).toLowerCase().split("-"),o=n.paper,l=r?"end":"start",h=n.node,u=n.attrs,f=u["stroke-width"],d=a.length,v="classic",y,b,x,w,_,k=3,C=3,T=5;while(d--)switch(a[d]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":v=a[d];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}v=="open"?(k+=2,C+=2,T+=2,x=1,w=r?4:1,_={fill:"none",stroke:u.stroke}):(w=x=k/2,_={fill:u.stroke,stroke:"none"}),n._.arrows?r?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={};if(v!="none"){var D="raphael-marker-"+v,S="raphael-marker-"+l+v+k+C;t._g.doc.getElementById(D)?g[D]++:(o.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[v],id:D})),g[D]=1);var M=t._g.doc.getElementById(S),P;M?(g[S]++,P=M.getElementsByTagName("use")[0]):(M=m(m("marker"),{id:S,markerHeight:C,markerWidth:k,orient:"auto",refX:w,refY:C/2}),P=m(m("use"),{"xlink:href":"#"+D,transform:(r?"rotate(180 "+k/2+" "+C/2+") ":c)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),M.appendChild(P),o.defs.appendChild(M),g[S]=1),m(P,_);var A=x*(v!="diamond"&&v!="oval");r?(y=n._.arrows.startdx*f||0,b=t.getTotalLength(u.path)-A*f):(y=A*f,b=t.getTotalLength(u.path)-(n._.arrows.enddx*f||0)),_={},_["marker-"+l]="url(#"+S+")";if(b||y)_.d=Raphael.getSubpath(u.path,y,b);m(h,_),n._.arrows[l+"Path"]=D,n._.arrows[l+"Marker"]=S,n._.arrows[l+"dx"]=A,n._.arrows[l+"Type"]=v,n._.arrows[l+"String"]=s}else r?(y=n._.arrows.startdx*f||0,b=t.getTotalLength(u.path)-y):(y=0,b=t.getTotalLength(u.path)-(n._.arrows.enddx*f||0)),n._.arrows[l+"Path"]&&m(h,{d:Raphael.getSubpath(u.path,y,b)}),delete n._.arrows[l+"Path"],delete n._.arrows[l+"Marker"],delete n._.arrows[l+"dx"],delete n._.arrows[l+"Type"],delete n._.arrows[l+"String"];for(_ in g)if(g[e](_)&&!g[_]){var I=t._g.doc.getElementById(_);I&&I.parentNode.removeChild(I)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,e,n){e=x[i(e).toLowerCase()];if(e){var s=t.attrs["stroke-width"]||"1",r={round:s,square:s,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=e.length;while(o--)a[o]=e[o]*s+(o%2?1:-1)*r;m(t.node,{"stroke-dasharray":a.join(",")})}},_=function(n,r){var l=n.node,u=n.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var p in r)if(r[e](p)){if(!t._availableAttrs[e](p))continue;var g=r[p];u[p]=g;switch(p){case"blur":n.blur(g);break;case"href":case"title":case"target":var x=l.parentNode;if(x.tagName.toLowerCase()!="a"){var _=m("a");x.insertBefore(_,l),_.appendChild(l),x=_}p=="target"?x.setAttributeNS(d,"show",g=="blank"?"new":g):x.setAttributeNS(d,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var k=i(g).split(h);if(k.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=m("clipPath"),D=m("rect");T.id=t.createUUID(),m(D,{x:k[0],y:k[1],width:k[2],height:k[3]}),T.appendChild(D),n.paper.defs.appendChild(T),m(l,{"clip-path":"url(#"+T.id+")"}),n.clip=D}if(!g){var S=l.getAttribute("clip-path");if(S){var M=t._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g,c));M&&M.parentNode.removeChild(M),m(l,{"clip-path":c}),delete n.clip}}break;case"path":n.type=="path"&&(m(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":l.setAttribute(p,g),n._.dirty=1;if(u.fx)p="x",g=u.x;else break;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if(p=="rx"&&n.type=="rect")break;case"cx":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"height":l.setAttribute(p,g),n._.dirty=1;if(u.fy)p="y",g=u.y;else break;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if(p=="ry"&&n.type=="rect")break;case"cy":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"r":n.type=="rect"?m(l,{rx:g,ry:g}):l.setAttribute(p,g),n._.dirty=1;break;case"src":n.type=="image"&&l.setAttributeNS(d,"href",g);break;case"stroke-width":if(n._.sx!=1||n._.sy!=1)g/=a(o(n._.sx),o(n._.sy))||1;n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(p,g),u["stroke-dasharray"]&&w(n,u["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,g,r);break;case"fill":var P=i(g).match(t._ISURL);if(P){T=m("pattern");var A=m("image");T.id=t.createUUID(),m(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(A,{x:0,y:0,"xlink:href":P[1]}),T.appendChild(A),function(e){t._preload(P[1],function(){var t=this.offsetWidth,i=this.offsetHeight;m(e,{width:t,height:i}),m(A,{width:t,height:i}),n.paper.safari()})}(T),n.paper.defs.appendChild(T),m(l,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&y(n);break}var I=t.getRGB(g);if(!I.error)delete r.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(r.opacity,"undefined")&&m(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(r["fill-opacity"],"undefined")&&m(l,{"fill-opacity":u["fill-opacity"]});else if((n.type=="circle"||n.type=="ellipse"||i(g).charAt()!="r")&&v(n,g)){if("opacity"in u||"fill-opacity"in u){var E=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(E){var L=E.getElementsByTagName("stop");m(L[L.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}I[e]("opacity")&&m(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=t.getRGB(g),l.setAttribute(p,I.hex),p=="stroke"&&I[e]("opacity")&&m(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),p=="stroke"&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||i(g).charAt()!="r")&&v(n,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){E=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),E&&(L=E.getElementsByTagName("stop"),m(L[L.length-1],{"stop-opacity":g}));break};default:p=="font-size"&&(g=s(g,10)+"px");var N=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[N]=g,n._.dirty=1,l.setAttribute(p,g)}}C(n,r),l.style.visibility=f},k=1.2,C=function(n,r){if(n.type=="text"&&!!(r[e]("text")||r[e]("font")||r[e]("font-size")||r[e]("x")||r[e]("y"))){var a=n.attrs,o=n.node,l=o.firstChild?s(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(r[e]("text")){a.text=r.text;while(o.firstChild)o.removeChild(o.firstChild);var h=i(r.text).split("\n"),u=[],f;for(var d=0,p=h.length;d<p;d++)f=m("tspan"),d&&m(f,{dy:l*k,x:a.x}),f.appendChild(t._g.doc.createTextNode(h[d])),o.appendChild(f),u[d]=f}else{u=o.getElementsByTagName("tspan");for(d=0,p=u.length;d<p;d++)d?m(u[d],{dy:l*k,x:a.x}):m(u[0],{dy:0})}m(o,{x:a.x,y:a.y}),n._.dirty=1;var g=n._getBBox(),v=a.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(u[0],{dy:v})}},T=function(e,i){var n=0,s=0;this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},D=t.el;T.prototype=D,D.constructor=T,t._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new T(i,e);n.type="path",_(n,{fill:"none",stroke:"#000",path:t});return n},D.rotate=function(t,e,s){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1]),s=n(t[2])),t=n(t[0]),s==null&&(e=s);if(e==null||s==null){var r=this.getBBox(1);e=r.x+r.width/2,s=r.y+r.height/2}this.transform(this._.transform.concat([["r",t,e,s]]));return this},D.scale=function(t,e,s,r){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1]),s=n(t[2]),r=n(t[3])),t=n(t[0]),e==null&&(e=t),r==null&&(s=r);if(s==null||r==null)var a=this.getBBox(1);s=s==null?a.x+a.width/2:s,r=r==null?a.y+a.height/2:r,this.transform(this._.transform.concat([["s",t,e,s,r]]));return this},D.translate=function(t,e){if(this.removed)return this;t=i(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]));return this},D.transform=function(i){var n=this._;if(i==null)return n.transform;t._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix});if(n.sx!=1||n.sy!=1){var s=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":s})}return this},D.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this},D.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this},D.remove=function(){if(!this.removed&&!!this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]=typeof this[i]=="function"?t._removedFactory(i):null;this.removed=!0}},D._getBBox=function(){if(this.node.style.display=="none"){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}t&&this.hide();return e},D.attr=function(i,n){if(this.removed)return this;if(i==null){var s={};for(var r in this.attrs)this.attrs[e](r)&&(s[r]=this.attrs[r]);s.gradient&&s.fill=="none"&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform;return s}if(n==null&&t.is(i,"string")){if(i=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(i=="transform")return this._.transform;var a=i.split(h),o={};for(var l=0,c=a.length;l<c;l++)i=a[l],i in this.attrs?o[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=t._availableAttrs[i];return c-1?o:o[a[0]]}if(n==null&&t.is(i,"array")){o={};for(l=0,c=i.length;l<c;l++)o[i[l]]=this.attr(i[l]);return o}if(n!=null){var f={};f[i]=n}else i!=null&&t.is(i,"object")&&(f=i);for(var d in f)u("raphael.attr."+d+"."+this.id,this,f[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&f[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(f[d]));this.attrs[d]=f[d];for(var g in p)p[e](g)&&(f[g]=p[g])}_(this,f);return this},D.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;e.top!=this&&t._tofront(this,e);return this},D.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;e.tagName.toLowerCase()=="a"?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper);var i=this.paper;return this},D.insertAfter=function(e){if(this.removed)return this;var i=e.node||e[e.length-1].node;i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper);return this},D.insertBefore=function(e){if(this.removed)return this;var i=e.node||e[0].node;i.parentNode.insertBefore(this.node,i),t._insertbefore(this,e,this.paper);return this},D.blur=function(e){var i=this;if(+e!==0){var n=m("filter"),s=m("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),m(s,{stdDeviation:+e||1.5}),n.appendChild(s),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},t._engine.circle=function(t,e,i,n){var s=m("circle");t.canvas&&t.canvas.appendChild(s);var r=new T(s,t);r.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},r.type="circle",m(s,r.attrs);return r},t._engine.rect=function(t,e,i,n,s,r){var a=m("rect");t.canvas&&t.canvas.appendChild(a);var o=new T(a,t);o.attrs={x:e,y:i,width:n,height:s,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},o.type="rect",m(a,o.attrs);return o},t._engine.ellipse=function(t,e,i,n,s){var r=m("ellipse");t.canvas&&t.canvas.appendChild(r);var a=new T(r,t);a.attrs={cx:e,cy:i,rx:n,ry:s,fill:"none",stroke:"#000"},a.type="ellipse",m(r,a.attrs);return a},t._engine.image=function(t,e,i,n,s,r){var a=m("image");m(a,{x:i,y:n,width:s,height:r,preserveAspectRatio:"none"}),a.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(a);var o=new T(a,t);o.attrs={x:i,y:n,width:s,height:r,src:e},o.type="image";return o},t._engine.text=function(e,i,n,s){var r=m("text");e.canvas&&e.canvas.appendChild(r);var a=new T(r,e);a.attrs={x:i,y:n,"text-anchor":"middle",text:s,font:t._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",_(a,a.attrs);return a},t._engine.setSize=function(t,e){this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,s=e.y,r=e.width,a=e.height;if(!i)throw new Error("SVG container not found.");var o=m("svg"),l="overflow:hidden;",h;n=n||0,s=s||0,r=r||512,a=a||342,m(o,{height:a,version:1.1,width:r,xmlns:"http://www.w3.org/2000/svg"}),i==1?(o.style.cssText=l+"position:absolute;left:"+n+"px;top:"+s+"px",t._g.doc.body.appendChild(o),h=1):(o.style.cssText=l+"position:relative",i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)),i=new t._Paper,i.width=r,i.height=a,i.canvas=o,i.clear(),i._left=i._top=0,h&&(i.renderfix=function(){}),i.renderfix();return i},t._engine.setViewBox=function(t,e,i,n,s){u("raphael.setViewBox",this,this._viewBox,[t,e,i,n,s]);var r=a(i/this.width,n/this.height),o=this.top,l=s?"meet":"xMinYMin",h,c;t==null?(this._vbSize&&(r=1),delete this._vbSize,h="0 0 "+this.width+f+this.height):(this._vbSize=r,h=t+f+e+f+i+f+n),m(this.canvas,{viewBox:h,preserveAspectRatio:l});while(r&&o)c="stroke-width"in o.attrs?o.attrs["stroke-width"]:1,o.attr({"stroke-width":c}),o._.dirty=1,o._.dirtyT=1,o=o.prev;this._viewBox=[t,e,i,n,!!s];return this},t.prototype.renderfix=function(){var t=this.canvas,e=t.style,i;try{i=t.getScreenCTM()||t.createSVGMatrix()}catch(n){i=t.createSVGMatrix()}var s=-i.e%1,r=-i.f%1;if(s||r)s&&(this._left=(this._left+s)%1,e.left=this._left+"px"),r&&(this._top=(this._top+r)%1,e.top=this._top+"px")},t.prototype.clear=function(){t.eve("raphael.clear",this);var e=this.canvas;while(e.firstChild)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with RaphaÃÂ«l "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null};var S=t.st;for(var M in D)D[e](M)&&!S[e](M)&&(S[M]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(M))}(window.Raphael),window.Raphael.vml&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,s=Math,r=s.round,a=s.max,o=s.min,l=s.abs,h="fill",u=/[, ]+/,c=t.eve,f=" progid:DXImageTransform.Microsoft",d=" ",p="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},k=function(e){var n=/[ahqstv]/gi,s=t._pathToAbsolute;i(e).match(n)&&(s=t._path2curve),n=/[clmz]/g;if(s==t._pathToAbsolute&&!i(e).match(n)){var a=i(e).replace(m,function(t,e,i){var n=[],s=e.toLowerCase()=="m",a=g[e];i.replace(y,function(t){s&&n.length==2&&(a+=n+g[e=="m"?"l":"L"],n=[]),n.push(r(t*x))});return a+n});return a}var o=s(e),l,h;a=[];for(var u=0,c=o.length;u<c;u++){l=o[u],h=o[u][0].toLowerCase(),h=="z"&&(h="x");for(var f=1,v=l.length;f<v;f++)h+=r(l[f]*x)+(f!=v-1?",":p);a.push(h)}return a.join(d)},C=function(e,i,n){var s=t.matrix();s.rotate(-e,.5,.5);return{dx:s.x(i,n),dy:s.y(i,n)}},T=function(t,e,i,n,s,r){var a=t._,o=t.matrix,u=a.fillpos,c=t.node,f=c.style,p=1,g="",m,v=x/e,y=x/i;f.visibility="hidden";if(!!e&&!!i){c.coordsize=l(v)+d+l(y),f.rotation=r*(e*i<0?-1:1);if(r){var b=C(r,n,s);n=b.dx,s=b.dy}e<0&&(g+="x"),i<0&&(g+=" y")&&(p=-1),f.flip=g,c.coordorigin=n*-v+d+s*-y;if(u||a.fillsize){var w=c.getElementsByTagName(h);w=w&&w[0],c.removeChild(w),u&&(b=C(r,o.x(u[0],u[1]),o.y(u[0],u[1])),w.position=b.dx*p+d+b.dy*p),a.fillsize&&(w.size=a.fillsize[0]*l(e)+d+a.fillsize[1]*l(i)),c.appendChild(w)}f.visibility="visible"}};t.toString=function(){return"Your browser doesnÃ¢â¬â¢t support SVG. Falling down to VML.\nYou are running RaphaÃÂ«l "+this.version};var D=function(t,e,n){var s=i(e).toLowerCase().split("-"),r=n?"end":"start",a=s.length,o="classic",l="medium",h="medium";while(a--)switch(s[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=s[a];break;case"wide":case"narrow":h=s[a];break;case"long":case"short":l=s[a]}var u=t.node.getElementsByTagName("stroke")[0];u[r+"arrow"]=o,u[r+"arrowlength"]=l,u[r+"arrowwidth"]=h},S=function(s,l){s.attrs=s.attrs||{};var c=s.node,f=s.attrs,g=c.style,m,v=w[s.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),y=_[s.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),b=s;for(var C in l)l[e](C)&&(f[C]=l[C]);v&&(f.path=t._getPath[s.type](s),s._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&s.blur(l.blur);if(l.path&&s.type=="path"||v)c.path=k(~i(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),s.type=="image"&&(s._.fillpos=[f.x,f.y],s._.fillsize=[f.width,f.height],T(s,1,1,0,0,0));"transform"in l&&s.transform(l.transform);if(y){var S=+f.cx,P=+f.cy,A=+f.rx||+f.r||0,E=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((S-A)*x),r((P-E)*x),r((S+A)*x),r((P+E)*x),r(S*x))}if("clip-rect"in l){var L=i(l["clip-rect"]).split(u);if(L.length==4){L[2]=+L[2]+ +L[0],L[3]=+L[3]+ +L[1];var N=c.clipRect||t._g.doc.createElement("div"),F=N.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",L),c.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=s.paper.width+"px",F.height=s.paper.height+"px",c.parentNode.insertBefore(N,c),N.appendChild(c),c.clipRect=N)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(s.textpath){var O=s.textpath.style;l.font&&(O.font=l.font),l["font-family"]&&(O.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(O.fontSize=l["font-size"]),l["font-weight"]&&(O.fontWeight=l["font-weight"]),l["font-style"]&&(O.fontStyle=l["font-style"])}"arrow-start"in l&&D(b,l["arrow-start"]),"arrow-end"in l&&D(b,l["arrow-end"],1);if(l.opacity!=null||l["stroke-width"]!=null||l.fill!=null||l.src!=null||l.stroke!=null||l["stroke-width"]!=null||l["stroke-opacity"]!=null||l["fill-opacity"]!=null||l["stroke-dasharray"]!=null||l["stroke-miterlimit"]!=null||l["stroke-linejoin"]!=null||l["stroke-linecap"]!=null){var H=c.getElementsByTagName(h),z=!1;H=H&&H[0],!H&&(z=H=I(h)),s.type=="image"&&l.src&&(H.src=l.src),l.fill&&(H.on=!0);if(H.on==null||l.fill=="none"||l.fill===null)H.on=!1;if(H.on&&l.fill){var B=i(l.fill).match(t._ISURL);if(B){H.parentNode==c&&c.removeChild(H),H.rotate=!0,H.src=B[1],H.type="tile";var R=s.getBBox(1);H.position=R.x+d+R.y,s._.fillpos=[R.x,R.y],t._preload(B[1],function(){s._.fillsize=[this.offsetWidth,this.offsetHeight]})}else H.color=t.getRGB(l.fill).hex,H.src=p,H.type="solid",t.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||i(l.fill).charAt()!="r")&&M(b,l.fill,H)&&(f.fill="none",f.gradient=l.fill,H.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);j=o(a(j,0),1),H.opacity=j,H.src&&(H.color="none")}c.appendChild(H);var W=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],Y=!1;!W&&(Y=W=I("stroke"));if(l.stroke&&l.stroke!="none"||l["stroke-width"]||l["stroke-opacity"]!=null||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])W.on=!0;(l.stroke=="none"||l.stroke===null||W.on==null||l.stroke==0||l["stroke-width"]==0)&&(W.on=!1);var $=t.getRGB(l.stroke);W.on&&l.stroke&&(W.color=$.hex),j=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+$.o+1||2)-1);var X=(n(l["stroke-width"])||1)*.75;j=o(a(j,0),1),l["stroke-width"]==null&&(X=f["stroke-width"]),l["stroke-width"]&&(W.weight=X),X&&X<1&&(j*=X)&&(W.weight=1),W.opacity=j,l["stroke-linejoin"]&&(W.joinstyle=l["stroke-linejoin"]||"miter"),W.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(W.endcap=l["stroke-linecap"]=="butt"?"flat":l["stroke-linecap"]=="square"?"square":"round");if(l["stroke-dasharray"]){var q={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};W.dashstyle=q[e](l["stroke-dasharray"])?q[l["stroke-dasharray"]]:p}Y&&c.appendChild(W)}if(b.type=="text"){b.paper.canvas.style.display=p;var G=b.paper.span,V=100,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=G.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),
U=n(f["font-size"]||U&&U[0])||10,g.fontSize=U*V+"px",b.textpath.string&&(G.innerHTML=i(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var K=G.getBoundingClientRect();b.W=f.w=(K.right-K.left)/V,b.H=f.h=(K.bottom-K.top)/V,b.X=f.x,b.Y=f.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=t.format("m{0},{1}l{2},{1}",r(f.x*x),r(f.y*x),r(f.x*x)+1));var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var Z=0,J=Q.length;Z<J;Z++)if(Q[Z]in l){b._.dirty=1;break}switch(f["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},M=function(e,r,a){e.attrs=e.attrs||{};var o=e.attrs,l=Math.pow,h,u,c="linear",f=".5 .5";e.attrs.gradient=r,r=i(r).replace(t._radial_gradient,function(t,e,i){c="radial",e&&i&&(e=n(e),i=n(i),l(e-.5,2)+l(i-.5,2)>.25&&(i=s.sqrt(.25-l(e-.5,2))*((i>.5)*2-1)+.5),f=e+d+i);return p}),r=r.split(/\s*\-\s*/);if(c=="linear"){var g=r.shift();g=-n(g);if(isNaN(g))return null}var m=t._parseDots(r);if(!m)return null;e=e.shape||e.node;if(m.length){e.removeChild(a),a.on=!0,a.method="none",a.color=m[0].color,a.color2=m[m.length-1].color;var v=[];for(var y=0,b=m.length;y<b;y++)m[y].offset&&v.push(m[y].offset+d+m[y].color);a.colors=v.length?v.join():"0% "+a.color,c=="radial"?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=f,a.angle=0):(a.type="gradient",a.angle=(270-g)%360),e.appendChild(a)}return 1},P=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},A=t.el;P.prototype=A,A.constructor=P,A.transform=function(e){if(e==null)return this._.transform;var n=this.paper._viewBoxShift,s=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:p,r;n&&(r=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||p)),t._extractTransform(this,s+e);var a=this.matrix.clone(),o=this.skew,l=this.node,h,u=~i(this.attrs.fill).indexOf("-"),c=!i(this.attrs.fill).indexOf("url(");a.translate(-.5,-.5);if(c||u||this.type=="image"){o.matrix="1 0 0 1",o.offset="0 0",h=a.split();if(u&&h.noRotation||!h.isSimple){l.style.filter=a.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,v=f.y-g.y;l.coordorigin=m*-x+d+v*-x,T(this,1,1,m,v,0)}else l.style.filter=p,T(this,h.scalex,h.scaley,h.dx,h.dy,h.rotate)}else l.style.filter=p,o.matrix=i(a),o.offset=a.offset();r&&(this._.transform=r);return this},A.rotate=function(t,e,s){if(this.removed)return this;if(t!=null){t=i(t).split(u),t.length-1&&(e=n(t[1]),s=n(t[2])),t=n(t[0]),s==null&&(e=s);if(e==null||s==null){var r=this.getBBox(1);e=r.x+r.width/2,s=r.y+r.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,s]]));return this}},A.translate=function(t,e){if(this.removed)return this;t=i(t).split(u),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]));return this},A.scale=function(t,e,s,r){if(this.removed)return this;t=i(t).split(u),t.length-1&&(e=n(t[1]),s=n(t[2]),r=n(t[3]),isNaN(s)&&(s=null),isNaN(r)&&(r=null)),t=n(t[0]),e==null&&(e=t),r==null&&(s=r);if(s==null||r==null)var a=this.getBBox(1);s=s==null?a.x+a.width/2:s,r=r==null?a.y+a.height/2:r,this.transform(this._.transform.concat([["s",t,e,s,r]])),this._.dirtyT=1;return this},A.hide=function(){!this.removed&&(this.node.style.display="none");return this},A.show=function(){!this.removed&&(this.node.style.display=p);return this},A._getBBox=function(){if(this.removed)return{};return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null;this.removed=!0}},A.attr=function(i,n){if(this.removed)return this;if(i==null){var s={};for(var r in this.attrs)this.attrs[e](r)&&(s[r]=this.attrs[r]);s.gradient&&s.fill=="none"&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform;return s}if(n==null&&t.is(i,"string")){if(i==h&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var a=i.split(u),o={};for(var l=0,f=a.length;l<f;l++)i=a[l],i in this.attrs?o[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=t._availableAttrs[i];return f-1?o:o[a[0]]}if(this.attrs&&n==null&&t.is(i,"array")){o={};for(l=0,f=i.length;l<f;l++)o[i[l]]=this.attr(i[l]);return o}var d;n!=null&&(d={},d[i]=n),n==null&&t.is(i,"object")&&(d=i);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);if(d){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var m in g)g[e](m)&&(d[m]=g[m])}d.text&&this.type=="text"&&(this.textpath.string=d.text),S(this,d)}return this},A.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper);return this},A.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper));return this},A.insertAfter=function(e){if(this.removed)return this;e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper);return this},A.insertBefore=function(e){if(this.removed)return this;e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper);return this},A.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;n=n.replace(v,p),+e!==0?(this.attrs.blur=e,i.filter=n+d+f+".Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",r(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var i=I("shape");i.style.cssText=b,i.coordsize=x+d+x,i.coordorigin=e.coordorigin;var n=new P(i,e),s={fill:"none",stroke:"#000"};t&&(s.path=t),n.type="path",n.path=[],n.Path=p,S(n,s),e.canvas.appendChild(i);var r=I("skew");r.on=!0,i.appendChild(r),n.skew=r,n.transform(p);return n},t._engine.rect=function(e,i,n,s,r,a){var o=t._rectPath(i,n,s,r,a),l=e.path(o),h=l.attrs;l.X=h.x=i,l.Y=h.y=n,l.W=h.width=s,l.H=h.height=r,h.r=a,h.path=o,l.type="rect";return l},t._engine.ellipse=function(t,e,i,n,s){var r=t.path(),a=r.attrs;r.X=e-n,r.Y=i-s,r.W=n*2,r.H=s*2,r.type="ellipse",S(r,{cx:e,cy:i,rx:n,ry:s});return r},t._engine.circle=function(t,e,i,n){var s=t.path(),r=s.attrs;s.X=e-n,s.Y=i-n,s.W=s.H=n*2,s.type="circle",S(s,{cx:e,cy:i,r:n});return s},t._engine.image=function(e,i,n,s,r,a){var o=t._rectPath(n,s,r,a),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];u.src=i,l.X=u.x=n,l.Y=u.y=s,l.W=u.width=r,l.H=u.height=a,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=i,f.type="tile",l._.fillpos=[n,s],l._.fillsize=[r,a],c.appendChild(f),T(l,1,1,0,0,0);return l},t._engine.text=function(e,n,s,a){var o=I("shape"),l=I("path"),h=I("textpath");n=n||0,s=s||0,a=a||"",l.v=t.format("m{0},{1}l{2},{1}",r(n*x),r(s*x),r(n*x)+1),l.textpathok=!0,h.string=i(a),h.on=!0,o.style.cssText=b,o.coordsize=x+d+x,o.coordorigin="0 0";var u=new P(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=i(a),u.attrs.x=n,u.attrs.y=s,u.attrs.w=1,u.attrs.h=1,S(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=I("skew");f.on=!0,o.appendChild(f),u.skew=f,u.transform(p);return u},t._engine.setSize=function(e,i){var n=this.canvas.style;this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox);return this},t._engine.setViewBox=function(e,i,n,s,r){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,s,r]);var o=this.width,l=this.height,h=1/a(n/o,s/l),u,c;r&&(u=l/s,c=o/n,n*u<o&&(e-=(o-n*u)/2/u),s*c<l&&(i-=(l-s*c)/2/c)),this._viewBox=[e,i,n,s,!!r],this._viewBoxShift={dx:-e,dy:-i,scale:h},this.forEach(function(t){t.transform("...")});return this};var I;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),I=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){I=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,s,r=e.width,a=e.x,o=e.y;if(!i)throw new Error("VML container not found.");var l=new t._Paper,h=l.canvas=t._g.doc.createElement("div"),u=h.style;a=a||0,o=o||0,r=r||512,n=n||342,l.width=r,l.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),l.coordsize=x*1e3+d+x*1e3,l.coordorigin="0 0",l.span=t._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(l.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),i==1?(t._g.doc.body.appendChild(h),u.left=a+"px",u.top=o+"px",u.position="absolute"):i.firstChild?i.insertBefore(h,i.firstChild):i.appendChild(h),l.renderfix=function(){};return l},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?t._removedFactory(e):null;return!0};var E=t.st;for(var L in A)A[e](L)&&!E[e](L)&&(E[L]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(L))}(window.Raphael);(function(){var t,e,i,n,s=[].slice,r={}.hasOwnProperty,a=function(t,e){for(var i in e){if(r.call(e,i))t[i]=e[i]}function n(){this.constructor=t}n.prototype=e.prototype;t.prototype=new n;t.__super__=e.prototype;return t},o=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1};e=window.Morris={};t=jQuery;e.EventEmitter=function(){function t(){}t.prototype.on=function(t,e){if(this.handlers==null){this.handlers={}}if(this.handlers[t]==null){this.handlers[t]=[]}this.handlers[t].push(e);return this};t.prototype.fire=function(){var t,e,i,n,r,a,o;i=arguments[0],t=2<=arguments.length?s.call(arguments,1):[];if(this.handlers!=null&&this.handlers[i]!=null){a=this.handlers[i];o=[];for(n=0,r=a.length;n<r;n++){e=a[n];o.push(e.apply(null,t))}return o}};return t}();e.commas=function(t){var e,i,n,s;if(t!=null){n=t<0?"-":"";e=Math.abs(t);i=Math.floor(e).toFixed(0);n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,",");s=e.toString();if(s.length>i.length){n+=s.slice(i.length)}return n}else{return"-"}};e.pad2=function(t){return(t<10?"0":"")+t};e.Grid=function(i){a(n,i);function n(e){var i=this;if(typeof e.element==="string"){this.el=t(document.getElementById(e.element))}else{this.el=t(e.element)}if(!(this.el!=null)||this.el.length===0){throw new Error("Graph container element not found")}if(this.el.css("position")==="static"){this.el.css("position","relative")}this.options=t.extend({},this.gridDefaults,this.defaults||{},e);if(typeof this.options.units==="string"){this.options.postUnits=e.units}this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=false;if(this.init){this.init()}this.setData(this.options.data);this.el.bind("mousemove",function(t){var e;e=i.el.offset();return i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)});this.el.bind("mouseout",function(t){return i.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(t){var e,n;n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e=i.el.offset();i.fire("hover",n.pageX-e.left,n.pageY-e.top);return n});this.el.bind("click",function(t){var e;e=i.el.offset();return i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)});if(this.postInit){this.postInit()}}n.prototype.gridDefaults={dateFormat:null,axes:true,grid:true,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:false,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:true,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"]};n.prototype.setData=function(t,i){var n,s,r,a,o,l,h,u,c,f,d,p,g,m;if(i==null){i=true}this.options.data=t;if(!(t!=null)||t.length===0){this.data=[];this.raphael.clear();if(this.hover!=null){this.hover.hide()}return}p=this.cumulative?0:null;g=this.cumulative?0:null;if(this.options.goals.length>0){o=Math.min.apply(null,this.options.goals);a=Math.max.apply(null,this.options.goals);g=g!=null?Math.min(g,o):o;p=p!=null?Math.max(p,a):a}this.data=function(){var i,n,a;a=[];for(r=i=0,n=t.length;i<n;r=++i){h=t[r];l={};l.label=h[this.options.xkey];if(this.options.parseTime){l.x=e.parseDate(l.label);if(this.options.dateFormat){l.label=this.options.dateFormat(l.x)}else if(typeof l.label==="number"){l.label=new Date(l.label).toString()}}else{l.x=r;if(this.options.xLabelFormat){l.label=this.options.xLabelFormat(l)}}c=0;l.y=function(){var t,e,i,n;i=this.options.ykeys;n=[];for(s=t=0,e=i.length;t<e;s=++t){d=i[s];m=h[d];if(typeof m==="string"){m=parseFloat(m)}if(m!=null&&typeof m!=="number"){m=null}if(m!=null){if(this.cumulative){c+=m}else{if(p!=null){p=Math.max(m,p);g=Math.min(m,g)}else{p=g=m}}}if(this.cumulative&&c!=null){p=Math.max(c,p);g=Math.min(c,g)}n.push(m)}return n}.call(this);a.push(l)}return a}.call(this);if(this.options.parseTime){this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})}this.xmin=this.data[0].x;this.xmax=this.data[this.data.length-1].x;this.events=[];if(this.options.parseTime&&this.options.events.length>0){this.events=function(){var t,i,s,r;s=this.options.events;r=[];for(t=0,i=s.length;t<i;t++){n=s[t];r.push(e.parseDate(n))}return r}.call(this);this.xmax=Math.max(this.xmax,Math.max.apply(null,this.events));this.xmin=Math.min(this.xmin,Math.min.apply(null,this.events))}if(this.xmin===this.xmax){this.xmin-=1;this.xmax+=1}this.ymin=this.yboundary("min",g);this.ymax=this.yboundary("max",p);if(this.ymin===this.ymax){if(g){this.ymin-=1}this.ymax+=1}if(this.options.axes===true||this.options.grid===true){if(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin){this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines);this.ymin=Math.min(this.ymin,this.grid[0]);this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])}else{u=(this.ymax-this.ymin)/(this.options.numLines-1);this.grid=function(){var t,e,i,n;n=[];for(f=t=e=this.ymin,i=this.ymax;e<=i?t<=i:t>=i;f=t+=u){n.push(f)}return n}.call(this)}}this.dirty=true;if(i){return this.redraw()}};n.prototype.yboundary=function(t,e){var i,n;i=this.options["y"+t];if(typeof i==="string"){if(i.slice(0,4)==="auto"){if(i.length>5){n=parseInt(i.slice(5),10);if(e==null){return n}return Math[t](e,n)}else{if(e!=null){return e}else{return 0}}}else{return parseInt(i,10)}}else{return i}};n.prototype.autoGridLines=function(t,e,i){var n,s,r,a,o,l,h,u,c;o=e-t;c=Math.floor(Math.log(o)/Math.log(10));h=Math.pow(10,c);s=Math.floor(t/h)*h;n=Math.ceil(e/h)*h;l=(n-s)/(i-1);if(h===1&&l>1&&Math.ceil(l)!==l){l=Math.ceil(l);n=s+l*(i-1)}if(s<0&&n>0){s=Math.floor(t/l)*l;n=Math.ceil(e/l)*l}if(l<1){a=Math.floor(Math.log(l)/Math.log(10));r=function(){var t,e;e=[];for(u=t=s;s<=n?t<=n:t>=n;u=t+=l){e.push(parseFloat(u.toFixed(1-a)))}return e}()}else{r=function(){var t,e;e=[];for(u=t=s;s<=n?t<=n:t>=n;u=t+=l){e.push(u)}return e}()}return r};n.prototype._calc=function(){var t,e,i,n,s,r;s=this.el.width();i=this.el.height();if(this.elementWidth!==s||this.elementHeight!==i||this.dirty){this.elementWidth=s;this.elementHeight=i;this.dirty=false;this.left=this.options.padding;this.right=this.elementWidth-this.options.padding;this.top=this.options.padding;this.bottom=this.elementHeight-this.options.padding;if(this.options.axes){r=function(){var t,i,n,s;n=this.grid;s=[];for(t=0,i=n.length;t<i;t++){e=n[t];s.push(this.measureText(this.yAxisFormat(e)).width)}return s}.call(this);this.left+=Math.max.apply(Math,r);t=function(){var t,e,i;i=[];for(n=t=0,e=this.data.length;0<=e?t<e:t>e;n=0<=e?++t:--t){i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height)}return i}.call(this);this.bottom-=Math.max.apply(Math,t)}this.width=Math.max(1,this.right-this.left);this.height=Math.max(1,this.bottom-this.top);this.dx=this.width/(this.xmax-this.xmin);this.dy=this.height/(this.ymax-this.ymin);if(this.calc){return this.calc()}}};n.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy};n.prototype.transX=function(t){if(this.data.length===1){return(this.left+this.right)/2}else{return this.left+(t-this.xmin)*this.dx}};n.prototype.redraw=function(){this.raphael.clear();this._calc();this.drawGrid();this.drawGoals();this.drawEvents();if(this.draw){return this.draw()}};n.prototype.measureText=function(t,e){var i,n;if(e==null){e=0}n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e);i=n.getBBox();n.remove();return i};n.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)};n.prototype.yLabelFormat=function(t){if(typeof this.options.yLabelFormat==="function"){return this.options.yLabelFormat(t)}else{return""+this.options.preUnits+e.commas(t)+this.options.postUnits}};n.prototype.updateHover=function(t,e){var i,n;i=this.hitTest(t,e);if(i!=null){return(n=this.hover).update.apply(n,i)}};n.prototype.drawGrid=function(){var t,e,i,n,s,r;if(this.options.grid===false&&this.options.axes===false){return}s=this.grid;r=[];for(i=0,n=s.length;i<n;i++){t=s[i];e=this.transY(t);if(this.options.axes){this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t))}if(this.options.grid){r.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width)))}else{r.push(void 0)}}return r};n.prototype.drawGoals=function(){var t,e,i,n,s,r,a;r=this.options.goals;a=[];for(i=n=0,s=r.length;n<s;i=++n){e=r[i];t=this.options.goalLineColors[i%this.options.goalLineColors.length];a.push(this.drawGoal(e,t))}return a};n.prototype.drawEvents=function(){var t,e,i,n,s,r,a;r=this.events;a=[];for(i=n=0,s=r.length;n<s;i=++n){e=r[i];t=this.options.eventLineColors[i%this.options.eventLineColors.length];a.push(this.drawEvent(e,t))}return a};n.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)};n.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)};n.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")};n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)};return n}(e.EventEmitter);e.parseDate=function(t){var e,i,n,s,r,a,o,l,h,u,c;if(typeof t==="number"){return t}i=t.match(/^(\d+) Q(\d)$/);s=t.match(/^(\d+)-(\d+)$/);r=t.match(/^(\d+)-(\d+)-(\d+)$/);o=t.match(/^(\d+) W(\d+)$/);l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/);h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/);if(i){return new Date(parseInt(i[1],10),parseInt(i[2],10)*3-1,1).getTime()}else if(s){return new Date(parseInt(s[1],10),parseInt(s[2],10)-1,1).getTime()}else if(r){return new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10)).getTime()}else if(o){u=new Date(parseInt(o[1],10),0,1);if(u.getDay()!==4){u.setMonth(0,1+(4-u.getDay()+7)%7)}return u.getTime()+parseInt(o[2],10)*6048e5}else if(l){if(!l[6]){return new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime()}else{a=0;if(l[6]!=="Z"){a=parseInt(l[8],10)*60+parseInt(l[9],10);if(l[7]==="+"){a=0-a}}return Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+a)}}else if(h){c=parseFloat(h[6]);e=Math.floor(c);n=Math.round((c-e)*1e3);if(!h[8]){return new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()}else{a=0;if(h[8]!=="Z"){a=parseInt(h[10],10)*60+parseInt(h[11],10);if(h[9]==="+"){a=0-a}}return Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+a,e,n)}}else{return new Date(parseInt(t,10),0,1).getTime()}};e.Hover=function(){i.defaults={"class":"morris-hover morris-default-style"};function i(i){if(i==null){i={}}this.options=t.extend({},e.Hover.defaults,i);this.el=t("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}i.prototype.update=function(t,e,i){this.html(t);this.show();return this.moveTo(e,i)};i.prototype.html=function(t){return this.el.html(t)};i.prototype.moveTo=function(t,e){var i,n,s,r,a,o;a=this.options.parent.innerWidth();r=this.options.parent.innerHeight();n=this.el.outerWidth();i=this.el.outerHeight();s=Math.min(Math.max(0,t-n/2),a-n);if(e!=null){o=e-i-10;if(o<0){o=e+10;if(o+i>r){o=r/2-i/2}}}else{o=r/2-i/2}return this.el.css({left:s+"px",top:parseInt(o)+"px"})};i.prototype.show=function(){return this.el.show()};i.prototype.hide=function(){return this.el.hide()};return i}();e.Line=function(t){a(i,t);function i(t){this.hilight=o(this.hilight,this);this.onHoverOut=o(this.onHoverOut,this);this.onHoverMove=o(this.onHoverMove,this);this.onGridClick=o(this.onGridClick,this);if(!(this instanceof e.Line)){return new e.Line(t)}i.__super__.constructor.call(this,t)}i.prototype.init=function(){this.pointGrow=Raphael.animation({r:this.options.pointSize+3},25,"linear");this.pointShrink=Raphael.animation({r:this.options.pointSize},25,"linear");if(this.options.hideHover!=="always"){this.hover=new e.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};i.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:true,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:true,hideHover:false};i.prototype.calc=function(){this.calcPoints();return this.generatePaths()};i.prototype.calcPoints=function(){var t,e,i,n,s,r;s=this.data;r=[];for(i=0,n=s.length;i<n;i++){t=s[i];t._x=this.transX(t.x);t._y=function(){var i,n,s,r;s=t.y;r=[];for(i=0,n=s.length;i<n;i++){e=s[i];if(e!=null){r.push(this.transY(e))}else{r.push(e)}}return r}.call(this);r.push(t._ymax=Math.min.apply(null,[this.bottom].concat(function(){var i,n,s,r;s=t._y;r=[];for(i=0,n=s.length;i<n;i++){e=s[i];if(e!=null){r.push(e)}}return r}())))}return r};i.prototype.hitTest=function(t,e){var i,n,s,r,a;if(this.data.length===0){return null}a=this.data.slice(1);for(i=s=0,r=a.length;s<r;i=++s){n=a[i];if(t<(n._x+this.data[i]._x)/2){break}}return i};i.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t,e);return this.fire("click",i,this.options.data[i],t,e)};i.prototype.onHoverMove=function(t,e){var i;i=this.hitTest(t,e);return this.displayHoverForRow(i)};i.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.displayHoverForRow(null)}};i.prototype.displayHoverForRow=function(t){var e;if(t!=null){(e=this.hover).update.apply(e,this.hoverContentForRow(t));return this.hilight(t)}else{this.hover.hide();return this.hilight()}};i.prototype.hoverContentForRow=function(t){var e,i,n,s,r,a,o;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";o=n.y;for(i=r=0,a=o.length;r<a;i=++r){s=o[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e)}return[e,n._x,n._ymax]};i.prototype.generatePaths=function(){var t,i,n,s,r;return this.paths=function(){var a,o,h,u;u=[];for(n=a=0,o=this.options.ykeys.length;0<=o?a<o:a>o;n=0<=o?++a:--a){r=this.options.smooth===true||(h=this.options.ykeys[n],l.call(this.options.smooth,h)>=0);i=function(){var t,e,i,r;i=this.data;r=[];for(t=0,e=i.length;t<e;t++){s=i[t];if(s._y[n]!==void 0){r.push({x:s._x,y:s._y[n]})}}return r}.call(this);if(this.options.continuousLine){i=function(){var e,n,s;s=[];for(e=0,n=i.length;e<n;e++){t=i[e];if(t.y!==null){s.push(t)}}return s}()}if(i.length>1){u.push(e.Line.createPath(i,r,this.bottom))}else{u.push(null)}}return u}.call(this)};i.prototype.draw=function(){if(this.options.axes){this.drawXAxis()}this.drawSeries();if(this.options.hideHover===false){return this.displayHoverForRow(this.data.length-1)}};i.prototype.drawXAxis=function(){var t,i,n,s,r,a,o,l,h,u,c=this;o=this.bottom+this.options.padding/2;r=null;s=null;t=function(t,e){var i,n,a,l,h;i=c.drawXAxisLabel(c.transX(e),o,t);h=i.getBBox();i.transform("r"+-c.options.xLabelAngle);n=i.getBBox();i.transform("t0,"+n.height/2+"...");if(c.options.xLabelAngle!==0){l=-.5*h.width*Math.cos(c.options.xLabelAngle*Math.PI/180);i.transform("t"+l+",0...")}n=i.getBBox();if((!(r!=null)||r>=n.x+n.width||s!=null&&s>=n.x)&&n.x>=0&&n.x+n.width<c.el.width()){if(c.options.xLabelAngle!==0){a=1.25*c.options.gridTextSize/Math.sin(c.options.xLabelAngle*Math.PI/180);s=n.x-a}return r=n.x-c.options.xLabelMargin}else{return i.remove()}};if(this.options.parseTime){if(this.data.length===1&&this.options.xLabels==="auto"){n=[[this.data[0].label,this.data[0].x]]}else{n=e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat)}}else{n=function(){var t,e,i,n;i=this.data;n=[];for(t=0,e=i.length;t<e;t++){a=i[t];n.push([a.label,a.x])}return n}.call(this)}n.reverse();u=[];for(l=0,h=n.length;l<h;l++){i=n[l];u.push(t(i[0],i[1]))}return u};i.prototype.drawSeries=function(){var t,e,i,n,s,r;this.seriesPoints=[];for(t=e=n=this.options.ykeys.length-1;n<=0?e<=0:e>=0;t=n<=0?++e:--e){this._drawLineFor(t)}r=[];for(t=i=s=this.options.ykeys.length-1;s<=0?i<=0:i>=0;t=s<=0?++i:--i){r.push(this._drawPointFor(t))}return r};i.prototype._drawPointFor=function(t){var e,i,n,s,r,a;this.seriesPoints[t]=[];r=this.data;a=[];for(n=0,s=r.length;n<s;n++){i=r[n];e=null;if(i._y[t]!=null){e=this.drawLinePoint(i._x,i._y[t],this.options.pointSize,this.colorFor(i,t,"point"),t)}a.push(this.seriesPoints[t].push(e))}return a};i.prototype._drawLineFor=function(t){var e;e=this.paths[t];if(e!==null){return this.drawLinePath(e,this.colorFor(null,t,"line"))}};i.createPath=function(t,i,n){var s,r,a,o,l,h,u,c,f,d,p,g,m,v;u="";if(i){a=e.Line.gradients(t)}c={y:null};for(o=m=0,v=t.length;m<v;o=++m){s=t[o];if(s.y!=null){if(c.y!=null){if(i){r=a[o];h=a[o-1];l=(s.x-c.x)/4;f=c.x+l;p=Math.min(n,c.y+l*h);d=s.x-l;g=Math.min(n,s.y-l*r);u+="C"+f+","+p+","+d+","+g+","+s.x+","+s.y}else{u+="L"+s.x+","+s.y}}else{if(!i||a[o]!=null){u+="M"+s.x+","+s.y}}}c=s}return u};i.gradients=function(t){var e,i,n,s,r,a,o,l;i=function(t,e){return(t.y-e.y)/(t.x-e.x)};l=[];for(n=a=0,o=t.length;a<o;n=++a){e=t[n];if(e.y!=null){s=t[n+1]||{y:null};r=t[n-1]||{y:null};if(r.y!=null&&s.y!=null){l.push(i(r,s))}else if(r.y!=null){l.push(i(r,e))}else if(s.y!=null){l.push(i(e,s))}else{l.push(null)}}else{l.push(null)}}return l};i.prototype.hilight=function(t){var e,i,n,s,r;if(this.prevHilight!==null&&this.prevHilight!==t){for(e=i=0,s=this.seriesPoints.length-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i){if(this.seriesPoints[e][this.prevHilight]){this.seriesPoints[e][this.prevHilight].animate(this.pointShrink)}}}if(t!==null&&this.prevHilight!==t){for(e=n=0,r=this.seriesPoints.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n){if(this.seriesPoints[e][t]){this.seriesPoints[e][t].animate(this.pointGrow)}}}return this.prevHilight=t};i.prototype.colorFor=function(t,e,i){if(typeof this.options.lineColors==="function"){return this.options.lineColors.call(this,t,e,i)}else if(i==="point"){return this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]}else{return this.options.lineColors[e%this.options.lineColors.length]}};i.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};i.prototype.drawLinePath=function(t,e){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.options.lineWidth)};i.prototype.drawLinePoint=function(t,e,i,n,s){return this.raphael.circle(t,e,i).attr("fill",n).attr("stroke-width",this.strokeWidthForSeries(s)).attr("stroke",this.strokeForSeries(s))};i.prototype.strokeWidthForSeries=function(t){return this.options.pointWidths[t%this.options.pointWidths.length]};i.prototype.strokeForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]};return i}(e.Grid);e.labelSeries=function(i,n,s,r,a){var o,l,h,u,c,f,d,p,g,m,v;h=200*(n-i)/s;l=new Date(i);d=e.LABEL_SPECS[r];if(d===void 0){v=e.AUTO_LABEL_ORDER;for(g=0,m=v.length;g<m;g++){u=v[g];f=e.LABEL_SPECS[u];if(h>=f.span){d=f;break}}}if(d===void 0){d=e.LABEL_SPECS["second"]}if(a){d=t.extend({},d,{fmt:a})}o=d.start(l);c=[];while((p=o.getTime())<=n){if(p>=i){c.push([d.fmt(o),p])}d.incr(o)}return c};i=function(t){return{span:t*60*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}};n=function(t){return{span:t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}};e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1);
},incr:function(t){return t.setMonth(t.getMonth()+1)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)};e.AUTO_LABEL_ORDER=["decade","year","month","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];e.Area=function(i){var n;a(s,i);n={fillOpacity:"auto",behaveLikeLine:false};function s(i){var r;if(!(this instanceof e.Area)){return new e.Area(i)}r=t.extend({},n,i);this.cumulative=!r.behaveLikeLine;if(r.fillOpacity==="auto"){r.fillOpacity=r.behaveLikeLine?.8:1}s.__super__.constructor.call(this,r)}s.prototype.calcPoints=function(){var t,e,i,n,s,r,a;r=this.data;a=[];for(n=0,s=r.length;n<s;n++){t=r[n];t._x=this.transX(t.x);e=0;t._y=function(){var n,s,r,a;r=t.y;a=[];for(n=0,s=r.length;n<s;n++){i=r[n];if(this.options.behaveLikeLine){a.push(this.transY(i))}else{e+=i||0;a.push(this.transY(e))}}return a}.call(this);a.push(t._ymax=Math.max.apply(Math,t._y))}return a};s.prototype.drawSeries=function(){var t,e,i,n,s,r,a,o,l,h,u;this.seriesPoints=[];if(this.options.behaveLikeLine){e=function(){l=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--){l.push(t)}return l}.apply(this)}else{e=function(){h=[];for(var t=o=this.options.ykeys.length-1;o<=0?t<=0:t>=0;o<=0?t++:t--){h.push(t)}return h}.apply(this)}u=[];for(s=0,r=e.length;s<r;s++){t=e[s];this._drawFillFor(t);this._drawLineFor(t);u.push(this._drawPointFor(t))}return u};s.prototype._drawFillFor=function(t){var e;e=this.paths[t];if(e!==null){e=e+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z");return this.drawFilledPath(e,this.fillForSeries(t))}};s.prototype.fillForSeries=function(t){var e;e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line"));return Raphael.hsl(e.h,this.options.behaveLikeLine?e.s*.9:e.s*.75,Math.min(.98,this.options.behaveLikeLine?e.l*1.2:e.l*1.25))};s.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke-width",0)};return s}(e.Line);e.Bar=function(i){a(n,i);function n(i){this.onHoverOut=o(this.onHoverOut,this);this.onHoverMove=o(this.onHoverMove,this);this.onGridClick=o(this.onGridClick,this);if(!(this instanceof e.Bar)){return new e.Bar(i)}n.__super__.constructor.call(this,t.extend({},i,{parseTime:false}))}n.prototype.init=function(){this.cumulative=this.options.stacked;if(this.options.hideHover!=="always"){this.hover=new e.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],xLabelMargin:50};n.prototype.calc=function(){var t;this.calcBars();if(this.options.hideHover===false){return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))}};n.prototype.calcBars=function(){var t,e,i,n,s,r,a;r=this.data;a=[];for(t=n=0,s=r.length;n<s;t=++n){e=r[t];e._x=this.left+this.width*(t+.5)/this.data.length;a.push(e._y=function(){var t,n,s,r;s=e.y;r=[];for(t=0,n=s.length;t<n;t++){i=s[t];if(i!=null){r.push(this.transY(i))}else{r.push(null)}}return r}.call(this))}return a};n.prototype.draw=function(){if(this.options.axes){this.drawXAxis()}return this.drawSeries()};n.prototype.drawXAxis=function(){var t,e,i,n,s,r,a,o,l,h,u,c,f;h=this.bottom+this.options.padding/2;a=null;r=null;f=[];for(t=u=0,c=this.data.length;0<=c?u<c:u>c;t=0<=c?++u:--u){o=this.data[this.data.length-1-t];e=this.drawXAxisLabel(o._x,h,o.label);l=e.getBBox();e.transform("r"+-this.options.xLabelAngle);i=e.getBBox();e.transform("t0,"+i.height/2+"...");if(this.options.xLabelAngle!==0){s=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180);e.transform("t"+s+",0...")}if((!(a!=null)||a>=i.x+i.width||r!=null&&r>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()){if(this.options.xLabelAngle!==0){n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180);r=i.x-n}f.push(a=i.x-this.options.xLabelMargin)}else{f.push(e.remove())}}return f};n.prototype.drawSeries=function(){var t,e,i,n,s,r,a,o,l,h,u,c,f,d;i=this.width/this.options.data.length;o=this.options.stacked!=null?1:this.options.ykeys.length;t=(i*this.options.barSizeRatio-this.options.barGap*(o-1))/o;a=i*(1-this.options.barSizeRatio)/2;d=this.ymin<=0&&this.ymax>=0?this.transY(0):null;return this.bars=function(){var o,p,g,m;g=this.data;m=[];for(n=o=0,p=g.length;o<p;n=++o){l=g[n];s=0;m.push(function(){var o,p,g,m;g=l._y;m=[];for(h=o=0,p=g.length;o<p;h=++o){f=g[h];if(f!==null){if(d){c=Math.min(f,d);e=Math.max(f,d)}else{c=f;e=this.bottom}r=this.left+n*i+a;if(!this.options.stacked){r+=h*(t+this.options.barGap)}u=e-c;if(this.options.stacked){c-=s}this.drawBar(r,c,t,u,this.colorFor(l,h,"bar"));m.push(s+=u)}else{m.push(null)}}return m}.call(this))}return m}.call(this)};n.prototype.colorFor=function(t,e,i){var n,s;if(typeof this.options.barColors==="function"){n={x:t.x,y:t.y[e],label:t.label};s={index:e,key:this.options.ykeys[e],label:this.options.labels[e]};return this.options.barColors.call(this,n,s,i)}else{return this.options.barColors[e%this.options.barColors.length]}};n.prototype.hitTest=function(t,e){if(this.data.length===0){return null}t=Math.max(Math.min(t,this.right),this.left);return Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length)))};n.prototype.onGridClick=function(t,e){var i;i=this.hitTest(t,e);return this.fire("click",i,this.options.data[i],t,e)};n.prototype.onHoverMove=function(t,e){var i,n;i=this.hitTest(t,e);return(n=this.hover).update.apply(n,this.hoverContentForRow(i))};n.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.hover.hide()}};n.prototype.hoverContentForRow=function(t){var e,i,n,s,r,a,o,l;n=this.data[t];e="<div class='morris-hover-row-label'>"+n.label+"</div>";l=n.y;for(i=a=0,o=l.length;a<o;i=++a){r=l[i];e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>"}if(typeof this.options.hoverCallback==="function"){e=this.options.hoverCallback(t,this.options,e)}s=this.left+(t+.5)*this.width/this.data.length;return[e,s]};n.prototype.drawXAxisLabel=function(t,e,i){var n;return n=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};n.prototype.drawBar=function(t,e,i,n,s){return this.raphael.rect(t,e,i,n).attr("fill",s).attr("stroke-width",0)};return n}(e.Grid);e.Donut=function(i){a(n,i);n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas};function n(i){this.select=o(this.select,this);this.click=o(this.click,this);var n;if(!(this instanceof e.Donut)){return new e.Donut(i)}if(typeof i.element==="string"){this.el=t(document.getElementById(i.element))}else{this.el=t(i.element)}this.options=t.extend({},this.defaults,i);if(this.el===null||this.el.length===0){throw new Error("Graph placeholder not found.")}if(i.data===void 0||i.data.length===0){return}this.data=i.data;this.values=function(){var t,e,i,s;i=this.data;s=[];for(t=0,e=i.length;t<e;t++){n=i[t];s.push(parseFloat(n.value))}return s}.call(this);this.redraw()}n.prototype.redraw=function(){var t,i,n,s,r,a,o,l,h,u,c,f,d,p,g,m,v,y,b,x,w,_,k;this.el.empty();this.raphael=new Raphael(this.el[0]);i=this.el.width()/2;n=this.el.height()/2;d=(Math.min(i,n)-10)/3;c=0;x=this.values;for(p=0,v=x.length;p<v;p++){f=x[p];c+=f}l=5/(2*d);t=1.9999*Math.PI-l*this.data.length;a=0;r=0;this.segments=[];w=this.values;for(s=g=0,y=w.length;g<y;s=++g){f=w[s];h=a+l+t*(f/c);u=new e.DonutSegment(i,n,d*2,d,a,h,this.options.colors[r%this.options.colors.length],this.options.backgroundColor,r,this.raphael);u.render();this.segments.push(u);u.on("hover",this.select);u.on("click",this.click);a=h;r+=1}this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14);o=Math.max.apply(null,function(){var t,e,i,n;i=this.values;n=[];for(t=0,e=i.length;t<e;t++){f=i[t];n.push(f)}return n}.call(this));r=0;_=this.values;k=[];for(m=0,b=_.length;m<b;m++){f=_[m];if(f===o){this.select(r);break}k.push(r+=1)}return k};n.prototype.click=function(t){return this.fire("click",t,this.data[t])};n.prototype.select=function(t){var e,i,n,s,r,a;a=this.segments;for(s=0,r=a.length;s<r;s++){i=a[s];i.deselect()}n=this.segments[t];n.select();e=this.data[t];return this.setLabels(e.label,this.options.formatter(e.value,e))};n.prototype.setLabels=function(t,e){var i,n,s,r,a,o,l,h;i=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3;r=1.8*i;s=i/2;n=i/3;this.text1.attr({text:t,transform:""});a=this.text1.getBBox();o=Math.min(r/a.width,s/a.height);this.text1.attr({transform:"S"+o+","+o+","+(a.x+a.width/2)+","+(a.y+a.height)});this.text2.attr({text:e,transform:""});l=this.text2.getBBox();h=Math.min(r/l.width,n/l.height);return this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})};n.prototype.drawEmptyDonutLabel=function(t,e,i,n,s){var r;r=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i);if(s!=null){r.attr("font-weight",s)}return r};return n}(e.EventEmitter);e.DonutSegment=function(t){a(e,t);function e(t,e,i,n,s,r,a,l,h,u){this.cx=t;this.cy=e;this.inner=i;this.outer=n;this.color=a;this.backgroundColor=l;this.index=h;this.raphael=u;this.deselect=o(this.deselect,this);this.select=o(this.select,this);this.sin_p0=Math.sin(s);this.cos_p0=Math.cos(s);this.sin_p1=Math.sin(r);this.cos_p1=Math.cos(r);this.is_long=r-s>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]};e.prototype.calcSegment=function(t,e){var i,n,s,r,a,o,l,h,u,c;u=this.calcArcPoints(t),i=u[0],s=u[1],n=u[2],r=u[3];c=this.calcArcPoints(e),a=c[0],l=c[1],o=c[2],h=c[3];return"M"+i+","+s+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+r)+("L"+o+","+h)+("A"+e+","+e+",0,"+this.is_long+",1,"+a+","+l)+"Z"};e.prototype.calcArc=function(t){var e,i,n,s,r;r=this.calcArcPoints(t),e=r[0],n=r[1],i=r[2],s=r[3];return"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+s)};e.prototype.render=function(){var t=this;this.arc=this.drawDonutArc(this.hilight,this.color);return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})};e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})};e.prototype.drawDonutSegment=function(t,e,i,n,s){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(s)};e.prototype.select=function(){if(!this.selected){this.seg.animate({path:this.selectedPath},150,"<>");this.arc.animate({opacity:1},150,"<>");return this.selected=true}};e.prototype.deselect=function(){if(this.selected){this.seg.animate({path:this.path},150,"<>");this.arc.animate({opacity:0},150,"<>");return this.selected=false}};return e}(e.EventEmitter)}).call(this);(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(jQuery)}})(function(t){var e=l();var i=86400;var n={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:false,timeFormat:"g:ia",scrollDefaultNow:false,scrollDefaultTime:false,selectOnBlur:false,disableTouchKeyboard:false,forceRoundTime:false,appendTo:"body",disableTimeRanges:[],closeOnWindowScroll:false,disableTextInput:false,typeaheadHighlight:true};var s={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"};var r={init:function(e){return this.each(function(){var i=t(this);if(i[0].tagName=="SELECT"){var o={type:"text",value:i.val()};var l=i[0].attributes;for(var h=0;h<l.length;h++){o[l[h].nodeName]=l[h].nodeValue}var u=t("<input />",o);i.replaceWith(u);i=u}var c=t.extend({},n);if(e){c=t.extend(c,e)}if(c.lang){s=t.extend(s,c.lang)}c=a(c);i.data("timepicker-settings",c);i.prop("autocomplete","off");i.on("click.timepicker focus.timepicker",r.show);i.on("change.timepicker",d);i.on("keydown.timepicker",m);i.on("keyup.timepicker",y);i.addClass("ui-timepicker-input");d.call(i.get(0))})},show:function(e){e.preventDefault();var i=t(this);var n=i.data("timepicker-settings");if(u(i)){i.blur()}var s=i.data("timepicker-list");if(i.prop("readonly")){return}if(!s||s.length===0||typeof n.durationTime==="function"){o(i);s=i.data("timepicker-list")}if(s.is(":visible")){return}r.hide();s.show();if(i.offset().top+i.outerHeight(true)+s.outerHeight()>t(window).height()+t(window).scrollTop()){s.offset({left:i.offset().left+parseInt(s.css("marginLeft").replace("px",""),10),top:i.offset().top-s.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)})}else{s.offset({left:i.offset().left+parseInt(s.css("marginLeft").replace("px",""),10),top:i.offset().top+i.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)})}var a=s.find(".ui-timepicker-selected");if(!a.length){if(p(i)){a=c(i,s,_(p(i)))}else if(n.scrollDefaultNow){a=c(i,s,_(new Date))}else if(n.scrollDefaultTime!==false){a=c(i,s,_(n.scrollDefaultTime))}}if(a&&a.length){var l=s.scrollTop()+a.position().top-a.outerHeight();s.scrollTop(l)}else{s.scrollTop(0)}t("body").on("touchstart.ui-timepicker mousedown.ui-timepicker",h);if(n.closeOnWindowScroll){t(window).on("scroll.ui-timepicker",h)}i.trigger("showTimepicker")},hide:function(e){t(".ui-timepicker-wrapper:visible").each(function(){var e=t(this);var i=e.data("timepicker-input");var n=i.data("timepicker-settings");if(n&&n.selectOnBlur){b(i)}e.hide();i.trigger("hideTimepicker")})},option:function(e,i){var n=this;var s=n.data("timepicker-settings");var r=n.data("timepicker-list");if(typeof e=="object"){s=t.extend(s,e)}else if(typeof e=="string"&&typeof i!="undefined"){s[e]=i}else if(typeof e=="string"){return s[e]}s=a(s);n.data("timepicker-settings",s);if(r){r.remove();n.data("timepicker-list",false)}return n},getSecondsFromMidnight:function(){return _(p(this))},getTime:function(t){var e=this;if(!t){t=new Date}t.setHours(0,0,0,0);return new Date(t.valueOf()+_(p(e))*1e3)},setTime:function(t){var e=this;var i=w(_(t),e.data("timepicker-settings").timeFormat);g(e,i);if(e.data("timepicker-list")){f(e,e.data("timepicker-list"))}},remove:function(){var t=this;if(!t.hasClass("ui-timepicker-input")){return}t.removeAttr("autocomplete","off");t.removeClass("ui-timepicker-input");t.removeData("timepicker-settings");t.off(".timepicker");if(t.data("timepicker-list")){t.data("timepicker-list").remove()}t.removeData("timepicker-list")}};function a(t){if(t.minTime){t.minTime=_(t.minTime)}if(t.maxTime){t.maxTime=_(t.maxTime)}if(t.durationTime&&typeof t.durationTime!=="function"){t.durationTime=_(t.durationTime)}if(t.disableTimeRanges.length>0){for(var e in t.disableTimeRanges){t.disableTimeRanges[e]=[_(t.disableTimeRanges[e][0]),_(t.disableTimeRanges[e][1])]}t.disableTimeRanges=t.disableTimeRanges.sort(function(t,e){return t[0]-e[0]});for(var e=t.disableTimeRanges.length-1;e>0;e--){if(t.disableTimeRanges[e][0]<=t.disableTimeRanges[e-1][1]){t.disableTimeRanges[e-1]=[Math.min(t.disableTimeRanges[e][0],t.disableTimeRanges[e-1][0]),Math.max(t.disableTimeRanges[e][1],t.disableTimeRanges[e-1][1])];t.disableTimeRanges.splice(e,1)}}}return t}function o(e){var n=e.data("timepicker-settings");var s=e.data("timepicker-list");if(s&&s.length){s.remove();e.data("timepicker-list",false)}s=t("<ul />",{"class":"ui-timepicker-list"});var a=t("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});a.css({display:"none",position:"absolute"}).append(s);if(n.className){a.addClass(n.className)}if((n.minTime!==null||n.durationTime!==null)&&n.showDuration){a.addClass("ui-timepicker-with-duration")}var o=n.minTime;if(typeof n.durationTime==="function"){o=_(n.durationTime())}else if(n.durationTime!==null){o=n.durationTime}var l=n.minTime!==null?n.minTime:0;var h=n.maxTime!==null?n.maxTime:l+i-1;if(h<=l){h+=i}if(h===i-1&&n.timeFormat.indexOf("H")!==-1){h=i}var c=n.disableTimeRanges;var d=0;var p=c.length;for(var g=l;g<=h;g+=n.step*60){var m=g;var v=t("<li />");v.data("time",m<=86400?m:m%86400);v.text(w(m,n.timeFormat));if((n.minTime!==null||n.durationTime!==null)&&n.showDuration){var y=t("<span />");y.addClass("ui-timepicker-duration");y.text(" ("+x(g-o)+")");v.append(y)}if(d<p){if(m>=c[d][1]){d+=1}if(c[d]&&m>=c[d][0]&&m<c[d][1]){v.addClass("ui-timepicker-disabled")}}s.append(v)}a.data("timepicker-input",e);e.data("timepicker-list",a);var k=n.appendTo;if(typeof k==="string"){k=t(k)}else if(typeof k==="function"){k=k(e)}k.append(a);f(e,s);s.on("click","li",function(i){e.off("focus.timepicker");e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack");e.on("focus.timepicker",r.show)});if(!u(e)){e[0].focus()}s.find("li").removeClass("ui-timepicker-selected");t(this).addClass("ui-timepicker-selected");if(b(e)){e.trigger("hideTimepicker");a.hide()}})}function l(){return new Date(1970,1,1,0,0,0)}function h(e){var i=t(e.target);var n=i.closest(".ui-timepicker-input");if(n.length===0&&i.closest(".ui-timepicker-wrapper").length===0){r.hide();t("body").unbind(".ui-timepicker");t(window).unbind(".ui-timepicker")}}function u(t){var e=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function c(e,i,n){if(!n&&n!==0){return false}var s=e.data("timepicker-settings");var r=false;var a=s.step*30;i.find("li").each(function(e,i){var s=t(i);var o=s.data("time")-n;if(Math.abs(o)<a||o==a){r=s;return false}});return r}function f(t,e){e.find("li").removeClass("ui-timepicker-selected");var i=_(p(t));if(i===null){return}var n=c(t,e,i);if(n){var s=n.offset().top-e.offset().top;if(s+n.outerHeight()>e.outerHeight()||s<0){e.scrollTop(e.scrollTop()+n.position().top-n.outerHeight())}n.addClass("ui-timepicker-selected")}}function d(){if(this.value===""){return}var e=t(this);var i=e.data("timepicker-list");if(i&&i.is(":visible")){return}var n=_(this.value);if(n===null){e.trigger("timeFormatError");return}var s=e.data("timepicker-settings");var r=false;if(s.minTime!==null&&n<s.minTime){r=true}else if(s.maxTime!==null&&n>s.maxTime){r=true}t.each(s.disableTimeRanges,function(){if(n>=this[0]&&n<this[1]){r=true;return false}});if(s.forceRoundTime){var a=n%(s.step*60);if(a>=s.step*30){n+=s.step*60-a}else{n-=a}}var o=w(n,s.timeFormat);if(r){if(g(e,o,"error")){e.trigger("timeRangeError")}}else{g(e,o)}}function p(t){if(t.is("input")){return t.val()}else{return t.data("ui-timepicker-value")}}function g(t,e,i){if(t.is("input")){t.val(e)}if(t.data("ui-timepicker-value")!=e){t.data("ui-timepicker-value",e);if(i=="select"){t.trigger("selectTime").trigger("changeTime").trigger("change")}else if(i!="error"){t.trigger("changeTime")}return true}else{t.trigger("selectTime");return false}}function m(e){var i=t(this);var n=i.data("timepicker-list");if(!n||!n.is(":visible")){if(e.keyCode==40){if(!u(i)){i.focus()}}else{return v(e,i)}}switch(e.keyCode){case 13:if(b(i)){r.hide.apply(this)}e.preventDefault();return false;case 38:var s=n.find(".ui-timepicker-selected");if(!s.length){n.find("li").each(function(e,i){if(t(i).position().top>0){s=t(i);return false}});s.addClass("ui-timepicker-selected")}else if(!s.is(":first-child")){s.removeClass("ui-timepicker-selected");s.prev().addClass("ui-timepicker-selected");if(s.prev().position().top<s.outerHeight()){n.scrollTop(n.scrollTop()-s.outerHeight())}}return false;case 40:s=n.find(".ui-timepicker-selected");if(s.length===0){n.find("li").each(function(e,i){if(t(i).position().top>0){s=t(i);return false}});s.addClass("ui-timepicker-selected")}else if(!s.is(":last-child")){s.removeClass("ui-timepicker-selected");s.next().addClass("ui-timepicker-selected");if(s.next().position().top+2*s.outerHeight()>n.outerHeight()){n.scrollTop(n.scrollTop()+s.outerHeight())}}return false;case 27:n.find("li").removeClass("ui-timepicker-selected");r.hide();break;case 9:r.hide();break;default:return v(e,i)}}function v(t,e){return!e.data("timepicker-settings").disableTextInput||t.ctrlKey||t.altKey||t.metaKey||t.keyCode!=2&&t.keyCode!=8&&t.keyCode<46}function y(e){var i=t(this);var n=i.data("timepicker-list");if(!n||!n.is(":visible")){return true}if(!i.data("timepicker-settings").typeaheadHighlight){n.find("li").removeClass("ui-timepicker-selected");return true}switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:f(i,n);break;default:return}}function b(t){var e=t.data("timepicker-settings");var i=t.data("timepicker-list");var n=null;var s=i.find(".ui-timepicker-selected");if(s.hasClass("ui-timepicker-disabled")){return false}if(s.length){n=s.data("time")}else if(p(t)){n=_(p(t));f(t,i)}if(n!==null){var r=w(n,e.timeFormat);g(t,r,"select")}return true}function x(t){var e=Math.round(t/60);var i;if(Math.abs(e)<60){i=[e,s.mins]}else if(e==60){i=["1",s.hr]}else{var n=(e/60).toFixed(1);if(s.decimal!=".")n=n.replace(".",s.decimal);i=[n,s.hrs]}return i.join(" ")}function w(t,n){if(t===null){return}var s=new Date(e.valueOf()+t*1e3);var r="";var a,o;for(var l=0;l<n.length;l++){o=n.charAt(l);switch(o){case"a":r+=s.getHours()>11?"pm":"am";break;case"A":r+=s.getHours()>11?"PM":"AM";break;case"g":a=s.getHours()%12;r+=a===0?"12":a;break;case"G":r+=s.getHours();break;case"h":a=s.getHours()%12;if(a!==0&&a<10){a="0"+a}r+=a===0?"12":a;break;case"H":a=s.getHours();if(t===i)a=24;r+=a>9?a:"0"+a;break;case"i":var h=s.getMinutes();r+=h>9?h:"0"+h;break;case"s":t=s.getSeconds();r+=t>9?t:"0"+t;break;default:r+=o}}return r}function _(t){if(t==="")return null;if(!t||t+0==t)return t;if(typeof t=="object"){t=t.getHours()+":"+k(t.getMinutes())+":"+k(t.getSeconds())}t=t.toLowerCase();var e=new Date(0);var i;if(t.indexOf(":")===-1){i=t.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/);if(!i){i=t.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/)}}else{i=t.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/)}if(!i){return null}var n=parseInt(i[1]*1,10);var s;if(i[4]){if(n==12){s=i[4]=="p"?12:0}else{s=n+(i[4]=="p"?12:0)}}else{s=n}var r=i[2]*1||0;var a=i[3]*1||0;return s*3600+r*60+a}function k(t){return("0"+t).slice(-2)}t.fn.timepicker=function(e){if(r[e]){return r[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return r.init.apply(this,arguments)}else{t.error("Method "+e+" does not exist on jQuery.timepicker")}}});(function(t,e){var i=0,n=/^ui-id-\d+$/;t.ui=t.ui||{};t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});t.fn.extend({focus:function(e){return function(i,n){return typeof i==="number"?this.each(function(){var e=this;setTimeout(function(){t(e).focus();if(n){n.call(e)}},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;if(t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){e=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0)}else{e=this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e){return this.css("zIndex",i)}if(this.length){var n=t(this[0]),s,r;while(n.length&&n[0]!==document){s=n.css("position");if(s==="absolute"||s==="relative"||s==="fixed"){r=parseInt(n.css("zIndex"),10);if(!isNaN(r)&&r!==0){return r}}n=n.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++i}})},removeUniqueId:function(){return this.each(function(){if(n.test(this.id)){t(this).removeAttr("id")}})}});function s(e,i){var n,s,a,o=e.nodeName.toLowerCase();if("area"===o){n=e.parentNode;s=n.name;if(!e.href||!s||n.nodeName.toLowerCase()!=="map"){return false}a=t("img[usemap=#"+s+"]")[0];return!!a&&r(a)}return(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||i:i)&&r(e)}function r(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return t.css(this,"visibility")==="hidden"}).length}t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return s(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),n=isNaN(i);return(n||i>=0)&&s(e,!n)}});if(!t("<a>").outerWidth(1).jquery){t.each(["Width","Height"],function(i,n){var s=n==="Width"?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function o(e,i,n,r){t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0;if(n){i-=parseFloat(t.css(e,"border"+this+"Width"))||0}if(r){i-=parseFloat(t.css(e,"margin"+this))||0}});return i}t.fn["inner"+n]=function(i){if(i===e){return a["inner"+n].call(this)}return this.each(function(){t(this).css(r,o(this,i)+"px")})};t.fn["outer"+n]=function(e,i){if(typeof e!=="number"){return a["outer"+n].call(this,e)}return this.each(function(){t(this).css(r,o(this,e,true,i)+"px")})}})}if(!t.fn.addBack){t.fn.addBack=function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}}if(t("<a>").data("a-b","a").removeData("a-b").data("a-b")){t.fn.removeData=function(e){return function(i){if(arguments.length){return e.call(this,t.camelCase(i))}else{return e.call(this)}}}(t.fn.removeData)}t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());t.support.selectstart="onselectstart"in document.createElement("div");t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});t.extend(t.ui,{plugin:{add:function(e,i,n){var s,r=t.ui[e].prototype;for(s in n){r.plugins[s]=r.plugins[s]||[];r.plugins[s].push([i,n[s]])}},call:function(t,e,i){var n,s=t.plugins[e];if(!s||!t.element[0].parentNode||t.element[0].parentNode.nodeType===11){return}for(n=0;n<s.length;n++){if(t.options[s[n][0]]){s[n][1].apply(t.element,i)}}}},hasScroll:function(e,i){if(t(e).css("overflow")==="hidden"){return false}var n=i&&i==="left"?"scrollLeft":"scrollTop",s=false;if(e[n]>0){return true}e[n]=1;s=e[n]>0;e[n]=0;return s}})})(jQuery);(function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i=0,n;(n=e[i])!=null;i++){try{t(n).triggerHandler("remove")}catch(r){}}s(e)};t.widget=function(e,i,n){var s,r,a,o,l={},h=e.split(".")[0];e=e.split(".")[1];s=h+"-"+e;if(!n){n=i;i=t.Widget}t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)};t[h]=t[h]||{};r=t[h][e];a=t[h][e]=function(t,e){if(!this._createWidget){return new a(t,e)}if(arguments.length){this._createWidget(t,e)}};t.extend(a,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]});o=new i;o.options=t.widget.extend({},o.options);t.each(n,function(e,n){if(!t.isFunction(n)){l[e]=n;return}l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e=this._super,i=this._superApply,r;this._super=t;this._superApply=s;r=n.apply(this,arguments);this._super=e;this._superApply=i;return r}}()});a.prototype=t.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:s});if(r){t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)});delete r._childConstructors}else{i._childConstructors.push(a)}t.widget.bridge(e,a)};t.widget.extend=function(i){var s=n.call(arguments,1),r=0,a=s.length,o,l;for(;r<a;r++){for(o in s[r]){l=s[r][o];if(s[r].hasOwnProperty(o)&&l!==e){if(t.isPlainObject(l)){i[o]=t.isPlainObject(i[o])?t.widget.extend({},i[o],l):t.widget.extend({},l)}else{i[o]=l}}}}return i};t.widget.bridge=function(i,s){var r=s.prototype.widgetFullName||i;t.fn[i]=function(a){var o=typeof a==="string",l=n.call(arguments,1),h=this;a=!o&&l.length?t.widget.extend.apply(null,[a].concat(l)):a;if(o){this.each(function(){var n,s=t.data(this,r);if(!s){return t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}if(!t.isFunction(s[a])||a.charAt(0)==="_"){return t.error("no such method '"+a+"' for "+i+" widget instance")}n=s[a].apply(s,l);if(n!==s&&n!==e){h=n&&n.jquery?h.pushStack(n.get()):n;return false}})}else{this.each(function(){var e=t.data(this,r);if(e){e.option(a||{})._init()}else{t.data(this,r,new s(a,this))}})}return h}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this.bindings=t();this.hoverable=t();this.focusable=t();if(n!==this){t.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s=i,r,a,o;if(arguments.length===0){return t.widget.extend({},this.options)}if(typeof i==="string"){s={};r=i.split(".");i=r.shift();if(r.length){a=s[i]=t.widget.extend({},this.options[i]);for(o=0;o<r.length-1;o++){a[r[o]]=a[r[o]]||{};a=a[r[o]]}i=r.pop();if(n===e){return a[i]===e?null:a[i]}a[i]=n}else{if(n===e){return this.options[i]===e?null:this.options[i]}s[i]=n}}this._setOptions(s);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){this.options[t]=e;if(t==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(e,i,n){
var s,r=this;if(typeof e!=="boolean"){n=i;i=e;e=false}if(!n){n=i;i=this.element;s=this.widget()}else{i=s=t(i);this.bindings=this.bindings.add(i)}t.each(n,function(n,a){function o(){if(!e&&(r.options.disabled===true||t(this).hasClass("ui-state-disabled"))){return}return(typeof a==="string"?r[a]:a).apply(r,arguments)}if(typeof a!=="string"){o.guid=a.guid=a.guid||o.guid||t.guid++}var l=n.match(/^(\w+)\s*(.*)$/),h=l[1]+r.eventNamespace,u=l[2];if(u){s.delegate(u,h,o)}else{i.bind(h,o)}})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,r,a=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];r=i.originalEvent;if(r){for(s in r){if(!(s in i)){i[s]=r[s]}}}this.element.trigger(i,n);return!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){if(typeof s==="string"){s={effect:s}}var a,o=!s?e:s===true||typeof s==="number"?i:s.effect||i;s=s||{};if(typeof s==="number"){s={duration:s}}a=!t.isEmptyObject(s);s.complete=r;if(s.delay){n.delay(s.delay)}if(a&&t.effects&&t.effects.effect[o]){n[e](s)}else if(o!==e&&n[o]){n[o](s.duration,s.easing,r)}else{n.queue(function(i){t(this)[e]();if(r){r.call(n[0])}i()})}}})})(jQuery);(function(t,e){var i=false;t(document).mouseup(function(){i=false});t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(true===t.data(i.target,e.widgetName+".preventClickEvent")){t.removeData(i.target,e.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(e){if(i){return}this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var n=this,s=e.which===1,r=typeof this.options.cancel==="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:false;if(!s||r||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}if(true===t.data(e.target,this.widgetName+".preventClickEvent")){t.removeData(e.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(t){return n._mouseMove(t)};this._mouseUpDelegate=function(t){return n._mouseUp(t)};t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();i=true;return true},_mouseMove:function(e){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target){t.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}return false},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(t,e){t.ui=t.ui||{};var i,n=Math.max,s=Math.abs,r=Math.round,a=/left|center|right/,o=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,u=/%$/,c=t.fn.position;function f(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function d(e,i){return parseInt(t.css(e,i),10)||0}function p(e){var i=e[0];if(i.nodeType===9){return{width:e.width(),height:e.height(),offset:{top:0,left:0}}}if(t.isWindow(i)){return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}}if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}}return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(i!==e){return i}var n,s,r=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];t("body").append(r);n=a.offsetWidth;r.css("overflow","scroll");s=a.offsetWidth;if(n===s){s=r[0].clientWidth}r.remove();return i=n-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s=i==="scroll"||i==="auto"&&e.width<e.element[0].scrollWidth,r=n==="scroll"||n==="auto"&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}};t.fn.position=function(e){if(!e||!e.of){return c.apply(this,arguments)}e=t.extend({},e);var i,u,g,m,v,y,b=t(e.of),x=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(x),_=(e.collision||"flip").split(" "),k={};y=p(b);if(b[0].preventDefault){e.at="left top"}u=y.width;g=y.height;m=y.offset;v=t.extend({},m);t.each(["my","at"],function(){var t=(e[this]||"").split(" "),i,n;if(t.length===1){t=a.test(t[0])?t.concat(["center"]):o.test(t[0])?["center"].concat(t):["center","center"]}t[0]=a.test(t[0])?t[0]:"center";t[1]=o.test(t[1])?t[1]:"center";i=l.exec(t[0]);n=l.exec(t[1]);k[this]=[i?i[0]:0,n?n[0]:0];e[this]=[h.exec(t[0])[0],h.exec(t[1])[0]]});if(_.length===1){_[1]=_[0]}if(e.at[0]==="right"){v.left+=u}else if(e.at[0]==="center"){v.left+=u/2}if(e.at[1]==="bottom"){v.top+=g}else if(e.at[1]==="center"){v.top+=g/2}i=f(k.at,u,g);v.left+=i[0];v.top+=i[1];return this.each(function(){var a,o,l=t(this),h=l.outerWidth(),c=l.outerHeight(),p=d(this,"marginLeft"),y=d(this,"marginTop"),C=h+p+d(this,"marginRight")+w.width,T=c+y+d(this,"marginBottom")+w.height,D=t.extend({},v),S=f(k.my,l.outerWidth(),l.outerHeight());if(e.my[0]==="right"){D.left-=h}else if(e.my[0]==="center"){D.left-=h/2}if(e.my[1]==="bottom"){D.top-=c}else if(e.my[1]==="center"){D.top-=c/2}D.left+=S[0];D.top+=S[1];if(!t.support.offsetFractions){D.left=r(D.left);D.top=r(D.top)}a={marginLeft:p,marginTop:y};t.each(["left","top"],function(n,s){if(t.ui.position[_[n]]){t.ui.position[_[n]][s](D,{targetWidth:u,targetHeight:g,elemWidth:h,elemHeight:c,collisionPosition:a,collisionWidth:C,collisionHeight:T,offset:[i[0]+S[0],i[1]+S[1]],my:e.my,at:e.at,within:x,elem:l})}});if(e.using){o=function(t){var i=m.left-D.left,r=i+u-h,a=m.top-D.top,o=a+g-c,f={target:{element:b,left:m.left,top:m.top,width:u,height:g},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:r<0?"left":i>0?"right":"center",vertical:o<0?"top":a>0?"bottom":"middle"};if(u<h&&s(i+r)<u){f.horizontal="center"}if(g<c&&s(a+o)<g){f.vertical="middle"}if(n(s(i),s(r))>n(s(a),s(o))){f.important="horizontal"}else{f.important="vertical"}e.using.call(this,t,f)}}l.offset(t.extend(D,{using:o}))})};t.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,a=t.left-e.collisionPosition.marginLeft,o=s-a,l=a+e.collisionWidth-r-s,h;if(e.collisionWidth>r){if(o>0&&l<=0){h=t.left+o+e.collisionWidth-r-s;t.left+=o-h}else if(l>0&&o<=0){t.left=s}else{if(o>l){t.left=s+r-e.collisionWidth}else{t.left=s}}}else if(o>0){t.left+=o}else if(l>0){t.left-=l}else{t.left=n(t.left-a,t.left)}},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,o=s-a,l=a+e.collisionHeight-r-s,h;if(e.collisionHeight>r){if(o>0&&l<=0){h=t.top+o+e.collisionHeight-r-s;t.top+=o-h}else if(l>0&&o<=0){t.top=s}else{if(o>l){t.top=s+r-e.collisionHeight}else{t.top=s}}}else if(o>0){t.top+=o}else if(l>0){t.top-=l}else{t.top=n(t.top-a,t.top)}}},flip:{left:function(t,e){var i=e.within,n=i.offset.left+i.scrollLeft,r=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,o=t.left-e.collisionPosition.marginLeft,l=o-a,h=o+e.collisionWidth-r-a,u=e.my[0]==="left"?-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,c=e.at[0]==="left"?e.targetWidth:e.at[0]==="right"?-e.targetWidth:0,f=-2*e.offset[0],d,p;if(l<0){d=t.left+u+c+f+e.collisionWidth-r-n;if(d<0||d<s(l)){t.left+=u+c+f}}else if(h>0){p=t.left-e.collisionPosition.marginLeft+u+c+f-a;if(p>0||s(p)<h){t.left+=u+c+f}}},top:function(t,e){var i=e.within,n=i.offset.top+i.scrollTop,r=i.height,a=i.isWindow?i.scrollTop:i.offset.top,o=t.top-e.collisionPosition.marginTop,l=o-a,h=o+e.collisionHeight-r-a,u=e.my[1]==="top",c=u?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,f=e.at[1]==="top"?e.targetHeight:e.at[1]==="bottom"?-e.targetHeight:0,d=-2*e.offset[1],p,g;if(l<0){g=t.top+c+f+d+e.collisionHeight-r-n;if(t.top+c+f+d>l&&(g<0||g<s(l))){t.top+=c+f+d}}else if(h>0){p=t.top-e.collisionPosition.marginTop+c+f+d-a;if(t.top+c+f+d>h&&(p>0||s(p)<h)){t.top+=c+f+d}}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments);t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments);t.ui.position.fit.top.apply(this,arguments)}}};(function(){var e,i,n,s,r,a=document.getElementsByTagName("body")[0],o=document.createElement("div");e=document.createElement(a?"div":"body");n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(a){t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"})}for(r in n){e.style[r]=n[r]}e.appendChild(o);i=a||document.documentElement;i.insertBefore(e,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";s=t(o).offset().left;t.support.offsetFractions=s>10&&s<11;e.innerHTML="";i.removeChild(e)})()})(jQuery);(function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;if(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}t(i.iframeFix===true?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")});return true},_mouseStart:function(e){var i=this.options;this.helper=this._createHelper(e);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(t.ui.ddmanager){t.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(t.ui.ddmanager&&!i.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(t.ui.ddmanager){t.ui.ddmanager.dragStart(this,e)}return true},_mouseDrag:function(e,i){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!i){var n=this._uiHash();if(this._trigger("drag",e,n)===false){this._mouseUp({});return false}this.position=n.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var i=this,n=false;if(t.ui.ddmanager&&!this.options.dropBehaviour){n=t.ui.ddmanager.drop(this,e)}if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!t.contains(this.element[0].ownerDocument,this.element[0])){return false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",e)!==false){i._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(t.ui.ddmanager){t.ui.ddmanager.dragStop(this,e)}return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!n.parents("body").length){n.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(n[0]!==this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))){n.css("position","absolute")}return n},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;if(!s.containment){this.containment=null;return}if(s.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(s.containment==="document"){this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(s.containment.constructor===Array){this.containment=s.containment;return}if(s.containment==="parent"){s.containment=this.helper[0].parentNode}i=t(s.containment);n=i[0];if(!n){return}e=i.css("overflow")!=="hidden";this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i},_convertPositionTo:function(e,i){if(!i){i=this.position}var n=e==="absolute"?1:-1,s=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}}return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,s,r,a=this.options,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=e.pageX,h=e.pageY;if(!this.offset.scroll){this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){n=this.relative_container.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(e.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<i[1]){h=i[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>i[3]){h=i[3]+this.offset.click.top}}if(a.grid){s=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY;h=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s;r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX;l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-a.grid[0]:r+a.grid[0]:r}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,i,n){n=n||this._uiHash();t.ui.plugin.call(this,e,[i,n]);if(e==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,r=t.extend({},i,{item:n.element});n.sortables=[];t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");if(i&&!i.options.disabled){n.sortables.push({instance:i,shouldRevert:i.options.revert});i.refreshPositions();i._trigger("activate",e,r)}})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;n.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;if(n.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,s)}})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var r=false,a=this;this.instance.positionAbs=n.positionAbs;this.instance.helperProportions=n.helperProportions;this.instance.offset.click=n.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){r=true;t.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs;this.instance.helperProportions=n.helperProportions;this.instance.offset.click=n.offset.click;if(this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])){r=false}return r})}if(r){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return i.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=n.offset.click.top;this.instance.offset.click.left=n.offset.click.left;this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top;n._trigger("toSortable",e);n.dropped=this.instance.element;n.currentItem=n.element;this.instance.fromOutside=n}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}n._trigger("fromSortable",e);n.dropped=false}}})}});t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;if(e.css("cursor")){i._cursor=e.css("cursor")}e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;if(e._cursor){t("body").css("cursor",e._cursor)}}});t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;if(n.css("opacity")){s._opacity=n.css("opacity")}n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;if(n._opacity){t(i.helper).css("opacity",n._opacity)}}});t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");if(e.scrollParent[0]!==document&&e.scrollParent[0].tagName!=="HTML"){e.overflowOffset=e.scrollParent.offset()}},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!n.axis||n.axis!=="x"){if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity){i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed}else if(e.pageY-i.overflowOffset.top<n.scrollSensitivity){i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed}}if(!n.axis||n.axis!=="y"){if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity){i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed}else if(e.pageX-i.overflowOffset.left<n.scrollSensitivity){i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed}}}else{if(!n.axis||n.axis!=="x"){if(e.pageY-t(document).scrollTop()<n.scrollSensitivity){s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed)}else if(t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity){s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)}}if(!n.axis||n.axis!=="y"){if(e.pageX-t(document).scrollLeft()<n.scrollSensitivity){s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed)}else if(t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity){s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)}}}if(s!==false&&t.ui.ddmanager&&!n.dropBehaviour){t.ui.ddmanager.prepareOffsets(i,e)}}});t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[];t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();if(this!==e.element[0]){e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})}})},drag:function(e,i){var n,s,r,a,o,l,h,u,c,f,d=t(this).data("ui-draggable"),p=d.options,g=p.snapTolerance,m=i.offset.left,v=m+d.helperProportions.width,y=i.offset.top,b=y+d.helperProportions.height;for(c=d.snapElements.length-1;c>=0;c--){o=d.snapElements[c].left;l=o+d.snapElements[c].width;h=d.snapElements[c].top;u=h+d.snapElements[c].height;if(v<o-g||m>l+g||b<h-g||y>u+g||!t.contains(d.snapElements[c].item.ownerDocument,d.snapElements[c].item)){if(d.snapElements[c].snapping){d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=false;continue}if(p.snapMode!=="inner"){n=Math.abs(h-b)<=g;s=Math.abs(u-y)<=g;r=Math.abs(o-v)<=g;a=Math.abs(l-m)<=g;if(n){i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top}if(s){i.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:o-d.helperProportions.width}).left-d.margins.left}if(a){i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left}}f=n||s||r||a;if(p.snapMode!=="outer"){n=Math.abs(h-y)<=g;s=Math.abs(u-b)<=g;r=Math.abs(o-m)<=g;a=Math.abs(l-v)<=g;if(n){i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top}if(s){i.position.top=d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:o}).left-d.margins.left}if(a){i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left}}if(!d.snapElements[c].snapping&&(n||s||r||a||f)){d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=n||s||r||a||f}}});t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(!n.length){return}e=parseInt(t(n[0]).css("zIndex"),10)||0;t(n).each(function(i){t(this).css("zIndex",e+i)});this.css("zIndex",e+n.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;if(n.css("zIndex")){s._zIndex=n.css("zIndex")}n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;if(n._zIndex){t(i.helper).css("zIndex",n._zIndex)}}})})(jQuery);(function(t,e){function i(t,e,i){return t>e&&t<e+i}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=false;this.isout=true;this.accept=t.isFunction(i)?i:function(t){return t.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[];t.ui.ddmanager.droppables[e.scope].push(this);e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var e=0,i=t.ui.ddmanager.droppables[this.options.scope];for(;e<i.length;e++){if(i[e]===this){i.splice(e,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if(e==="accept"){this.accept=t.isFunction(i)?i:function(t){return t.is(i)}}t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(i){this._trigger("activate",e,this.ui(i))}},_deactivate:function(e){var i=t.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(i){this._trigger("deactivate",e,this.ui(i))}},_over:function(e){var i=t.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",e,this.ui(i))}},_out:function(e){var i=t.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);
}this._trigger("out",e,this.ui(i))}},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=false;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)){s=true;return false}});if(s){return false}if(this.accept.call(this.element[0],n.currentItem||n.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",e,this.ui(n));return this.element}return false},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}});t.ui.intersect=function(t,e,n){if(!e.offset){return false}var s,r,a=(t.positionAbs||t.position.absolute).left,o=a+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,h=l+t.helperProportions.height,u=e.offset.left,c=u+e.proportions.width,f=e.offset.top,d=f+e.proportions.height;switch(n){case"fit":return u<=a&&o<=c&&f<=l&&h<=d;case"intersect":return u<a+t.helperProportions.width/2&&o-t.helperProportions.width/2<c&&f<l+t.helperProportions.height/2&&h-t.helperProportions.height/2<d;case"pointer":s=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left;r=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return i(r,f,e.proportions.height)&&i(s,u,e.proportions.width);case"touch":return(l>=f&&l<=d||h>=f&&h<=d||l<f&&h>d)&&(a>=u&&a<=c||o>=u&&o<=c||a<u&&o>c);default:return false}};t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,r=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++){if(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element)){continue}for(s=0;s<o.length;s++){if(o[s]===r[n].element[0]){r[n].proportions.height=0;continue t}}r[n].visible=r[n].element.css("display")!=="none";if(!r[n].visible){continue}if(a==="mousedown"){r[n]._activate.call(r[n],i)}r[n].offset=r[n].element.offset();r[n].proportions={width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}}},drop:function(e,i){var n=false;t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)){n=this._drop.call(this,i)||n}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=true;this.isover=false;this._deactivate.call(this,i)}});return n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){if(!e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}})},drag:function(e,i){if(e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var n,s,r,a=t.ui.intersect(e,this,this.options.tolerance),o=!a&&this.isover?"isout":a&&!this.isover?"isover":null;if(!o){return}if(this.options.greedy){s=this.options.scope;r=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===s});if(r.length){n=t.data(r[0],"ui-droppable");n.greedyChild=o==="isover"}}if(n&&o==="isover"){n.isover=false;n.isout=true;n._out.call(n,i)}this[o]=true;this[o==="isout"?"isover":"isout"]=false;this[o==="isover"?"_over":"_out"].call(this,i);if(n&&o==="isout"){n.isout=false;n.isover=true;n._over.call(n,i)}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable");if(!e.options.refreshPositions){t.ui.ddmanager.prepareOffsets(e,i)}}}})(jQuery);(function(t,e){function i(t){return parseInt(t,10)||0}function n(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,s,r,a=this,o=this.options;this.element.addClass("ui-resizable");t.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=o.handles||(!t(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}e=this.handles.split(",");this.handles={};for(i=0;i<e.length;i++){n=t.trim(e[i]);r="ui-resizable-"+n;s=t("<div class='ui-resizable-handle "+r+"'></div>");s.css({zIndex:o.zIndex});if("se"===n){s.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[n]=".ui-resizable-"+n;this.element.append(s)}}this._renderAxis=function(e){var i,n,s,r;e=e||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=t(this.handles[i],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){n=t(this.handles[i],this.element);r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(s,r);this._proportionallyResize()}if(!t(this.handles[i]).length){continue}}};this._renderAxis(this.element);this._handles=t(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!a.resizing){if(this.className){s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}a.axis=s&&s[1]?s[1]:"se"}});if(o.autoHide){this._handles.hide();t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return}t(this).removeClass("ui-resizable-autohide");a._handles.show()}).mouseleave(function(){if(o.disabled){return}if(!a.resizing){t(this).addClass("ui-resizable-autohide");a._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){i(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);i(this.originalElement);return this},_mouseCapture:function(e){var i,n,s=false;for(i in this.handles){n=t(this.handles[i])[0];if(n===e.target||t.contains(n,e.target)){s=true}}return!this.options.disabled&&s},_mouseStart:function(e){var n,s,r,a=this.options,o=this.element.position(),l=this.element;this.resizing=true;if(/absolute/.test(l.css("position"))){l.css({position:"absolute",top:l.css("top"),left:l.css("left")})}else if(l.is(".ui-draggable")){l.css({position:"absolute",top:o.top,left:o.left})}this._renderProxy();n=i(this.helper.css("left"));s=i(this.helper.css("top"));if(a.containment){n+=t(a.containment).scrollLeft()||0;s+=t(a.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:s};this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalPosition={left:n,top:s};this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof a.aspectRatio==="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=t(".ui-resizable-"+this.axis).css("cursor");t("body").css("cursor",r==="auto"?this.axis+"-resize":r);l.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var i,n=this.helper,s={},r=this.originalMousePosition,a=this.axis,o=this.position.top,l=this.position.left,h=this.size.width,u=this.size.height,c=e.pageX-r.left||0,f=e.pageY-r.top||0,d=this._change[a];if(!d){return false}i=d.apply(this,[e,c,f]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){i=this._updateRatio(i,e)}i=this._respectSize(i,e);this._updateCache(i);this._propagate("resize",e);if(this.position.top!==o){s.top=this.position.top+"px"}if(this.position.left!==l){s.left=this.position.left+"px"}if(this.size.width!==h){s.width=this.size.width+"px"}if(this.size.height!==u){s.height=this.size.height+"px"}n.css(s);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!t.isEmptyObject(s)){this._trigger("resize",e,this.ui())}return false},_mouseStop:function(e){this.resizing=false;var i,n,s,r,a,o,l,h=this.options,u=this;if(this._helper){i=this._proportionallyResizeElements;n=i.length&&/textarea/i.test(i[0].nodeName);s=n&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height;r=n?0:u.sizeDiff.width;a={width:u.helper.width()-r,height:u.helper.height()-s};o=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null;l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null;if(!h.animate){this.element.css(t.extend(a,{top:l,left:o}))}u.helper.height(u.size.height);u.helper.width(u.size.width);if(this._helper&&!h.animate){this._proportionallyResize()}}t("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(t){var e,i,s,r,a,o=this.options;a={minWidth:n(o.minWidth)?o.minWidth:0,maxWidth:n(o.maxWidth)?o.maxWidth:Infinity,minHeight:n(o.minHeight)?o.minHeight:0,maxHeight:n(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||t){e=a.minHeight*this.aspectRatio;s=a.minWidth/this.aspectRatio;i=a.maxHeight*this.aspectRatio;r=a.maxWidth/this.aspectRatio;if(e>a.minWidth){a.minWidth=e}if(s>a.minHeight){a.minHeight=s}if(i<a.maxWidth){a.maxWidth=i}if(r<a.maxHeight){a.maxHeight=r}}this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset();if(n(t.left)){this.position.left=t.left}if(n(t.top)){this.position.top=t.top}if(n(t.height)){this.size.height=t.height}if(n(t.width)){this.size.width=t.width}},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;if(n(t.height)){t.width=t.height*this.aspectRatio}else if(n(t.width)){t.height=t.width/this.aspectRatio}if(s==="sw"){t.left=e.left+(i.width-t.width);t.top=null}if(s==="nw"){t.top=e.top+(i.height-t.height);t.left=e.left+(i.width-t.width)}return t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=n(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=n(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=n(t.width)&&e.minWidth&&e.minWidth>t.width,o=n(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);if(a){t.width=e.minWidth}if(o){t.height=e.minHeight}if(s){t.width=e.maxWidth}if(r){t.height=e.maxHeight}if(a&&u){t.left=l-e.minWidth}if(s&&u){t.left=l-e.maxWidth}if(o&&c){t.top=h-e.minHeight}if(r&&c){t.top=h-e.maxHeight}if(!t.width&&!t.height&&!t.left&&t.top){t.top=null}else if(!t.width&&!t.height&&!t.top&&t.left){t.left=null}return t},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var t,e,i,n,s,r=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){s=this._proportionallyResizeElements[t];if(!this.borderDif){this.borderDif=[];i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")];n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];for(e=0;e<i.length;e++){this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0)}}s.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||t("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]);e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),a=r&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=r?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};if(s&&s.length){t(s[0]).css({width:n.width,height:n.height})}i._updateCache(n);i._propagate("resize",e)}})}});t.ui.plugin.add("resizable","containment",{start:function(){var e,n,s,r,a,o,l,h=t(this).data("ui-resizable"),u=h.options,c=h.element,f=u.containment,d=f instanceof t?f.get(0):/parent/.test(f)?c.parent().get(0):f;if(!d){return}h.containerElement=t(d);if(/document/.test(f)||f===document){h.containerOffset={left:0,top:0};h.containerPosition={left:0,top:0};h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}}else{e=t(d);n=[];t(["Top","Right","Left","Bottom"]).each(function(t,s){n[t]=i(e.css("padding"+s))});h.containerOffset=e.offset();h.containerPosition=e.position();h.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]};s=h.containerOffset;r=h.containerSize.height;a=h.containerSize.width;o=t.ui.hasScroll(d,"left")?d.scrollWidth:a;l=t.ui.hasScroll(d)?d.scrollHeight:r;h.parentData={element:d,left:s.left,top:s.top,width:o,height:l}}},resize:function(e){var i,n,s,r,a=t(this).data("ui-resizable"),o=a.options,l=a.containerOffset,h=a.position,u=a._aspectRatio||e.shiftKey,c={top:0,left:0},f=a.containerElement;if(f[0]!==document&&/static/.test(f.css("position"))){c=l}if(h.left<(a._helper?l.left:0)){a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-c.left);if(u){a.size.height=a.size.width/a.aspectRatio}a.position.left=o.helper?l.left:0}if(h.top<(a._helper?l.top:0)){a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top);if(u){a.size.width=a.size.height*a.aspectRatio}a.position.top=a._helper?l.top:0}a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;i=Math.abs((a._helper?a.offset.left-c.left:a.offset.left-c.left)+a.sizeDiff.width);n=Math.abs((a._helper?a.offset.top-c.top:a.offset.top-l.top)+a.sizeDiff.height);s=a.containerElement.get(0)===a.element.parent().get(0);r=/relative|absolute/.test(a.containerElement.css("position"));if(s&&r){i-=a.parentData.left}if(i+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-i;if(u){a.size.height=a.size.width/a.aspectRatio}}if(n+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-n;if(u){a.size.width=a.size.height*a.aspectRatio}}},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,s=e.containerPosition,r=e.containerElement,a=t(e.helper),o=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;if(e._helper&&!i.animate&&/relative/.test(r.css("position"))){t(this).css({left:o.left-s.left-n.left,width:l,height:h})}if(e._helper&&!i.animate&&/static/.test(r.css("position"))){t(this).css({left:o.left-s.left-n.left,width:l,height:h})}}});t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};if(typeof i.alsoResize==="object"&&!i.alsoResize.parentNode){if(i.alsoResize.length){i.alsoResize=i.alsoResize[0];n(i.alsoResize)}else{t.each(i.alsoResize,function(t){n(t)})}}else{n(i.alsoResize)}},resize:function(e,i){var n=t(this).data("ui-resizable"),s=n.options,r=n.originalSize,a=n.originalPosition,o={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),r={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(s[e]||0)+(o[e]||0);if(i&&i>=0){r[e]=i||null}});e.css(r)})};if(typeof s.alsoResize==="object"&&!s.alsoResize.nodeType){t.each(s.alsoResize,function(t,e){l(t,e)})}else{l(s.alsoResize)}},stop:function(){t(this).removeData("resizable-alsoresize")}});t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost==="string"?i.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=t(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,s=e.originalSize,r=e.originalPosition,a=e.axis,o=typeof i.grid==="number"?[i.grid,i.grid]:i.grid,l=o[0]||1,h=o[1]||1,u=Math.round((n.width-s.width)/l)*l,c=Math.round((n.height-s.height)/h)*h,f=s.width+u,d=s.height+c,p=i.maxWidth&&i.maxWidth<f,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>f,v=i.minHeight&&i.minHeight>d;i.grid=o;if(m){f=f+l}if(v){d=d+h}if(p){f=f-l}if(g){d=d-h}if(/^(se|s|e)$/.test(a)){e.size.width=f;e.size.height=d}else if(/^(ne)$/.test(a)){e.size.width=f;e.size.height=d;e.position.top=r.top-c}else if(/^(sw)$/.test(a)){e.size.width=f;e.size.height=d;e.position.left=r.left-u}else{e.size.width=f;e.size.height=d;e.position.top=r.top-c;e.position.left=r.left-u}}})})(jQuery);(function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){e=t(i.options.filter,i.element[0]);e.addClass("ui-selectee");e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=e.addClass("ui-selectee");this._mouseInit();this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}this.selectees=t(n.filter,this.element[0]);this._trigger("start",e);t(n.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});if(n.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=true;if(!e.metaKey&&!e.ctrlKey){n.$element.removeClass("ui-selected");n.selected=false;n.$element.addClass("ui-unselecting");n.unselecting=true;i._trigger("unselecting",e,{unselecting:n.element})}});t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");if(s){n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected");s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting");s.unselecting=!n;s.selecting=n;s.selected=n;if(n){i._trigger("selecting",e,{selecting:s.element})}else{i._trigger("unselecting",e,{unselecting:s.element})}return false}})},_mouseDrag:function(e){this.dragged=true;if(this.options.disabled){return}var i,n=this,s=this.options,r=this.opos[0],a=this.opos[1],o=e.pageX,l=e.pageY;if(r>o){i=o;o=r;r=i}if(a>l){i=l;l=a;a=i}this.helper.css({left:r,top:a,width:o-r,height:l-a});this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=false;if(!i||i.element===n.element[0]){return}if(s.tolerance==="touch"){h=!(i.left>o||i.right<r||i.top>l||i.bottom<a)}else if(s.tolerance==="fit"){h=i.left>r&&i.right<o&&i.top>a&&i.bottom<l}if(h){if(i.selected){i.$element.removeClass("ui-selected");i.selected=false}if(i.unselecting){i.$element.removeClass("ui-unselecting");i.unselecting=false}if(!i.selecting){i.$element.addClass("ui-selecting");i.selecting=true;n._trigger("selecting",e,{selecting:i.element})}}else{if(i.selecting){if((e.metaKey||e.ctrlKey)&&i.startselected){i.$element.removeClass("ui-selecting");i.selecting=false;i.$element.addClass("ui-selected");i.selected=true}else{i.$element.removeClass("ui-selecting");i.selecting=false;if(i.startselected){i.$element.addClass("ui-unselecting");i.unselecting=true}n._trigger("unselecting",e,{unselecting:i.element})}}if(i.selected){if(!e.metaKey&&!e.ctrlKey&&!i.startselected){i.$element.removeClass("ui-selected");i.selected=false;i.$element.addClass("ui-unselecting");i.unselecting=true;n._trigger("unselecting",e,{unselecting:i.element})}}}});return false},_mouseStop:function(e){var i=this;this.dragged=false;t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting");n.unselecting=false;n.startselected=false;i._trigger("unselected",e,{unselected:n.element})});t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected");n.selecting=false;n.selected=true;n.startselected=true;i._trigger("selected",e,{selected:n.element})});this._trigger("stop",e);this.helper.remove();return false}})})(jQuery);(function(t,e){function i(t,e,i){return t>e&&t<e+i}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?t.axis==="x"||n(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item")}return this},_setOption:function(e,i){if(e==="disabled"){this.options[e]=i;this.widget().toggleClass("ui-sortable-disabled",!!i)}else{t.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(e,i){var n=null,s=false,r=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r){n=t(this);return false}});if(t.data(e.target,r.widgetName+"-item")===r){n=t(e.target)}if(!n){return false}if(this.options.handle&&!i){t(this.options.handle,n).find("*").addBack().each(function(){if(this===e.target){s=true}});if(!s){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(e,i,n){var s,r,a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(a.containment){this._setContainment()}if(a.cursor&&a.cursor!=="auto"){r=this.document.find("body");this.storedCursor=r.css("cursor");r.css("cursor",a.cursor);this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)}if(a.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",a.opacity)}if(a.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",a.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(s=this.containers.length-1;s>=0;s--){this.containers[s]._trigger("activate",e,this._uiHash(this))}}if(t.ui.ddmanager){t.ui.ddmanager.current=this}if(t.ui.ddmanager&&!a.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var i,n,s,r,a=this.options,o=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed}else if(e.pageY-this.overflowOffset.top<a.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed}else if(e.pageX-this.overflowOffset.left<a.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed}}else{if(e.pageY-t(document).scrollTop()<a.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed)}else if(t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)}if(e.pageX-t(document).scrollLeft()<a.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed)}else if(t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed)}}if(o!==false&&t.ui.ddmanager&&!a.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){n=this.items[i];s=n.item[0];r=this._intersectsWithPointer(n);if(!r){continue}if(n.instance!==this.currentContainer){continue}if(s!==this.currentItem[0]&&this.placeholder[r===1?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],s):true)){this.direction=r===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(e,n)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;
return false},_mouseStop:function(e,i){if(!e){return}if(t.ui.ddmanager&&!this.options.dropBehaviour){t.ui.ddmanager.drop(this,e)}if(this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,a={};if(!r||r==="x"){a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!r||r==="y"){a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else{this._clear(e,i)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}t.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){t(this.domPosition.prev).after(this.currentItem)}else{t(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(i){n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}});if(!n.length&&e.key){n.push(e.key+"=")}return n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")});return n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,a=r+t.width,o=t.top,l=o+t.height,h=this.offset.click.top,u=this.offset.click.left,c=this.options.axis==="x"||n+h>o&&n+h<l,f=this.options.axis==="y"||e+u>r&&e+u<a,d=c&&f;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]){return d}else{return r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&o<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l}},_intersectsWithPointer:function(t){var e=this.options.axis==="x"||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),n=this.options.axis==="y"||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&n,r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();if(!s){return false}return this.floating?a&&a==="right"||r==="down"?2:1:r&&(r==="down"?2:1)},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&n||r==="left"&&!n}else{return s&&(s==="down"&&e||s==="up"&&!e)}},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,r,a=[],o=[],l=this._connectWith();if(l&&e){for(i=l.length-1;i>=0;i--){s=t(l[i]);for(n=s.length-1;n>=0;n--){r=t.data(s[n],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){o.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}}}o.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=o.length-1;i>=0;i--){o[i][0].each(function(){a.push(this)})}return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++){if(e[i]===t.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var i,n,s,r,a,o,l,h,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(i=f.length-1;i>=0;i--){s=t(f[i]);for(n=s.length-1;n>=0;n--){r=t.data(s[n],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){c.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]);this.containers.push(r)}}}}for(i=c.length-1;i>=0;i--){a=c[i][1];o=c[i][0];for(n=0,h=o.length;n<h;n++){l=t(o[n]);l.data(this.widgetName+"-item",a);u.push({item:l,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,n,s,r;for(i=this.items.length-1;i>=0;i--){n=this.items[i];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;if(!e){n.width=s.outerWidth();n.height=s.outerHeight()}r=s.offset();n.left=r.left;n.top=r.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){r=this.containers[i].element.offset();this.containers[i].containerCache.left=r.left;this.containers[i].containerCache.top=r.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;if(!n.placeholder||n.placeholder.constructor===String){i=n.placeholder;n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(n==="tr"){e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)})}else if(n==="img"){s.attr("src",e.currentItem.attr("src"))}if(!i){s.css("visibility","hidden")}return s},update:function(t,s){if(i&&!n.forcePlaceholderSize){return}if(!s.height()){s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10))}if(!s.width()){s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var s,r,a,o,l,h,u,c,f,d,p=null,g=null;for(s=this.containers.length-1;s>=0;s--){if(t.contains(this.currentItem[0],this.containers[s].element[0])){continue}if(this._intersectsWith(this.containers[s].containerCache)){if(p&&t.contains(this.containers[s].element[0],p.element[0])){continue}p=this.containers[s];g=s}else{if(this.containers[s].containerCache.over){this.containers[s]._trigger("out",e,this._uiHash(this));this.containers[s].containerCache.over=0}}}if(!p){return}if(this.containers.length===1){if(!this.containers[g].containerCache.over){this.containers[g]._trigger("over",e,this._uiHash(this));this.containers[g].containerCache.over=1}}else{a=1e4;o=null;d=p.floating||n(this.currentItem);l=d?"left":"top";h=d?"width":"height";u=this.positionAbs[l]+this.offset.click[l];for(r=this.items.length-1;r>=0;r--){if(!t.contains(this.containers[g].element[0],this.items[r].item[0])){continue}if(this.items[r].item[0]===this.currentItem[0]){continue}if(d&&!i(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height)){continue}c=this.items[r].item.offset()[l];f=false;if(Math.abs(c-u)>Math.abs(c+this.items[r][h]-u)){f=true;c+=this.items[r][h]}if(Math.abs(c-u)<a){a=Math.abs(c-u);o=this.items[r];this.direction=f?"up":"down"}}if(!o&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[g]){return}o?this._rearrange(e,o,null,true):this._rearrange(e,null,this.containers[g].element,true);this._trigger("change",e,this._uiHash());this.containers[g]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[g];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[g]._trigger("over",e,this._uiHash(this));this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){t(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||i.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||i.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;if(s.containment==="parent"){s.containment=this.helper[0].parentNode}if(s.containment==="document"||s.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(s.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(s.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(s.containment)){e=t(s.containment)[0];i=t(s.containment).offset();n=t(e).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){if(!i){i=this.position}var n=e==="absolute"?1:-1,s=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,r=e.pageX,a=e.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(o[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){r=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){a=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){r=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){a=this.containment[3]+this.offset.click.top}}if(s.grid){i=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1];a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i;n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0];r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){if(s===this.counter){this.refreshPositions(!n)}})},_clear:function(t,e){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){n.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!e){n.push(function(t){this._trigger("remove",t,this._uiHash())});n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}}for(i=this.containers.length-1;i>=0;i--){if(!e){n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(i=0;i<n.length;i++){n[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return false}if(!e){this._trigger("beforeStop",t,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(i=0;i<n.length;i++){n[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(t.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(t,e){var i=0,n={},s={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide";s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show";t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!e.collapsible&&(e.active===false||e.active==null)){e.active=0}this._processPanels();if(e.active<0){e.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?t():this.active.next(),content:!this.active.length?t():this.active.next()}},_createIcons:function(){var e=this.options.icons;if(e){t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){t.css("height","")}},_setOption:function(t,e){if(t==="active"){this._activate(e);return}if(t==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(e)}this._super(t,e);if(t==="collapsible"&&!e&&this.options.active===false){this._activate(0)}if(t==="icons"){this._destroyIcons();if(e){this._createIcons()}}if(t==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)}},_keydown:function(e){if(e.altKey||e.ctrlKey){return}var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),r=false;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1];break}if(r){t(e.target).attr("tabIndex",-1);t(r).attr("tabIndex",0);r.focus();e.preventDefault()}},_panelKeyDown:function(e){if(e.keyCode===t.ui.keyCode.UP&&e.ctrlKey){t(e.currentTarget).prev().focus()}},refresh:function(){var e=this.options;this._processPanels();if(e.active===false&&e.collapsible===true||!this.headers.length){e.active=false;this.active=t()}else if(e.active===false){this._activate(0)}else if(this.active.length&&!t.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){e.active=false;this.active=t()}else{this._activate(Math.max(0,e.active-1))}}else{e.active=this.headers.index(this.active)}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,s=n.heightStyle,r=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),s=i.next(),r=s.attr("id");if(!n){n=a+"-header-"+e;i.attr("id",n)}if(!r){r=a+"-panel-"+e;s.attr("id",r)}i.attr("aria-controls",r);s.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._createIcons();this._setupEvents(n.event);if(s==="fill"){e=r.height();this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");if(n==="absolute"||n==="fixed"){return}e-=i.outerHeight(true)});this.headers.each(function(){e-=t(this).outerHeight(true)});this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else if(s==="auto"){e=0;this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e)}},_activate:function(e){var i=this._findActive(e)[0];if(i===this.active[0]){return}i=i||this.active[0];this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop})},_findActive:function(e){return typeof e==="number"?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};if(e){t.each(e.split(" "),function(t,e){i[e]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),r=s[0]===n[0],a=r&&i.collapsible,o=a?t():s.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:a?t():s,newPanel:o};e.preventDefault();if(r&&!i.collapsible||this._trigger("beforeActivate",e,h)===false){return}i.active=a?false:this.headers.index(s);this.active=r?t():s;this._toggle(h);n.removeClass("ui-accordion-header-active ui-state-active");if(i.icons){n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header)}if(!r){s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(i.icons){s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader)}s.next().addClass("ui-accordion-content-active")}},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=i;this.prevHide=n;if(this.options.animate){this._animate(i,n,e)}else{n.hide();i.show();this._toggleComplete(e)}n.attr({"aria-expanded":"false","aria-hidden":"true"});n.prev().attr("aria-selected","false");if(i.length&&n.length){n.prev().attr("tabIndex",-1)}else if(i.length){this.headers.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1)}i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,i){var r,a,o,l=this,h=0,u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},f=u&&c.down||c,d=function(){l._toggleComplete(i)};if(typeof f==="number"){o=f}if(typeof f==="string"){a=f}a=a||f.easing||c.easing;o=o||f.duration||c.duration;if(!e.length){return t.animate(s,o,a,d)}if(!t.length){return e.animate(n,o,a,d)}r=t.show().outerHeight();e.animate(n,{duration:o,easing:a,step:function(t,e){e.now=Math.round(t)}});t.hide().animate(s,{duration:o,easing:a,complete:d,step:function(t,i){i.now=Math.round(t);if(i.prop!=="height"){h+=i.now}else if(l.options.heightStyle!=="content"){i.now=Math.round(r-e.outerHeight()-h);h=0}}})},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(e.length){e.parent()[0].className=e.parent()[0].className}this._trigger("activate",null,t)}})})(jQuery);(function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),r=s==="textarea",a=s==="input";this.isMultiLine=r?true:a?false:this.element.prop("isContentEditable");this.valueMethod=this.element[r||a?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly")){e=true;n=true;i=true;return}e=false;n=false;i=false;var r=t.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:e=true;this._move("previousPage",s);break;case r.PAGE_DOWN:e=true;this._move("nextPage",s);break;case r.UP:e=true;this._keyEvent("previous",s);break;case r.DOWN:e=true;this._keyEvent("next",s);break;case r.ENTER:case r.NUMPAD_ENTER:if(this.menu.active){e=true;s.preventDefault();this.menu.select(s)}break;case r.TAB:if(this.menu.active){this.menu.select(s)}break;case r.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(s);s.preventDefault()}break;default:i=true;this._searchTimeout(s);break}},keypress:function(n){if(e){e=false;if(!this.isMultiLine||this.menu.element.is(":visible")){n.preventDefault()}return}if(i){return}var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n);break}},input:function(t){if(n){n=false;t.preventDefault();return}this._searchTimeout(t)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(t){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(t);this._change(t)}});this._initSource();this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(e){e.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];if(!t(e.target).closest(".ui-menu-item").length){this._delay(function(){var e=this;this.document.one("mousedown",function(n){if(n.target!==e.element[0]&&n.target!==i&&!t.contains(i,n.target)){e.close()}})})}},menufocus:function(e,i){if(this.isNewMenu){this.isNewMenu=false;if(e.originalEvent&&/^mouse/.test(e.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});return}}var n=i.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",e,{item:n})){if(e.originalEvent&&/^key/.test(e.originalEvent.type)){this._value(n.value)}}else{this.liveRegion.text(n.value)}},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=n;this._delay(function(){this.previous=n;this.selectedItem=i})}if(false!==this._trigger("select",t,{item:i})){this._value(i.value)}this.term=this._value();this.close(t);this.selectedItem=i}});this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e);if(t==="source"){this._initSource()}if(t==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(t==="disabled"&&e&&this.xhr){this.xhr.abort()}},_appendTo:function(){var e=this.options.appendTo;if(e){e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)}if(!e){e=this.element.closest(".ui-front")}if(!e.length){e=this.document[0].body}return e},_initSource:function(){var e,i,n=this;if(t.isArray(this.options.source)){e=this.options.source;this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}}else if(typeof this.options.source==="string"){i=this.options.source;this.source=function(e,s){if(n.xhr){n.xhr.abort()}n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}}else{this.source=this.options.source}},_searchTimeout:function(t){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,t)}},this.options.delay)},search:function(t,e){t=t!=null?t:this._value();this.term=this._value();if(t.length<this.options.minLength){return this.close(e)}if(this._trigger("search",e)===false){return}return this._search(t)},_search:function(t){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){if(e===i){t.__response(n)}t.pending--;if(!t.pending){t.element.removeClass("ui-autocomplete-loading")}}},__response:function(t){if(t){t=this._normalize(t)}this._trigger("response",null,{content:t});if(!this.options.disabled&&t&&t.length&&!this.cancelSearch){
this._suggest(t);this._trigger("open")}else{this._close()}},close:function(t){this.cancelSearch=true;this._close(t)},_close:function(t){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",t)}},_change:function(t){if(this.previous!==this._value()){this._trigger("change",t,{item:this.selectedItem})}},_normalize:function(e){if(e.length&&e[0].label&&e[0].value){return e}return t.map(e,function(e){if(typeof e==="string"){return{label:e,value:e}}return t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e);this.isNewMenu=true;this.menu.refresh();i.show();this._resizeMenu();i.position(t.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){if(!this.menu.element.is(":visible")){this.search(null,e);return}if(this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)){this._value(this.term);this.menu.blur();return}this.menu[t](e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(t,e);e.preventDefault()}}});t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}});t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(t&&t.length){e=this.options.messages.results(t.length)}else{e=this.options.messages.noResults}this.liveRegion.text(e)}})})(jQuery);(function(t,e){var i,n,s,r,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},u=function(e){var i=e.name,n=e.form,s=t([]);if(i){i=i.replace(/'/g,"\\'");if(n){s=t(n).find("[name='"+i+"']")}else{s=t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})}}return s};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var e=this,o=this.options,l=this.type==="checkbox"||this.type==="radio",c=!l?"ui-state-active":"",f="ui-state-focus";if(o.label===null){o.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()}this._hoverable(this.buttonElement);this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(o.disabled){return}if(this===i){t(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(o.disabled){return}t(this).removeClass(c)}).bind("click"+this.eventNamespace,function(t){if(o.disabled){t.preventDefault();t.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(f)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(f)});if(l){this.element.bind("change"+this.eventNamespace,function(){if(r){return}e.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){if(o.disabled){return}r=false;n=t.pageX;s=t.pageY}).bind("mouseup"+this.eventNamespace,function(t){if(o.disabled){return}if(n!==t.pageX||s!==t.pageY){r=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||r){return false}})}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||r){return false}t(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed","true");var i=e.element[0];u(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(o.disabled){return false}t(this).addClass("ui-state-active");i=this;e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(o.disabled){return false}t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(o.disabled){return false}if(e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER){t(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(e){if(e.keyCode===t.ui.keyCode.SPACE){t(this).click()}})}}this._setOption("disabled",o.disabled);this._resetButton()},_determineButtonType:function(){var t,e,i;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else if(this.element.is("[type=radio]")){this.type="radio"}else if(this.element.is("input")){this.type="input"}else{this.type="button"}if(this.type==="checkbox"||this.type==="radio"){t=this.element.parents().last();e="label[for='"+this.element.attr("id")+"']";this.buttonElement=t.find(e);if(!this.buttonElement.length){t=t.length?t.siblings():this.element.siblings();this.buttonElement=t.filter(e);if(!this.buttonElement.length){this.buttonElement=t.find(e)}}this.element.addClass("ui-helper-hidden-accessible");i=this.element.is(":checked");if(i){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",i)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(a+" "+o+" "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(t,e){this._super(t,e);if(t==="disabled"){if(e){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(e!==this.options.disabled){this._setOption("disabled",e)}if(this.type==="radio"){u(this.element[0]).each(function(){if(t(this).is(":checked")){t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var e=this.buttonElement.removeClass(l),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,r=[];if(n.primary||n.secondary){if(this.options.text){r.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary"))}if(n.primary){e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>")}if(n.secondary){e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>")}if(!this.options.text){r.push(s?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){e.attr("title",t.trim(i))}}}else{r.push("ui-button-text-only")}e.addClass(r.join(" "))}});t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){if(t==="disabled"){this.buttons.button("option",t,e)}this._super(t,e)},refresh:function(){var e=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(t,e){t.extend(t.ui,{datepicker:{version:"1.10.3"}});var i="datepicker",n;function s(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};t.extend(this._defaults,this.regional[""]);this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){a(this._defaults,t||{});return this},_attachDatepicker:function(e,i){var n,s,r;n=e.nodeName.toLowerCase();s=n==="div"||n==="span";if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}r=this._newInst(t(e),s);r.settings=t.extend({},i||{});if(n==="input"){this._connectDatepicker(e,r)}else if(s){this._inlineDatepicker(e,r)}},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:!i?this.dpDiv:r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(e,n){var s=t(e);n.append=t([]);n.trigger=t([]);if(s.hasClass(this.markerClassName)){return}this._attachments(s,n);s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(n);t.data(e,i,n);if(n.settings.disabled){this._disableDatepicker(e)}},_attachments:function(e,i){var n,s,r,a=this._get(i,"appendText"),o=this._get(i,"isRTL");if(i.append){i.append.remove()}if(a){i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>");e[o?"before":"after"](i.append)}e.unbind("focus",this._showDatepicker);if(i.trigger){i.trigger.remove()}n=this._get(i,"showOn");if(n==="focus"||n==="both"){e.focus(this._showDatepicker)}if(n==="button"||n==="both"){s=this._get(i,"buttonText");r=this._get(i,"buttonImage");i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(!r?s:t("<img/>").attr({src:r,alt:s,title:s})));e[o?"before":"after"](i.trigger);i.trigger.click(function(){if(t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]){t.datepicker._hideDatepicker()}else if(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]){t.datepicker._hideDatepicker();t.datepicker._showDatepicker(e[0])}else{t.datepicker._showDatepicker(e[0])}return false})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,r=new Date(2009,12-1,20),a=this._get(t,"dateFormat");if(a.match(/[DM]/)){e=function(t){i=0;n=0;for(s=0;s<t.length;s++){if(t[s].length>i){i=t[s].length;n=s}}return n};r.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort")));r.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())}t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,n){var s=t(e);if(s.hasClass(this.markerClassName)){return}s.addClass(this.markerClassName).append(n.dpDiv);t.data(e,i,n);this._setDate(n,this._getDefaultDate(n),true);this._updateDatepicker(n);this._updateAlternate(n);if(n.settings.disabled){this._disableDatepicker(e)}n.dpDiv.css("display","block")},_dialogDatepicker:function(e,n,s,r,o){var l,h,u,c,f,d=this._dialogInst;if(!d){this.uuid+=1;l="dp"+this.uuid;this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);t("body").append(this._dialogInput);d=this._dialogInst=this._newInst(this._dialogInput,false);d.settings={};t.data(this._dialogInput[0],i,d)}a(d.settings,r||{});n=n&&n.constructor===Date?this._formatDate(d,n):n;this._dialogInput.val(n);this._pos=o?o.length?o:[o.pageX,o.pageY]:null;if(!this._pos){h=document.documentElement.clientWidth;u=document.documentElement.clientHeight;c=document.documentElement.scrollLeft||document.body.scrollLeft;f=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+c,u/2-150+f]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");d.settings.onSelect=s;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(t.blockUI){t.blockUI(this.dpDiv)}t.data(this._dialogInput[0],i,d);return this},_destroyDatepicker:function(e){var n,s=t(e),r=t.data(e,i);if(!s.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();t.removeData(e,i);if(n==="input"){r.append.remove();r.trigger.remove();s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(n==="div"||n==="span"){s.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var n,s,r=t(e),a=t.data(e,i);if(!r.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();if(n==="input"){e.disabled=false;a.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(n==="div"||n==="span"){s=r.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled");s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t})},_disableDatepicker:function(e){var n,s,r=t(e),a=t.data(e,i);if(!r.hasClass(this.markerClassName)){return}n=e.nodeName.toLowerCase();if(n==="input"){e.disabled=true;a.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(n==="div"||n==="span"){s=r.children("."+this._inlineClass);s.children().addClass("ui-state-disabled");s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t});this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(t){if(!t){return false}for(var e=0;e<this._disabledInputs.length;e++){if(this._disabledInputs[e]===t){return true}}return false},_getInst:function(e){try{return t.data(e,i)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var r,o,l,h,u=this._getInst(i);if(arguments.length===2&&typeof n==="string"){return n==="defaults"?t.extend({},t.datepicker._defaults):u?n==="all"?t.extend({},u.settings):this._get(u,n):null}r=n||{};if(typeof n==="string"){r={};r[n]=s}if(u){if(this._curInst===u){this._hideDatepicker()}o=this._getDateDatepicker(i,true);l=this._getMinMaxDate(u,"min");h=this._getMinMaxDate(u,"max");a(u.settings,r);if(l!==null&&r.dateFormat!==e&&r.minDate===e){u.settings.minDate=this._formatDate(u,l)}if(h!==null&&r.dateFormat!==e&&r.maxDate===e){u.settings.maxDate=this._formatDate(u,h)}if("disabled"in r){if(r.disabled){this._disableDatepicker(i)}else{this._enableDatepicker(i)}}this._attachments(t(i),u);this._autoSize(u);this._setDate(u,o);this._updateAlternate(u);this._updateDatepicker(u)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);if(e){this._updateDatepicker(e)}},_setDateDatepicker:function(t,e){var i=this._getInst(t);if(i){this._setDate(i,e);this._updateDatepicker(i);this._updateAlternate(i)}},_getDateDatepicker:function(t,e){var i=this._getInst(t);if(i&&!i.inline){this._setDateFromField(i,e)}return i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,r=t.datepicker._getInst(e.target),a=true,o=r.dpDiv.is(".ui-datepicker-rtl");r._keyEvent=true;if(t.datepicker._datepickerShowing){switch(e.keyCode){case 9:t.datepicker._hideDatepicker();a=false;break;case 13:s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv);if(s[0]){t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0])}i=t.datepicker._get(r,"onSelect");if(i){n=t.datepicker._formatDate(r);i.apply(r.input?r.input[0]:null,[n,r])}else{t.datepicker._hideDatepicker()}return false;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:if(e.ctrlKey||e.metaKey){t.datepicker._clearDate(e.target)}a=e.ctrlKey||e.metaKey;break;case 36:if(e.ctrlKey||e.metaKey){t.datepicker._gotoToday(e.target)}a=e.ctrlKey||e.metaKey;break;case 37:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,o?+1:-1,"D")}a=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M")}break;case 38:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,-7,"D")}a=e.ctrlKey||e.metaKey;break;case 39:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,o?-1:+1,"D")}a=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M")}break;case 40:if(e.ctrlKey||e.metaKey){t.datepicker._adjustDate(e.target,+7,"D")}a=e.ctrlKey||e.metaKey;break;default:a=false}}else if(e.keyCode===36&&e.ctrlKey){t.datepicker._showDatepicker(this)}else{a=false}if(a){e.preventDefault();e.stopPropagation()}},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);if(t.datepicker._get(s,"constrainInput")){i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat"));n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||(n<" "||!i||i.indexOf(n)>-1)}},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal){try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n));if(i){t.datepicker._setDateFromField(n);t.datepicker._updateAlternate(n);t.datepicker._updateDatepicker(n)}}catch(s){}}return true},_showDatepicker:function(e){e=e.target||e;if(e.nodeName.toLowerCase()!=="input"){e=t("input",e.parentNode)[0]}if(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e){return}var i,n,s,r,o,l,h;i=t.datepicker._getInst(e);if(t.datepicker._curInst&&t.datepicker._curInst!==i){t.datepicker._curInst.dpDiv.stop(true,true);if(i&&t.datepicker._datepickerShowing){t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])}}n=t.datepicker._get(i,"beforeShow");s=n?n.apply(e,[e,i]):{};if(s===false){return}a(i.settings,s);i.lastVal=null;t.datepicker._lastInput=e;t.datepicker._setDateFromField(i);if(t.datepicker._inDialog){e.value=""}if(!t.datepicker._pos){t.datepicker._pos=t.datepicker._findPos(e);t.datepicker._pos[1]+=e.offsetHeight}r=false;t(e).parents().each(function(){r|=t(this).css("position")==="fixed";return!r});o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]};t.datepicker._pos=null;i.dpDiv.empty();i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});t.datepicker._updateDatepicker(i);o=t.datepicker._checkOffset(i,o,r);i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"});if(!i.inline){l=t.datepicker._get(i,"showAnim");h=t.datepicker._get(i,"duration");i.dpDiv.zIndex(t(e).zIndex()+1);t.datepicker._datepickerShowing=true;if(t.effects&&t.effects.effect[l]){i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),h)}else{i.dpDiv[l||"show"](l?h:null)}if(t.datepicker._shouldFocusInput(i)){i.input.focus()}t.datepicker._curInst=i}},_updateDatepicker:function(e){this.maxRows=4;n=e;e.dpDiv.empty().append(this._generateHTML(e));this._attachHandlers(e);e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),r=s[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(r>1){e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em")}e.dpDiv[(s[0]!==1||s[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)){e.input.focus()}if(e.yearshtml){i=e.yearshtml;setTimeout(function(){if(i===e.yearshtml&&e.yearshtml){e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml)}i=e.yearshtml=null},0)}},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());i.left-=this._get(e,"isRTL")?s-a:0;i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0;i.top-=n&&i.top===e.input.offset().top+o?t(document).scrollTop():0;i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0);i.top-=Math.min(i.top,i.top+r>h&&h>r?Math.abs(r+o):0);return i},_findPos:function(e){var i,n=this._getInst(e),s=this._get(n,"isRTL");while(e&&(e.type==="hidden"||e.nodeType!==1||t.expr.filters.hidden(e))){e=e[s?"previousSibling":"nextSibling"]}i=t(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var n,s,r,a,o=this._curInst;if(!o||e&&o!==t.data(e,i)){return}if(this._datepickerShowing){n=this._get(o,"showAnim");s=this._get(o,"duration");r=function(){t.datepicker._tidyDialog(o)};if(t.effects&&(t.effects.effect[n]||t.effects[n])){o.dpDiv.hide(n,t.datepicker._get(o,"showOptions"),s,r)}else{o.dpDiv[n==="slideDown"?"slideUp":n==="fadeIn"?"fadeOut":"hide"](n?s:null,r)}if(!n){r()}this._datepickerShowing=false;a=this._get(o,"onClose");if(a){a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(t.blockUI){t.unblockUI();t("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!t.datepicker._curInst){return}var i=t(e.target),n=t.datepicker._getInst(i[0]);if(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n){t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),r=this._getInst(s[0]);if(this._isDisabledDatepicker(s[0])){return}this._adjustInstDate(r,i+(n==="M"?this._get(r,"showCurrentAtPos"):0),n);this._updateDatepicker(r)},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);if(this._get(s,"gotoCurrent")&&s.currentDay){s.selectedDay=s.currentDay;s.drawMonth=s.selectedMonth=s.currentMonth;s.drawYear=s.selectedYear=s.currentYear}else{i=new Date;s.selectedDay=i.getDate();s.drawMonth=s.selectedMonth=i.getMonth();s.drawYear=s.selectedYear=i.getFullYear()}this._notifyChange(s);this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),r=this._getInst(s[0]);r["selected"+(n==="M"?"Month":"Year")]=r["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(r);this._adjustDate(s)},_selectDay:function(e,i,n,s){var r,a=t(e);if(t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])){return}r=this._getInst(a[0]);r.selectedDay=r.currentDay=t("a",s).html();r.selectedMonth=r.currentMonth=i;r.selectedYear=r.currentYear=n;this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),r=this._getInst(s[0]);i=i!=null?i:this._formatDate(r);if(r.input){r.input.val(i)}this._updateAlternate(r);n=this._get(r,"onSelect");if(n){n.apply(r.input?r.input[0]:null,[i,r])}else if(r.input){r.input.trigger("change")}if(r.inline){this._updateDatepicker(r)}else{this._hideDatepicker();this._lastInput=r.input[0];if(typeof r.input[0]!=="object"){r.input.focus()}this._lastInput=null}},_updateAlternate:function(e){var i,n,s,r=this._get(e,"altField");if(r){i=this._get(e,"altFormat")||this._get(e,"dateFormat");n=this._getDate(e);s=this.formatDate(i,n,this._getFormatConfig(e));t(r).each(function(){t(this).val(s)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));e=i.getTime();i.setMonth(0);i.setDate(1);return Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null){throw"Invalid arguments"}i=typeof i==="object"?i.toString():i+"";if(i===""){return null}var s,r,a,o=0,l=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h=typeof l!=="string"?l:(new Date).getFullYear()%100+parseInt(l,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,c=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,d=(n?n.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,m=-1,v=-1,y=false,b,x=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;if(i){s++}return i},w=function(t){var e=x(t),n=t==="@"?14:t==="!"?20:t==="y"&&e?4:t==="o"?3:2,s=new RegExp("^\\d{1,"+n+"}"),r=i.substring(o).match(s);if(!r){throw"Missing number at position "+o}o+=r[0].length;return parseInt(r[0],10)},_=function(e,n,s){var r=-1,a=t.map(x(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});t.each(a,function(t,e){var n=e[1];if(i.substr(o,n.length).toLowerCase()===n.toLowerCase()){r=e[0];o+=n.length;return false}});if(r!==-1){return r+1}else{throw"Unknown name at position "+o}},k=function(){if(i.charAt(o)!==e.charAt(s)){throw"Unexpected literal at position "+o}o++};for(s=0;s<e.length;s++){if(y){if(e.charAt(s)==="'"&&!x("'")){y=false}else{k()}}else{switch(e.charAt(s)){case"d":m=w("d");break;case"D":_("D",u,c);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=_("M",f,d);break;case"y":p=w("y");break;case"@":b=new Date(w("@"));p=b.getFullYear();g=b.getMonth()+1;m=b.getDate();break;case"!":b=new Date((w("!")-this._ticksTo1970)/1e4);p=b.getFullYear();g=b.getMonth()+1;m=b.getDate();break;case"'":if(x("'")){k()}else{y=true}break;default:k()}}}if(o<i.length){a=i.substr(o);if(!/^\s+/.test(a)){throw"Extra/unparsed characters found in date: "+a}}if(p===-1){p=(new Date).getFullYear()}else if(p<100){p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=h?0:-100)}if(v>-1){g=1;m=v;do{r=this._getDaysInMonth(p,g-1);if(m<=r){break}g++;m-=r}while(true)}b=this._daylightSavingAdjust(new Date(p,g-1,m));if(b.getFullYear()!==p||b.getMonth()+1!==g||b.getDate()!==m){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(t,e,i){if(!e){return""}var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;if(i){n++}return i},h=function(t,e,i){var n=""+e;if(l(t)){while(n.length<i){n="0"+n}}return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},c="",f=false;if(e){for(n=0;n<t.length;n++){if(f){if(t.charAt(n)==="'"&&!l("'")){f=false}else{c+=t.charAt(n)}}else{switch(t.charAt(n)){case"d":c+=h("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),s,r);break;case"o":c+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=h("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),a,o);break;case"y":c+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=e.getTime()*1e4+this._ticksTo1970;break;case"'":if(l("'")){c+="'"}else{f=true}break;default:c+=t.charAt(n)}}}}return c},_possibleChars:function(t){var e,i="",n=false,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;if(n){e++}return n};for(e=0;e<t.length;e++){if(n){if(t.charAt(e)==="'"&&!s("'")){n=false}else{i+=t.charAt(e)}}else{switch(t.charAt(e)){case"d":
case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":if(s("'")){i+="'"}else{n=true}break;default:i+=t.charAt(e)}}}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()===t.lastVal){return}var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),r=s,a=this._getFormatConfig(t);try{r=this.parseDate(i,n,a)||s}catch(o){n=e?"":n}t.selectedDay=r.getDate();t.drawMonth=t.selectedMonth=r.getMonth();t.drawYear=t.selectedYear=r.getFullYear();t.currentDay=n?r.getDate():0;t.currentMonth=n?r.getMonth():0;t.currentYear=n?r.getFullYear():0;this._adjustInstDate(t)},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;e.setDate(e.getDate()+t);return e},r=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=s.getFullYear(),a=s.getMonth(),o=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);while(h){switch(h[2]||"d"){case"d":case"D":o+=parseInt(h[1],10);break;case"w":case"W":o+=parseInt(h[1],10)*7;break;case"m":case"M":a+=parseInt(h[1],10);o=Math.min(o,t.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(h[1],10);o=Math.min(o,t.datepicker._getDaysInMonth(r,a));break}h=l.exec(i)}return new Date(r,a,o)},a=i==null||i===""?n:typeof i==="string"?r(i):typeof i==="number"?isNaN(i)?n:s(i):new Date(i.getTime());a=a&&a.toString()==="Invalid Date"?n:a;if(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}return this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){if(!t){return null}t.setHours(t.getHours()>12?t.getHours()+2:0);return t},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,r=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate();t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth();t.drawYear=t.selectedYear=t.currentYear=a.getFullYear();if((s!==t.selectedMonth||r!==t.selectedYear)&&!i){this._notifyChange(t)}this._adjustInstDate(t);if(t.input){t.input.val(n?"":this._formatDate(t))}},_getDate:function(t){var e=!t.currentYear||t.input&&t.input.val()===""?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){t.datepicker._selectMonthYear(n,this,"M");return false},selectYear:function(){t.datepicker._selectMonthYear(n,this,"Y");return false}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,r,a,o,l,h,u,c,f,d,p,g,m,v,y,b,x,w,_,k,C,T,D,S,M,P,A,I,E,L,N,F,O,H,z,B,R=new Date,j=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),W=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),X=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),V=this._get(t,"stepMonths"),U=q[0]!==1||q[1]!==1,K=this._daylightSavingAdjust(!t.currentDay?new Date(9999,9,9):new Date(t.currentYear,t.currentMonth,t.currentDay)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-G,tt=t.drawYear;if(J<0){J+=12;tt--}if(Z){e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate()));e=Q&&e<Q?Q:e;while(this._daylightSavingAdjust(new Date(tt,J,1))>e){J--;if(J<0){J=11;tt--}}}t.drawMonth=J;t.drawYear=tt;i=this._get(t,"prevText");i=!X?i:this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-V,1)),this._getFormatConfig(t));n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>";s=this._get(t,"nextText");s=!X?s:this.formatDate(s,this._daylightSavingAdjust(new Date(tt,J+V,1)),this._getFormatConfig(t));r=this._canAdjustMonth(t,+1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+s+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+s+"</span></a>";a=this._get(t,"currentText");o=this._get(t,"gotoCurrent")&&t.currentDay?K:j;a=!X?a:this.formatDate(a,o,this._getFormatConfig(t));l=!t.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>":"";h=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+a+"</button>":"")+(W?"":l)+"</div>":"";u=parseInt(this._get(t,"firstDay"),10);u=isNaN(u)?0:u;c=this._get(t,"showWeek");f=this._get(t,"dayNames");d=this._get(t,"dayNamesMin");p=this._get(t,"monthNames");g=this._get(t,"monthNamesShort");m=this._get(t,"beforeShowDay");v=this._get(t,"showOtherMonths");y=this._get(t,"selectOtherMonths");b=this._getDefaultDate(t);x="";w;for(_=0;_<q[0];_++){k="";this.maxRows=4;for(C=0;C<q[1];C++){T=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay));D=" ui-corner-all";S="";if(U){S+="<div class='ui-datepicker-group";if(q[1]>1){switch(C){case 0:S+=" ui-datepicker-group-first";D=" ui-corner-"+(W?"right":"left");break;case q[1]-1:S+=" ui-datepicker-group-last";D=" ui-corner-"+(W?"left":"right");break;default:S+=" ui-datepicker-group-middle";D="";break}}S+="'>"}S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&_===0?W?r:n:"")+(/all|right/.test(D)&&_===0?W?n:r:"")+this._generateMonthYearHeader(t,J,tt,Q,Z,_>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";M=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"";for(w=0;w<7;w++){P=(w+u)%7;M+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+f[P]+"'>"+d[P]+"</span></th>"}S+=M+"</tr></thead><tbody>";A=this._getDaysInMonth(tt,J);if(tt===t.selectedYear&&J===t.selectedMonth){t.selectedDay=Math.min(t.selectedDay,A)}I=(this._getFirstDayOfMonth(tt,J)-u+7)%7;E=Math.ceil((I+A)/7);L=U?this.maxRows>E?this.maxRows:E:E;this.maxRows=L;N=this._daylightSavingAdjust(new Date(tt,J,1-I));for(F=0;F<L;F++){S+="<tr>";O=!c?"":"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>";for(w=0;w<7;w++){H=m?m.apply(t.input?t.input[0]:null,[N]):[true,""];z=N.getMonth()!==J;B=z&&!y||!H[0]||Q&&N<Q||Z&&N>Z;O+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(N.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+H[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+((!z||v)&&H[2]?" title='"+H[2].replace(/'/g,"&#39;")+"'":"")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===j.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>";N.setDate(N.getDate()+1);N=this._daylightSavingAdjust(N)}S+=O+"</tr>"}J++;if(J>11){J=0;tt++}S+="</tbody></table>"+(U?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");k+=S}x+=k}x+=h;t._keyEvent=false;return x},_generateMonthYearHeader:function(t,e,i,n,s,r,a,o){var l,h,u,c,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(r||!m){x+="<span class='ui-datepicker-month'>"+a[e]+"</span>"}else{l=n&&n.getFullYear()===i;h=s&&s.getFullYear()===i;x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;u<12;u++){if((!l||u>=n.getMonth())&&(!h||u<=s.getMonth())){x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+o[u]+"</option>"}}x+="</select>"}if(!y){b+=x+(r||!(m&&v)?"&#xa0;":"")}if(!t.yearshtml){t.yearshtml="";if(r||!v){b+="<span class='ui-datepicker-year'>"+i+"</span>"}else{c=this._get(t,"yearRange").split(":");f=(new Date).getFullYear();d=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e};p=d(c[0]);g=Math.max(p,d(c[1]||""));p=n?Math.max(p,n.getFullYear()):p;g=s?Math.min(g,s.getFullYear()):g;t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;p<=g;p++){t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>"}t.yearshtml+="</select>";b+=t.yearshtml;t.yearshtml=null}}b+=this._get(t,"yearSuffix");if(y){b+=(r||!(m&&v)?"&#xa0;":"")+x}b+="</div>";return b},_adjustInstDate:function(t,e,i){var n=t.drawYear+(i==="Y"?e:0),s=t.drawMonth+(i==="M"?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+(i==="D"?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,r)));t.selectedDay=a.getDate();t.drawMonth=t.selectedMonth=a.getMonth();t.drawYear=t.selectedYear=a.getFullYear();if(i==="M"||i==="Y"){this._notifyChange(t)}},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&e<i?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");if(e){e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])}},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return e==null?[1,1]:typeof e==="number"?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:s[0]*s[1]),1));if(e<0){r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth()))}return this._isInRange(t,r)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),a=null,o=null,l=this._get(t,"yearRange");if(l){i=l.split(":");n=(new Date).getFullYear();a=parseInt(i[0],10);o=parseInt(i[1],10);if(i[0].match(/[+\-].*/)){a+=n}if(i[1].match(/[+\-].*/)){o+=n}}return(!s||e.getTime()>=s.getTime())&&(!r||e.getTime()<=r.getTime())&&(!a||e.getFullYear()>=a)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");e=typeof e!=="string"?e:(new Date).getFullYear()%100+parseInt(e,10);return{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){if(!e){t.currentDay=t.selectedDay;t.currentMonth=t.selectedMonth;t.currentYear=t.selectedYear}var s=e?typeof e==="object"?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}});function r(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){t(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){t(this).removeClass("ui-datepicker-next-hover")}}).delegate(i,"mouseover",function(){if(!t.datepicker._isDisabledDatepicker(n.inline?e.parent()[0]:n.input[0])){t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");t(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){t(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){t(this).addClass("ui-datepicker-next-hover")}}})}function a(e,i){t.extend(e,i);for(var n in i){if(i[n]==null){e[n]=i[n]}}return e}t.fn.datepicker=function(e){if(!this.length){return this}if(!t.datepicker.initialized){t(document).mousedown(t.datepicker._checkExternalClick);t.datepicker.initialized=true}if(t("#"+t.datepicker._mainDivId).length===0){t("body").append(t.datepicker.dpDiv)}var i=Array.prototype.slice.call(arguments,1);if(typeof e==="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")){return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))}if(e==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))}return this.each(function(){typeof e==="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})};t.datepicker=new s;t.datepicker.initialized=false;t.datepicker.uuid=(new Date).getTime();t.datepicker.version="1.10.3"})(jQuery);(function(t,e){var i={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},n={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;if(i<0){t(this).css("top",e.top-i)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&t.fn.draggable){this._makeDraggable()}if(this.options.resizable&&t.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return t(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}t=e.parent.children().eq(e.index);if(t.length&&t[0]!==this.element[0]){t.before(this.element)}else{e.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;if(!this._isOpen||this._trigger("beforeClose",e)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){t(this.document[0].activeElement).blur()}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(i&&!e){this._trigger("focus",t)}return i},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=t(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var t=this.element.find("[autofocus]");if(!t.length){t=this.element.find(":tabbable")}if(!t.length){t=this.uiDialogButtonPane.find(":tabbable")}if(!t.length){t=this.uiDialogTitlebarClose.filter(":tabbable")}if(!t.length){t=this.uiDialog}t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);if(!i){this._focusTabbable()}}e.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault();this.close(e);return}if(e.keyCode!==t.ui.keyCode.TAB){return}var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");if((e.target===s[0]||e.target===this.uiDialog[0])&&!e.shiftKey){n.focus(1);e.preventDefault()}else if((e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey){s.focus(1);e.preventDefault()}},mousedown:function(t){if(this._moveToTop(t)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(e){if(!t(e.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault();this.close(t)}});e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){if(!this.options.title){t.html("&#160;")}t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(t.isEmptyObject(i)||t.isArray(i)&&!i.length){this.uiDialog.removeClass("ui-dialog-buttons");return}t.each(i,function(i,n){var s,r;n=t.isFunction(n)?{click:n,text:i}:n;n=t.extend({type:"button"},n);s=n.click;n.click=function(){s.apply(e.element[0],arguments)};r={icons:n.icons,text:n.showText};delete n.icons;delete n.showText;t("<button></button>",n).button(r).appendTo(e.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,i=this.options;function n(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,s){t(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",i,n(s))},drag:function(t,i){e._trigger("drag",t,n(i))},stop:function(s,r){i.position=[r.position.left-e.document.scrollLeft(),r.position.top-e.document.scrollTop()];t(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",s,n(r))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,s=this.uiDialog.css("position"),r=typeof n==="string"?n:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,n){t(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",i,a(n))},resize:function(t,i){e._trigger("resize",t,a(i))},stop:function(n,s){i.height=t(this).height();i.width=t(this).width();t(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",n,a(s))}}).css("position",s)},_minHeight:function(){var t=this.options;return t.height==="auto"?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");if(!t){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!t){this.uiDialog.hide()}},_setOptions:function(e){var s=this,r=false,a={};t.each(e,function(t,e){s._setOption(t,e);if(t in i){r=true}if(t in n){a[t]=e}});if(r){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",a)}},_setOption:function(t,e){var i,n,s=this.uiDialog;if(t==="dialogClass"){s.removeClass(this.options.dialogClass).addClass(e)}if(t==="disabled"){return}this._super(t,e);if(t==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(t==="buttons"){this._createButtons()}if(t==="closeText"){this.uiDialogTitlebarClose.button({label:""+e})}if(t==="draggable"){i=s.is(":data(ui-draggable)");if(i&&!e){s.draggable("destroy")}if(!i&&e){this._makeDraggable()}}if(t==="position"){this._position()}if(t==="resizable"){n=s.is(":data(ui-resizable)");if(n&&!e){s.resizable("destroy")}if(n&&typeof e==="string"){s.resizable("option","handles",e)}if(!n&&e!==false){this._makeResizable()}}if(t==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(n.minWidth>n.width){n.width=n.minWidth}t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();e=Math.max(0,n.minHeight-t);i=typeof n.maxHeight==="number"?Math.max(0,n.maxHeight-t):"none";if(n.height==="auto"){this.element.css({minHeight:e,maxHeight:i,height:"auto"})}else{this.element.height(Math.max(0,n.height-t))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(t(e.target).closest(".ui-dialog").length){return true}return!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var e=this,i=this.widgetFullName;if(!t.ui.dialog.overlayInstances){this._delay(function(){if(t.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(n){if(!e._allowInteraction(n)){n.preventDefault();t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable()}})}})}this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});t.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){t.ui.dialog.overlayInstances--;if(!t.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});t.ui.dialog.overlayInstances=0;if(t.uiBackCompat!==false){t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e=this.options.position,i=[],n=[0,0],s;if(e){if(typeof e==="string"||typeof e==="object"&&"0"in e){i=e.split?e.split(" "):[e[0],e[1]];if(i.length===1){i[1]=i[0]}t.each(["left","top"],function(t,e){if(+i[t]===i[t]){n[t]=i[t];i[t]=e}});e={my:i[0]+(n[0]<0?n[0]:"+"+n[0])+" "+i[1]+(n[1]<0?n[1]:"+"+n[1]),at:i.join(" ")}}e=t.extend({},t.ui.dialog.prototype.options.position,e)}else{e=t.ui.dialog.prototype.options.position}s=this.uiDialog.is(":visible");if(!s){this.uiDialog.show()}this.uiDialog.position(e);if(!s){this.uiDialog.hide()}}})}})(jQuery);(function(t,e){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){if(this.options.disabled){t.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");if(!this.mouseHandled&&i.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(e);if(i.has(".ui-menu").length){this.expand(e)}else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);if(!e){this.focus(t,i)}},blur:function(e){this._delay(function(){if(!t.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(e)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){if(!t(e.target).closest(".ui-menu").length){this.collapseAll(e)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);if(e.data("ui-menu-submenu-carat")){e.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,s,r,a,o=true;function l(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(e)}break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=false;n=this.previousFilter||"";s=String.fromCharCode(e.keyCode);r=false;clearTimeout(this.filterTimer);if(s===n){r=true}else{s=n+s}a=new RegExp("^"+l(s),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())});i=r&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i;if(!i.length){s=String.fromCharCode(e.keyCode);a=new RegExp("^"+l(s),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})}if(i.length){this.focus(e,i);if(i.length>1){this.previousFilter=s;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(o){e.preventDefault()}},_activate:function(t){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(t)}else{this.select(t)}}},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),s=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",true);n.attr("aria-haspopup","true").prepend(s);e.attr("aria-labelledby",n.attr("id"))});e=n.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var e=t(this);if(!/[^\-\u2014\u2013\s]/.test(e.text())){e.addClass("ui-widget-content ui-menu-divider")}});e.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!t.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if(t==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu)}this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&t.type==="focus");this._scrollIntoView(e);this.active=e.first();n=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",n.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(t&&t.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}i=e.children(".ui-menu");if(i.length&&/^mouse/.test(t.type)){this._startOpening(i)}this.activeMenu=e.parent();this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,r,a,o;if(this._hasScroll()){i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0;n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0;s=e.offset().top-this.activeMenu.offset().top-i-n;r=this.activeMenu.scrollTop();a=this.activeMenu.height();o=e.height();if(s<0){this.activeMenu.scrollTop(r+s)}else if(s+o>a){this.activeMenu.scrollTop(r+s-a+o)}}},blur:function(t,e){if(!e){clearTimeout(this.timer)}if(!this.active){
return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",t,{item:this.active})},_startOpening:function(t){clearTimeout(this.timer);if(t.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(t)},this.delay)},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer);this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));if(!n.length){n=this.element}this._close(n);this.blur(e);this.activeMenu=n},this.delay)},_close:function(t){if(!t){t=this.active?this.active.parent():this.element}t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(e&&e.length){this._close();this.focus(t,e)}},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(e&&e.length){this._open(e.parent());this._delay(function(){this.focus(t,e)})}},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;if(this.active){if(t==="first"||t==="last"){n=this.active[t==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{n=this.active[t+"All"](".ui-menu-item").eq(0)}}if(!n||!n.length||!this.active){n=this.activeMenu.children(".ui-menu-item")[e]()}this.focus(i,n)},nextPage:function(e){var i,n,s;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){n=this.active.offset().top;s=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){i=t(this);return i.offset().top-n-s<0});this.focus(e,i)}else{this.focus(e,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(e){var i,n,s;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){n=this.active.offset().top;s=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){i=t(this);return i.offset().top-n+s>0});this.focus(e,i)}else{this.focus(e,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(e,true)}this._trigger("select",e,i)}})})(jQuery);(function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(t){if(t===e){return this.options.value}this.options.value=this._constrainedValue(t);this._refreshValue()},_constrainedValue:function(t){if(t===e){t=this.options.value}this.indeterminate=t===false;if(typeof t!=="number"){t=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value;this._super(t);this.options.value=this._constrainedValue(e);this._refreshValue()},_setOption:function(t,e){if(t==="max"){e=Math.max(this.min,e)}this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==e){this.oldValue=e;this._trigger("change")}if(e===this.options.max){this._trigger("complete")}}})})(jQuery);(function(t,e){var i=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];i=n.values&&n.values.length||1;if(s.length>i){s.slice(i).remove();s=s.slice(0,i)}for(e=s.length;e<i;e++){a.push(r)}this.handles=s.add(t(a.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";if(e.range){if(e.range===true){if(!e.values){e.values=[this._valueMin(),this._valueMin()]}else if(e.values.length&&e.values.length!==2){e.values=[e.values[0],e.values[0]]}else if(t.isArray(e.values)){e.values=e.values.slice(0)}}if(!this.range||!this.range.length){this.range=t("<div></div>").appendTo(this.element);i="ui-slider-range"+" ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(i+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))}else{this.range=t([])}},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t);this._on(t,this._handleEvents);this._hoverable(t);this._focusable(t)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,r,a,o,l,h,u=this,c=this.options;if(c.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();i={x:e.pageX,y:e.pageY};n=this._normValueFromMouse(i);s=this._valueMax()-this._valueMin()+1;this.handles.each(function(e){var i=Math.abs(n-u.values(e));if(s>i||s===i&&(e===u._lastChangedValue||u.values(e)===c.min)){s=i;r=t(this);a=e}});o=this._start(e,a);if(o===false){return false}this._mouseSliding=true;this._handleIndex=a;r.addClass("ui-state-active").focus();l=r.offset();h=!t(e.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-r.width()/2,top:e.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(e,a,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);this._slide(t,this._handleIndex,i);return false},_mouseStop:function(t){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(t,this._handleIndex);this._change(t,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;if(this.orientation==="horizontal"){e=this.elementSize.width;i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}n=i/e;if(n>1){n=1}if(n<0){n=0}if(this.orientation==="vertical"){n=1-n}s=this._valueMax()-this._valueMin();r=this._valueMin()+n*s;return this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(e);i.values=this.values()}return this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,r;if(this.options.values&&this.options.values.length){n=this.values(e?0:1);if(this.options.values.length===2&&this.options.range===true&&(e===0&&i>n||e===1&&i<n)){i=n}if(i!==this.values(e)){s=this.values();s[e]=i;r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s});n=this.values(e?0:1);if(r!==false){this.values(e,i,true)}}}else{if(i!==this.value()){r=this._trigger("slide",t,{handle:this.handles[e],value:i});if(r!==false){this.value(i)}}}},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(e);i.values=this.values()}this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(e);i.values=this.values()}this._lastChangedValue=e;this._trigger("change",t,i)}},value:function(t){if(arguments.length){this.options.value=this._trimAlignValue(t);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,i){var n,s,r;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(i);this._refreshValue();this._change(null,e);return}if(arguments.length){if(t.isArray(arguments[0])){n=this.options.values;s=arguments[0];for(r=0;r<n.length;r+=1){n[r]=this._trimAlignValue(s[r]);this._change(null,r)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,i){var n,s=0;if(e==="range"&&this.options.range===true){if(i==="min"){this.options.value=this._values(0);this.options.values=null}else if(i==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(t.isArray(this.options.values)){s=this.options.values.length}t.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(n=0;n<s;n+=1){this._change(null,n)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var t=this.options.value;t=this._trimAlignValue(t);return t},_values:function(t){var e,i,n;if(arguments.length){e=this.options.values[t];e=this._trimAlignValue(e);return e}else if(this.options.values&&this.options.values.length){i=this.options.values.slice();for(n=0;n<i.length;n+=1){i[n]=this._trimAlignValue(i[n])}return i}else{return[]}},_trimAlignValue:function(t){if(t<=this._valueMin()){return this._valueMin()}if(t>=this._valueMax()){return this._valueMax()}var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;if(Math.abs(i)*2>=e){n+=i>0?e:-e}return parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,r,a=this.options.range,o=this.options,l=this,h=!this._animateOff?o.animate:false,u={};if(this.options.values&&this.options.values.length){this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100;u[l.orientation==="horizontal"?"left":"bottom"]=i+"%";t(this).stop(1,1)[h?"animate":"css"](u,o.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(n===0){l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},o.animate)}if(n===1){l.range[h?"animate":"css"]({width:i-e+"%"},{queue:false,duration:o.animate})}}else{if(n===0){l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},o.animate)}if(n===1){l.range[h?"animate":"css"]({height:i-e+"%"},{queue:false,duration:o.animate})}}}e=i})}else{n=this.value();s=this._valueMin();r=this._valueMax();i=r!==s?(n-s)/(r-s)*100:0;u[this.orientation==="horizontal"?"left":"bottom"]=i+"%";this.handle.stop(1,1)[h?"animate":"css"](u,o.animate);if(a==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},o.animate)}if(a==="max"&&this.orientation==="horizontal"){this.range[h?"animate":"css"]({width:100-i+"%"},{queue:false,duration:o.animate})}if(a==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},o.animate)}if(a==="max"&&this.orientation==="vertical"){this.range[h?"animate":"css"]({height:100-i+"%"},{queue:false,duration:o.animate})}}},_handleEvents:{keydown:function(e){var n,s,r,a,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:e.preventDefault();if(!this._keySliding){this._keySliding=true;t(e.target).addClass("ui-state-active");n=this._start(e,o);if(n===false){return}}break}a=this.options.step;if(this.options.values&&this.options.values.length){s=r=this.values(o)}else{s=r=this.value()}switch(e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax()){return}r=this._trimAlignValue(s+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin()){return}r=this._trimAlignValue(s-a);break}this._slide(e,o,r)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,i);this._change(e,i);t(e.target).removeClass("ui-state-active")}}}})})(jQuery);(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments);this._refresh();if(e!==this.element.val()){this._trigger("change")}}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;t.each(["min","max","step"],function(t,n){var s=i.attr(n);if(s!==undefined&&s.length){e[n]=s}});return e},_events:{keydown:function(t){if(this._start(t)&&this._keydown(t)){t.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",t)}},mousewheel:function(t,e){if(!e){return}if(!this.spinning&&!this._start(t)){return false}this._spin((e>0?1:-1)*this.options.step,t);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(t)}},100);t.preventDefault()},"mousedown .ui-spinner-button":function(e){var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function n(){var t=this.element[0]===this.document[0].activeElement;if(!t){this.element.focus();this.previous=i;this._delay(function(){this.previous=i})}}e.preventDefault();n.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;n.call(this)});if(this._start(e)===false){return}this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!t(e.currentTarget).hasClass("ui-state-active")){return}if(this._start(e)===false){return false}this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(t.height()*.5)&&t.height()>0){t.height(t.height())}if(this.options.disabled){this.disable()}},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:this._repeat(null,1,e);return true;case n.DOWN:this._repeat(null,-1,e);return true;case n.PAGE_UP:this._repeat(null,i.page,e);return true;case n.PAGE_DOWN:this._repeat(null,-i.page,e);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){if(!this.spinning&&this._trigger("start",t)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(t,e,i){t=t||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,e,i)},t);this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;if(!this.counter){this.counter=1}i=this._adjustValue(i+t*this._increment(this.counter));if(!this.spinning||this._trigger("spin",e,{value:i})!==false){this._value(i);this.counter++}},_increment:function(e){var i=this.options.incremental;if(i){return t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1)}return 1},_precision:function(){var t=this._precisionOf(this.options.step);if(this.options.min!==null){t=Math.max(t,this._precisionOf(this.options.min))}return t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;e=n.min!==null?n.min:0;i=t-e;i=Math.round(i/n.step)*n.step;t=e+i;t=parseFloat(t.toFixed(this._precision()));if(n.max!==null&&t>n.max){return n.max}if(n.min!==null&&t<n.min){return n.min}return t},_stop:function(t){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",t)},_setOption:function(t,e){if(t==="culture"||t==="numberFormat"){var i=this._parse(this.element.val());this.options[t]=e;this.element.val(this._format(i));return}if(t==="max"||t==="min"||t==="step"){if(typeof e==="string"){e=this._parse(e)}}if(t==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)}this._super(t,e);if(t==="disabled"){if(e){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:e(function(t){this._super(t);this._value(this.element.val())}),_parse:function(t){if(typeof t==="string"&&t!==""){t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t}return t===""||isNaN(t)?null:t},_format:function(t){if(t===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;if(t!==""){i=this._parse(t);if(i!==null){if(!e){i=this._adjustValue(i)}t=this._format(i)}}this.element.val(t);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){if(this._start()){this._spin((t||1)*this.options.step);this._stop()}},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){if(this._start()){this._spin((t||1)*-this.options.step);this._stop()}},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length){return this._parse(this.element.val())}e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})})(jQuery);(function(t,e){var i=0,n=/#.*$/;function s(){return++i}function r(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(n,""))===decodeURIComponent(location.href.replace(n,""))}t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){if(t(this).is(".ui-state-disabled")){e.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(t(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();i.active=this._initialActive();if(t.isArray(i.disabled)){i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(i.active)}else{this.active=t()}this._refresh();if(this.active.length){this.load(i.active)}},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);if(e===null){if(n){this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===n){e=i;return false}})}if(e===null){e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(e===null||e===-1){e=this.tabs.length?0:false}}if(e!==false){e=this.tabs.index(this.tabs.eq(e));if(e===-1){e=i?false:0}}if(!i&&e===false&&this.anchors.length){e=0}return e},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?t():this._getPanelForTab(this.active)}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=true;if(this._handlePageNav(e)){return}switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=false;n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:e.preventDefault();clearTimeout(this.activating);this._activate(n);return;case t.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(n===this.options.active?false:n);return;default:return}e.preventDefault();clearTimeout(this.activating);n=this._focusNextTab(n,s);if(!e.ctrlKey){i.attr("aria-selected","false");this.tabs.eq(n).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",n)},this.delay)}},_panelKeydown:function(e){if(this._handlePageNav(e)){return}if(e.ctrlKey&&e.keyCode===t.ui.keyCode.UP){e.preventDefault();this.active.focus()}},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(e,i){var n=this.tabs.length-1;function s(){if(e>n){e=0}if(e<0){e=n}return e}while(t.inArray(s(),this.options.disabled)!==-1){e=i?e+1:e-1}return e},_focusNextTab:function(t,e){t=this._findNextTab(t,e);this.tabs.eq(t).focus();return t},_setOption:function(t,e){if(t==="active"){this._activate(e);return}if(t==="disabled"){this._setupDisabled(e);return}this._super(t,e);if(t==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",e);if(!e&&this.options.active===false){this._activate(0)}}if(t==="event"){this._setupEvents(e)}if(t==="heightStyle"){this._setupHeightStyle(e)}},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+s()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)});this._processTabs();if(e.active===false||!this.anchors.length){e.active=false;this.active=t()}else if(this.active.length&&!t.contains(this.tablist[0],this.active[0])){if(this.tabs.length===e.disabled.length){e.active=false;this.active=t()}else{this._activate(this._findNextTab(Math.max(0,e.active-1),false))}}else{e.active=this.tabs.index(this.active)}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=t();this.anchors.each(function(i,n){var s,a,o,l=t(n).uniqueId().attr("id"),h=t(n).closest("li"),u=h.attr("aria-controls");if(r(n)){s=n.hash;a=e.element.find(e._sanitizeSelector(s))}else{o=e._tabId(h);s="#"+o;a=e.element.find(s);if(!a.length){a=e._createPanel(o);a.insertAfter(e.panels[i-1]||e.tablist)}a.attr("aria-live","polite")}if(a.length){e.panels=e.panels.add(a)}if(u){h.data("ui-tabs-aria-controls",u)}h.attr({"aria-controls":s.substring(1),"aria-labelledby":l});a.attr("aria-labelledby",l)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(e){if(t.isArray(e)){if(!e.length){e=false}else if(e.length===this.anchors.length){e=true}}for(var i=0,n;n=this.tabs[i];i++){if(e===true||t.inArray(i,e)!==-1){t(n).addClass("ui-state-disabled").attr("aria-disabled","true")}else{t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};if(e){t.each(e.split(" "),function(t,e){i[e]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();if(e==="fill"){i=n.height();i-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");if(n==="absolute"||n==="fixed"){return}i-=e.outerHeight(true)});this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(true)});this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else if(e==="auto"){i=0;this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i)}},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),r=s.closest("li"),a=r[0]===n[0],o=a&&i.collapsible,l=o?t():this._getPanelForTab(r),h=!n.length?t():this._getPanelForTab(n),u={oldTab:n,oldPanel:h,newTab:o?t():r,newPanel:l};e.preventDefault();if(r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,u)===false){return}i.active=o?false:this.tabs.index(r);this.active=a?t():r;if(this.xhr){this.xhr.abort()}if(!h.length&&!l.length){t.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(l.length){this.load(this.tabs.index(r),e)}this._toggle(e,u)},_toggle:function(e,i){var n=this,s=i.newPanel,r=i.oldPanel;this.running=true;function a(){n.running=false;n._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(s.length&&n.options.show){n._show(s,n.options.show,a)}else{s.show();a()}}if(r.length&&this.options.hide){this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()})}else{i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");r.hide();o()}r.attr({"aria-expanded":"false","aria-hidden":"true"});i.oldTab.attr("aria-selected","false");if(s.length&&r.length){i.oldTab.attr("tabIndex",-1)}else if(s.length){this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1)}s.attr({"aria-expanded":"true","aria-hidden":"false"});i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);if(n[0]===this.active[0]){return}if(!n.length){n=this.active}i=n.find(".ui-tabs-anchor")[0];this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop})},_findActive:function(e){return e===false?t():this.tabs.eq(e)},_getIndex:function(t){if(typeof t==="string"){t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))}return t},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");
this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(t.data(this,"ui-tabs-destroy")){t(this).remove()}else{t(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");if(i){e.attr("aria-controls",i).removeData("ui-tabs-aria-controls")}else{e.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(i){var n=this.options.disabled;if(n===false){return}if(i===e){n=false}else{i=this._getIndex(i);if(t.isArray(n)){n=t.map(n,function(t){return t!==i?t:null})}else{n=t.map(this.tabs,function(t,e){return e!==i?e:null})}}this._setupDisabled(n)},disable:function(i){var n=this.options.disabled;if(n===true){return}if(i===e){n=true}else{i=this._getIndex(i);if(t.inArray(i,n)!==-1){return}if(t.isArray(n)){n=t.merge([i],n).sort()}else{n=[i]}}this._setupDisabled(n)},load:function(e,i){e=this._getIndex(e);var n=this,s=this.tabs.eq(e),a=s.find(".ui-tabs-anchor"),o=this._getPanelForTab(s),l={tab:s,panel:o};if(r(a[0])){return}this.xhr=t.ajax(this._ajaxSettings(a,i,l));if(this.xhr&&this.xhr.statusText!=="canceled"){s.addClass("ui-tabs-loading");o.attr("aria-busy","true");this.xhr.success(function(t){setTimeout(function(){o.html(t);n._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){if(e==="abort"){n.panels.stop(false,true)}s.removeClass("ui-tabs-loading");o.removeAttr("aria-busy");if(t===n.xhr){delete n.xhr}},1)})}},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,r){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery);(function(t){var e=0;function i(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i);e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function n(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);if(s!==-1){n.splice(s,1)}e.removeData("ui-tooltip-id");n=t.trim(n.join(" "));if(n){e.attr("aria-describedby",n)}else{e.removeAttr("aria-describedby")}}t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,i){var n=this;if(e==="disabled"){this[i?"_disable":"_enable"]();this.options[e]=i;return}this._super(e,i);if(e==="content"){t.each(this.tooltips,function(t,e){n._updateContent(e)})}},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0];e.close(s,true)});this.element.find(this.options.items).addBack().each(function(){var e=t(this);if(e.is("[title]")){e.data("ui-tooltip-title",e.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);if(!n.length||n.data("ui-tooltip-id")){return}if(n.attr("title")){n.data("ui-tooltip-title",n.attr("title"))}n.data("ui-tooltip-open",true);if(e&&e.type==="mouseover"){n.parents().each(function(){var e=t(this),n;if(e.data("ui-tooltip-open")){n=t.Event("blur");n.target=n.currentTarget=this;i.close(n,true)}if(e.attr("title")){e.uniqueId();i.parents[this.id]={element:this,title:e.attr("title")};e.attr("title","")}})}this._updateContent(n,e)},_updateContent:function(t,e){var i,n=this.options.content,s=this,r=e?e.type:null;if(typeof n==="string"){return this._open(e,t,n)}i=n.call(t[0],function(i){if(!t.data("ui-tooltip-open")){return}s._delay(function(){if(e){e.type=r}this._open(e,t,i)})});if(i){this._open(e,t,i)}},_open:function(e,n,s){var r,a,o,l=t.extend({},this.options.position);if(!s){return}r=this._find(n);if(r.length){r.find(".ui-tooltip-content").html(s);return}if(n.is("[title]")){if(e&&e.type==="mouseover"){n.attr("title","")}else{n.removeAttr("title")}}r=this._tooltip(n);i(n,r.attr("id"));r.find(".ui-tooltip-content").html(s);function h(t){l.of=t;if(r.is(":hidden")){return}r.position(l)}if(this.options.track&&e&&/^mouse/.test(e.type)){this._on(this.document,{mousemove:h});h(e)}else{r.position(t.extend({of:n},this.options.position))}r.hide();this._show(r,this.options.show);if(this.options.show&&this.options.show.delay){o=this.delayedShow=setInterval(function(){if(r.is(":visible")){h(l.of);clearInterval(o)}},t.fx.interval)}this._trigger("open",e,{tooltip:r});a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0];this.close(i,true)}},remove:function(){this._removeTooltip(r)}};if(!e||e.type==="mouseover"){a.mouseleave="close"}if(!e||e.type==="focusin"){a.focusout="close"}this._on(true,n,a)},close:function(e){var i=this,s=t(e?e.currentTarget:this.element),r=this._find(s);if(this.closing){return}clearInterval(this.delayedShow);if(s.data("ui-tooltip-title")){s.attr("title",s.data("ui-tooltip-title"))}n(s);r.stop(true);this._hide(r,this.options.hide,function(){i._removeTooltip(t(this))});s.removeData("ui-tooltip-open");this._off(s,"mouseleave focusout keyup");if(s[0]!==this.element[0]){this._off(s,"remove")}this._off(this.document,"mousemove");if(e&&e.type==="mouseleave"){t.each(this.parents,function(e,n){t(n.element).attr("title",n.title);delete i.parents[e]})}this.closing=true;this._trigger("close",e,{tooltip:r});this.closing=false},_tooltip:function(i){var n="ui-tooltip-"+e++,s=t("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));t("<div>").addClass("ui-tooltip-content").appendTo(s);s.appendTo(this.document[0].body);this.tooltips[n]=i;return s},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove();delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0];e.close(s,true);t("#"+i).remove();if(n.data("ui-tooltip-title")){n.attr("title",n.data("ui-tooltip-title"));n.removeData("ui-tooltip-title")}})}})})(jQuery);(function(t,e){var i="ui-effects-";t.effects={effect:{}};(function(t,e){var i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",n=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1]*2.55,t[2]*2.55,t[3]*2.55,t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],r=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},o={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},l=r.support={},h=t("<p>")[0],u,c=t.each;h.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=h.style.backgroundColor.indexOf("rgba")>-1;c(a,function(t,e){e.cache="_"+t;e.props.alpha={idx:3,type:"percent",def:1}});function f(t,e,i){var n=o[e.type]||{};if(t==null){return i||!e.def?null:e.def}t=n.floor?~~t:parseFloat(t);if(isNaN(t)){return e.def}if(n.mod){return(t+n.mod)%n.mod}return 0>t?0:n.max<t?n.max:t}function d(e){var i=r(),n=i._rgba=[];e=e.toLowerCase();c(s,function(t,s){var r,o=s.re.exec(e),l=o&&s.parse(o),h=s.space||"rgba";if(l){r=i[h](l);i[a[h].cache]=r[a[h].cache];n=i._rgba=r._rgba;return false}});if(n.length){if(n.join()==="0,0,0,0"){t.extend(n,u.transparent)}return i}return u[e]}r.fn=t.extend(r.prototype,{parse:function(i,n,s,o){if(i===e){this._rgba=[null,null,null,null];return this}if(i.jquery||i.nodeType){i=t(i).css(n);n=e}var l=this,h=t.type(i),p=this._rgba=[];if(n!==e){i=[i,n,s,o];h="array"}if(h==="string"){return this.parse(d(i)||u._default)}if(h==="array"){c(a.rgba.props,function(t,e){p[e.idx]=f(i[e.idx],e)});return this}if(h==="object"){if(i instanceof r){c(a,function(t,e){if(i[e.cache]){l[e.cache]=i[e.cache].slice()}})}else{c(a,function(e,n){var s=n.cache;c(n.props,function(t,e){if(!l[s]&&n.to){if(t==="alpha"||i[t]==null){return}l[s]=n.to(l._rgba)}l[s][e.idx]=f(i[t],e,true)});if(l[s]&&t.inArray(null,l[s].slice(0,3))<0){l[s][3]=1;if(n.from){l._rgba=n.from(l[s])}}})}return this}},is:function(t){var e=r(t),i=true,n=this;c(a,function(t,s){var r,a=e[s.cache];if(a){r=n[s.cache]||s.to&&s.to(n._rgba)||[];c(s.props,function(t,e){if(a[e.idx]!=null){i=a[e.idx]===r[e.idx];return i}})}return i});return i},_space:function(){var t=[],e=this;c(a,function(i,n){if(e[n.cache]){t.push(i)}});return t.pop()},transition:function(t,e){var i=r(t),n=i._space(),s=a[n],l=this.alpha()===0?r("transparent"):this,h=l[s.cache]||s.to(l._rgba),u=h.slice();i=i[s.cache];c(s.props,function(t,n){var s=n.idx,r=h[s],a=i[s],l=o[n.type]||{};if(a===null){return}if(r===null){u[s]=a}else{if(l.mod){if(a-r>l.mod/2){r+=l.mod}else if(r-a>l.mod/2){r-=l.mod}}u[s]=f((a-r)*e+r,n)}});return this[n](u)},blend:function(e){if(this._rgba[3]===1){return this}var i=this._rgba.slice(),n=i.pop(),s=r(e)._rgba;return r(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return t==null?e>2?1:0:t});if(i[3]===1){i.pop();e="rgb("}return e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){if(t==null){t=e>2?1:0}if(e&&e<3){t=Math.round(t*100)+"%"}return t});if(i[3]===1){i.pop();e="hsl("}return e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();if(e){i.push(~~(n*255))}return"#"+t.map(i,function(t){t=(t||0).toString(16);return t.length===1?"0"+t:t}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});r.fn.parse.prototype=r.fn;function p(t,e,i){i=(i+1)%1;if(i*6<1){return t+(e-t)*i*6}if(i*2<1){return e}if(i*3<2){return t+(e-t)*(2/3-i)*6}return t}a.hsla.to=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var e=t[0]/255,i=t[1]/255,n=t[2]/255,s=t[3],r=Math.max(e,i,n),a=Math.min(e,i,n),o=r-a,l=r+a,h=l*.5,u,c;if(a===r){u=0}else if(e===r){u=60*(i-n)/o+360}else if(i===r){u=60*(n-e)/o+120}else{u=60*(e-i)/o+240}if(o===0){c=0}else if(h<=.5){c=o/l}else{c=o/(2-l)}return[Math.round(u)%360,c,h,s==null?1:s]};a.hsla.from=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var e=t[0]/360,i=t[1],n=t[2],s=t[3],r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(p(a,r,e+1/3)*255),Math.round(p(a,r,e)*255),Math.round(p(a,r,e-1/3)*255),s]};c(a,function(i,s){var a=s.props,o=s.cache,l=s.to,h=s.from;r.fn[i]=function(i){if(l&&!this[o]){this[o]=l(this._rgba)}if(i===e){return this[o].slice()}var n,s=t.type(i),u=s==="array"||s==="object"?i:arguments,d=this[o].slice();c(a,function(t,e){var i=u[s==="object"?t:e.idx];if(i==null){i=d[e.idx]}d[e.idx]=f(i,e)});if(h){n=r(h(d));n[o]=d;return n}else{return r(d)}};c(a,function(e,s){if(r.fn[e]){return}r.fn[e]=function(r){var a=t.type(r),o=e==="alpha"?this._hsla?"hsla":"rgba":i,l=this[o](),h=l[s.idx],u;if(a==="undefined"){return h}if(a==="function"){r=r.call(this,h);a=t.type(r)}if(r==null&&s.empty){return this}if(a==="string"){u=n.exec(r);if(u){r=h+parseFloat(u[2])*(u[1]==="+"?1:-1)}}l[s.idx]=r;return this[o](l)}})});r.hook=function(e){var i=e.split(" ");c(i,function(e,i){t.cssHooks[i]={set:function(e,n){var s,a,o="";if(n!=="transparent"&&(t.type(n)!=="string"||(s=d(n)))){n=r(s||n);if(!l.rgba&&n._rgba[3]!==1){a=i==="backgroundColor"?e.parentNode:e;while((o===""||o==="transparent")&&a&&a.style){try{o=t.css(a,"backgroundColor");a=a.parentNode}catch(h){}}n=n.blend(o&&o!=="transparent"?o:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}};t.fx.step[i]=function(e){if(!e.colorInit){e.start=r(e.elem,i);e.end=r(e.end);e.colorInit=true}t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})};r.hook(i);t.cssHooks.borderColor={expand:function(t){var e={};c(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t});return e}};u=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){if(t.end!=="none"&&!t.setAttr||t.pos===1&&!t.setAttr){jQuery.style(t.elem,i,t.end);t.setAttr=true}}});function s(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]]){n=s.length;while(n--){i=s[n];if(typeof s[i]==="string"){r[t.camelCase(i)]=s[i]}}}else{for(i in s){if(typeof s[i]==="string"){r[i]=s[i]}}}return r}function r(e,i){var s={},r,a;for(r in i){a=i[r];if(e[r]!==a){if(!n[r]){if(t.fx.step[r]||!isNaN(parseFloat(a))){s[r]=a}}}}return s}if(!t.fn.addBack){t.fn.addBack=function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}}t.effects.animateClass=function(e,n,a,o){var l=t.speed(n,a,o);return this.queue(function(){var n=t(this),a=n.attr("class")||"",o,h=l.children?n.find("*").addBack():n;h=h.map(function(){var e=t(this);return{el:e,start:s(this)}});o=function(){t.each(i,function(t,i){if(e[i]){n[i+"Class"](e[i])}})};o();h=h.map(function(){this.end=s(this.el[0]);this.diff=r(this.start,this.end);return this});n.attr("class",a);h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:false,complete:function(){i.resolve(e)}});this.el.animate(this.diff,n);return i.promise()});t.when.apply(t,h.get()).done(function(){o();t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})});l.complete.call(n[0])})})};t.fn.extend({addClass:function(e){return function(i,n,s,r){return n?t.effects.animateClass.call(this,{add:i},n,s,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,s,r,a,o){if(typeof s==="boolean"||s===e){if(!r){return i.apply(this,arguments)}else{return t.effects.animateClass.call(this,s?{add:n}:{remove:n},r,a,o)}}else{return t.effects.animateClass.call(this,{toggle:n},s,r,a)}}}(t.fn.toggleClass),switchClass:function(e,i,n,s,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,r)}})})();(function(){t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;n<e.length;n++){if(e[n]!==null){t.data(i+e[n],t[0].style[e[n]])}}},restore:function(t,n){var s,r;for(r=0;r<n.length;r++){if(n[r]!==null){s=t.data(i+n[r]);if(s===e){s=""}t.css(n[r],s)}}},setMode:function(t,e){if(e==="toggle"){e=t.is(":hidden")?"show":"hide"}return e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper")){return e.parent()}var i={width:e.outerWidth(true),height:e.outerHeight(true),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(a){r=document.body}e.wrap(n);if(e[0]===r||t.contains(e[0],r)){t(r).focus()}n=e.parent();if(e.css("position")==="static"){n.css({position:"relative"});e.css({position:"relative"})}else{t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")});t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n);if(isNaN(parseInt(i[n],10))){i[n]="auto"}});e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}e.css(s);return n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;if(e.parent().is(".ui-effects-wrapper")){e.parent().replaceWith(e);if(e[0]===i||t.contains(e[0],i)){t(i).focus()}}return e},setTransition:function(e,i,n,s){s=s||{};t.each(i,function(t,i){var r=e.cssUnit(i);if(r[0]>0){s[i]=r[0]*n+r[1]}});return s}});function n(e,i,n,s){if(t.isPlainObject(e)){i=e;e=e.effect}e={effect:e};if(i==null){i={}}if(t.isFunction(i)){s=i;n=null;i={}}if(typeof i==="number"||t.fx.speeds[i]){s=n;n=i;i={}}if(t.isFunction(n)){s=n;n=null}if(i){t.extend(e,i)}n=n||i.duration;e.duration=t.fx.off?0:typeof n==="number"?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default;e.complete=s||i.complete;return e}function s(e){if(!e||typeof e==="number"||t.fx.speeds[e]){return true}if(typeof e==="string"&&!t.effects.effect[e]){return true}if(t.isFunction(e)){return true}if(typeof e==="object"&&!e.effect){return true}return false}t.fn.extend({effect:function(){var e=n.apply(this,arguments),i=e.mode,s=e.queue,r=t.effects.effect[e.effect];if(t.fx.off||!r){if(i){return this[i](e.duration,e.complete)}else{return this.each(function(){if(e.complete){e.complete.call(this)}})}}function a(i){var n=t(this),s=e.complete,a=e.mode;function o(){if(t.isFunction(s)){s.call(n[0])}if(t.isFunction(i)){i()}}if(n.is(":hidden")?a==="hide":a==="show"){n[a]();o()}else{r.call(n[0],e,o)}}return s===false?this.each(a):this.queue(s||"fx",a)},show:function(t){return function(e){if(s(e)){return t.apply(this,arguments)}else{var i=n.apply(this,arguments);i.mode="show";return this.effect.call(this,i)}}}(t.fn.show),hide:function(t){return function(e){if(s(e)){return t.apply(this,arguments)}else{var i=n.apply(this,arguments);i.mode="hide";return this.effect.call(this,i)}}}(t.fn.hide),toggle:function(t){return function(e){if(s(e)||typeof e==="boolean"){return t.apply(this,arguments)}else{var i=n.apply(this,arguments);i.mode="toggle";return this.effect.call(this,i)}}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];t.each(["em","px","%","pt"],function(t,e){if(i.indexOf(e)>0){n=[parseFloat(i),e]}});return n}})})();(function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}});t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return t===0||t===1?t:-Math.pow(2,8*(t-1))*Math.sin(((t-1)*80-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){var e,i=4;while(t<((e=Math.pow(2,--i))-1)/11){}return 1/Math.pow(4,3-i)-7.5625*Math.pow((e*3-2)/22-t,2)}});t.each(e,function(e,i){t.easing["easeIn"+e]=i;t.easing["easeOut"+e]=function(t){return 1-i(1-t)};t.easing["easeInOut"+e]=function(t){return t<.5?i(t*2)/2:1-i(t*-2+2)/2}})})()})(jQuery);(function(t,e){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,s){var r=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(r,e.mode||"hide"),l=e.direction||"up",h=i.test(l),u=h?"height":"width",c=h?"top":"left",f=n.test(l),d={},p=o==="show",g,m,v;if(r.parent().is(".ui-effects-wrapper")){t.effects.save(r.parent(),a)}else{t.effects.save(r,a)}r.show();g=t.effects.createWrapper(r).css({overflow:"hidden"});m=g[u]();v=parseFloat(g.css(c))||0;d[u]=p?m:0;if(!f){r.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"});d[c]=p?v:m+v}if(p){g.css(u,0);if(!f){g.css(c,v+m)}}g.animate(d,{duration:e.duration,easing:e.easing,queue:false,complete:function(){if(o==="hide"){r.hide()}t.effects.restore(r,a);t.effects.removeWrapper(r);s()}})}})(jQuery);(function(t,e){t.effects.effect.bounce=function(e,i){var n=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.mode||"effect"),a=r==="hide",o=r==="show",l=e.direction||"up",h=e.distance,u=e.times||5,c=u*2+(o||a?1:0),f=e.duration/c,d=e.easing,p=l==="up"||l==="down"?"top":"left",g=l==="up"||l==="left",m,v,y,b=n.queue(),x=b.length;if(o||a){s.push("opacity")}t.effects.save(n,s);n.show();t.effects.createWrapper(n);if(!h){h=n[p==="top"?"outerHeight":"outerWidth"]()/3}if(o){y={opacity:1};y[p]=0;n.css("opacity",0).css(p,g?-h*2:h*2).animate(y,f,d)}if(a){h=h/Math.pow(2,u-1)}y={};y[p]=0;for(m=0;m<u;m++){v={};v[p]=(g?"-=":"+=")+h;n.animate(v,f,d).animate(y,f,d);h=a?h*2:h/2}if(a){v={opacity:0};v[p]=(g?"-=":"+=")+h;n.animate(v,f,d)}n.queue(function(){if(a){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()});if(x>1){b.splice.apply(b,[1,0].concat(b.splice(x,c+1)))}n.dequeue()}})(jQuery);(function(t,e){t.effects.effect.clip=function(e,i){var n=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.mode||"hide"),a=r==="show",o=e.direction||"vertical",l=o==="vertical",h=l?"height":"width",u=l?"top":"left",c={},f,d,p;t.effects.save(n,s);n.show();f=t.effects.createWrapper(n).css({overflow:"hidden"});d=n[0].tagName==="IMG"?f:n;p=d[h]();if(a){d.css(h,0);d.css(u,p/2)}c[h]=a?p:0;c[u]=a?0:p/2;d.animate(c,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(!a){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()}})}})(jQuery);(function(t,e){t.effects.effect.drop=function(e,i){var n=t(this),s=["position","top","bottom","left","right","opacity","height","width"],r=t.effects.setMode(n,e.mode||"hide"),a=r==="show",o=e.direction||"left",l=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left"?"pos":"neg",u={opacity:a?1:0},c;t.effects.save(n,s);n.show();t.effects.createWrapper(n);c=e.distance||n[l==="top"?"outerHeight":"outerWidth"](true)/2;if(a){n.css("opacity",0).css(l,h==="pos"?-c:c)}u[l]=(a?h==="pos"?"+=":"-=":h==="pos"?"-=":"+=")+c;n.animate(u,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(r==="hide"){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()}})}})(jQuery);(function(t,e){t.effects.effect.explode=function(e,i){var n=e.pieces?Math.round(Math.sqrt(e.pieces)):3,s=n,r=t(this),a=t.effects.setMode(r,e.mode||"hide"),o=a==="show",l=r.show().css("visibility","hidden").offset(),h=Math.ceil(r.outerWidth()/s),u=Math.ceil(r.outerHeight()/n),c=[],f,d,p,g,m,v;function y(){c.push(this);if(c.length===n*s){b()}}for(f=0;f<n;f++){g=l.top+f*u;v=f-(n-1)/2;for(d=0;d<s;d++){p=l.left+d*h;m=d-(s-1)/2;r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-d*h,top:-f*u}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:u,left:p+(o?m*h:0),top:g+(o?v*u:0),opacity:o?0:1}).animate({left:p+(o?0:m*h),top:g+(o?0:v*u),opacity:o?1:0},e.duration||500,e.easing,y)}}function b(){r.css({visibility:"visible"});t(c).remove();if(!o){r.hide()}i()}}})(jQuery);(function(t,e){t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:false,duration:e.duration,easing:e.easing,complete:i})}})(jQuery);(function(t,e){t.effects.effect.fold=function(e,i){var n=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.mode||"hide"),a=r==="show",o=r==="hide",l=e.size||15,h=/([0-9]+)%/.exec(l),u=!!e.horizFirst,c=a!==u,f=c?["width","height"]:["height","width"],d=e.duration/2,p,g,m={},v={};t.effects.save(n,s);n.show();p=t.effects.createWrapper(n).css({overflow:"hidden"});g=c?[p.width(),p.height()]:[p.height(),p.width()];if(h){l=parseInt(h[1],10)/100*g[o?0:1]}if(a){p.css(u?{height:0,width:l}:{height:l,width:0})}m[f[0]]=a?g[0]:l;v[f[1]]=a?g[1]:0;p.animate(m,d,e.easing).animate(v,d,e.easing,function(){if(o){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()})}})(jQuery);(function(t,e){t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),a={backgroundColor:n.css("backgroundColor")};if(r==="hide"){a.opacity=0}t.effects.save(n,s);n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(r==="hide"){n.hide()}t.effects.restore(n,s);i()}})}})(jQuery);(function(t,e){t.effects.effect.pulsate=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"show"),r=s==="show",a=s==="hide",o=r||s==="hide",l=(e.times||5)*2+(o?1:0),h=e.duration/l,u=0,c=n.queue(),f=c.length,d;if(r||!n.is(":visible")){n.css("opacity",0).show();u=1}for(d=1;d<l;d++){n.animate({opacity:u},h,e.easing);u=1-u}n.animate({opacity:u},h,e.easing);n.queue(function(){if(a){n.hide()}i()});if(f>1){c.splice.apply(c,[1,0].concat(c.splice(f,l+1)))}n.dequeue()}})(jQuery);(function(t,e){t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),r=s==="hide",a=parseInt(e.percent,10)||150,o=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:false,fade:true,mode:s,complete:i,percent:r?a:100,from:r?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}});n.effect(e)};t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(true,{},e),r=t.effects.setMode(n,e.mode||"effect"),a=parseInt(e.percent,10)||(parseInt(e.percent,10)===0?0:r==="hide"?0:100),o=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:o!=="horizontal"?a/100:1,x:o!=="vertical"?a/100:1};s.effect="size";s.queue=false;s.complete=i;if(r!=="effect"){s.origin=l||["middle","center"];s.restore=true}s.from=e.from||(r==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:h);s.to={height:h.height*u.y,width:h.width*u.x,outerHeight:h.outerHeight*u.y,outerWidth:h.outerWidth*u.x};if(s.fade){if(r==="show"){s.from.opacity=0;s.to.opacity=1}if(r==="hide"){s.from.opacity=1;s.to.opacity=0}}n.effect(s)};t.effects.effect.size=function(e,i){var n,s,r,a=t(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(a,e.mode||"effect"),p=e.restore||d!=="effect",g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),y=p?o:l,b={height:0,width:0,outerHeight:0,outerWidth:0};if(d==="show"){a.show()}n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};if(e.mode==="toggle"&&d==="show"){a.from=e.to||b;a.to=e.from||n}else{a.from=e.from||(d==="show"?b:n);a.to=e.to||(d==="hide"?b:n)}r={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}};if(g==="box"||g==="both"){if(r.from.y!==r.to.y){y=y.concat(c);a.from=t.effects.setTransition(a,c,r.from.y,a.from);a.to=t.effects.setTransition(a,c,r.to.y,a.to)}if(r.from.x!==r.to.x){y=y.concat(f);a.from=t.effects.setTransition(a,f,r.from.x,a.from);a.to=t.effects.setTransition(a,f,r.to.x,a.to)}}if(g==="content"||g==="both"){if(r.from.y!==r.to.y){y=y.concat(u).concat(h);a.from=t.effects.setTransition(a,u,r.from.y,a.from);a.to=t.effects.setTransition(a,u,r.to.y,a.to)}}t.effects.save(a,y);a.show();t.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if(m){s=t.effects.getBaseline(m,n);a.from.top=(n.outerHeight-a.outerHeight())*s.y;a.from.left=(n.outerWidth-a.outerWidth())*s.x;a.to.top=(n.outerHeight-a.to.outerHeight)*s.y;a.to.left=(n.outerWidth-a.to.outerWidth)*s.x}a.css(a.from);if(g==="content"||g==="both"){c=c.concat(["marginTop","marginBottom"]).concat(u);f=f.concat(["marginLeft","marginRight"]);h=o.concat(c).concat(f);a.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};if(p){t.effects.save(i,h)}i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x};i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};if(r.from.y!==r.to.y){i.from=t.effects.setTransition(i,c,r.from.y,i.from);i.to=t.effects.setTransition(i,c,r.to.y,i.to)}if(r.from.x!==r.to.x){i.from=t.effects.setTransition(i,f,r.from.x,i.from);i.to=t.effects.setTransition(i,f,r.to.x,i.to)}i.css(i.from);i.animate(i.to,e.duration,e.easing,function(){if(p){t.effects.restore(i,h)}})})}a.animate(a.to,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(a.to.opacity===0){a.css("opacity",a.from.opacity)}if(d==="hide"){a.hide()}t.effects.restore(a,y);if(!p){if(v==="static"){a.css({position:"relative",top:a.to.top,left:a.to.left})}else{t.each(["top","left"],function(t,e){a.css(e,function(e,i){var n=parseInt(i,10),s=t?a.to.left:a.to.top;if(i==="auto"){return s+"px"}return n+s+"px"})})}}t.effects.removeWrapper(a);i()}})}})(jQuery);(function(t,e){t.effects.effect.shake=function(e,i){var n=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.mode||"effect"),a=e.direction||"left",o=e.distance||20,l=e.times||3,h=l*2+1,u=Math.round(e.duration/h),c=a==="up"||a==="down"?"top":"left",f=a==="up"||a==="left",d={},p={},g={},m,v=n.queue(),y=v.length;t.effects.save(n,s);n.show();t.effects.createWrapper(n);d[c]=(f?"-=":"+=")+o;p[c]=(f?"+=":"-=")+o*2;g[c]=(f?"-=":"+=")+o*2;n.animate(d,u,e.easing);for(m=1;m<l;m++){n.animate(p,u,e.easing).animate(g,u,e.easing)}n.animate(p,u,e.easing).animate(d,u/2,e.easing).queue(function(){if(r==="hide"){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()});if(y>1){v.splice.apply(v,[1,0].concat(v.splice(y,h+1)))}n.dequeue()}})(jQuery);(function(t,e){t.effects.effect.slide=function(e,i){var n=t(this),s=["position","top","bottom","left","right","width","height"],r=t.effects.setMode(n,e.mode||"show"),a=r==="show",o=e.direction||"left",l=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",u,c={};t.effects.save(n,s);n.show();u=e.distance||n[l==="top"?"outerHeight":"outerWidth"](true);t.effects.createWrapper(n).css({overflow:"hidden"});if(a){n.css(l,h?isNaN(u)?"-"+u:-u:u)}c[l]=(a?h?"+=":"-=":h?"-=":"+=")+u;n.animate(c,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(r==="hide"){n.hide()}t.effects.restore(n,s);t.effects.removeWrapper(n);i()}})}})(jQuery);(function(t,e){t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),r=s.css("position")==="fixed",a=t("body"),o=r?a.scrollTop():0,l=r?a.scrollLeft():0,h=s.offset(),u={
top:h.top-o,left:h.left-l,height:s.innerHeight(),width:s.innerWidth()},c=n.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-o,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){f.remove();i()})}})(jQuery);(function(t){t.extend(t.ui,{multiDatesPicker:{version:"1.6.1"}});t.fn.multiDatesPicker=function(e){var i=arguments;var n=this;var s=new Date;var r=new Date(0);var a={};function o(t,e){if(!e)e="picked";t=c.call(this,t);for(var i in this.multiDatesPicker.dates[e])if(!f.compareDates(this.multiDatesPicker.dates[e][i],t))return this.multiDatesPicker.dates[e].splice(i,1).pop()}function l(t,e){if(!e)e="picked";return this.multiDatesPicker.dates[e].splice(t,1).pop()}function h(t,e,i){if(!e)e="picked";t=c.call(this,t);t.setHours(0);t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0);if(f.gotDate.call(this,t,e)===false){this.multiDatesPicker.dates[e].push(t);if(!i)this.multiDatesPicker.dates[e].sort(f.compareDates)}}function u(t){if(!t)t="picked";this.multiDatesPicker.dates[t].sort(f.compareDates)}function c(t,e,i){if(!e)e="object";return f.dateConvert.call(this,t,e,i)}var f={init:function(e){var i=t(this);this.multiDatesPicker.changed=false;var n={beforeShow:function(t,e){this.multiDatesPicker.changed=false;if(this.multiDatesPicker.originalBeforeShow)this.multiDatesPicker.originalBeforeShow.call(this,t,e)},onSelect:function(e,i){var n=t(this);this.multiDatesPicker.changed=true;if(e){n.multiDatesPicker("toggleDate",e)}if(this.multiDatesPicker.mode=="normal"&&this.multiDatesPicker.dates.picked.length>0&&this.multiDatesPicker.pickableRange){var s=this.multiDatesPicker.dates.picked[0],r=new Date(s.getTime());f.sumDays(r,this.multiDatesPicker.pickableRange-1);if(this.multiDatesPicker.adjustRangeToDisabled){var a,o=this.multiDatesPicker.dates.disabled.slice(0);do{a=0;for(var l=0;l<o.length;l++){if(o[l].getTime()<=r.getTime()){if(s.getTime()<=o[l].getTime()&&o[l].getTime()<=r.getTime()){a++}o.splice(l,1);l--}}r.setDate(r.getDate()+a)}while(a!=0)}if(this.multiDatesPicker.maxDate&&r>this.multiDatesPicker.maxDate)r=this.multiDatesPicker.maxDate;n.datepicker("option","minDate",s).datepicker("option","maxDate",r)}else{n.datepicker("option","minDate",this.multiDatesPicker.minDate).datepicker("option","maxDate",this.multiDatesPicker.maxDate)}if(this.tagName=="INPUT"){n.val(n.multiDatesPicker("getDates","string"))}if(this.multiDatesPicker.originalOnSelect&&e)this.multiDatesPicker.originalOnSelect.call(this,e,i);if(n.datepicker("option","altField")!=undefined&&n.datepicker("option","altField")!=""){t(n.datepicker("option","altField")).val(n.multiDatesPicker("getDates","string"))}},beforeShowDay:function(e){var i=t(this),n=i.multiDatesPicker("gotDate",e)!==false,s=i.datepicker("option","disabled"),r=i.multiDatesPicker("gotDate",e,"disabled")!==false,a=this.multiDatesPicker.maxPicks==this.multiDatesPicker.dates.picked.length;var o=[true,""];if(this.multiDatesPicker.originalBeforeShowDay)o=this.multiDatesPicker.originalBeforeShowDay.call(this,e);var l=n?"ui-state-highlight":o[1];var h=!(s||r||a&&!l);return[h&&o[0],l]},onClose:function(e,i){if(this.tagName=="INPUT"&&this.multiDatesPicker.changed){t(i.dpDiv[0]).stop(false,true);setTimeout('$("#'+i.id+'").datepicker("show")',50)}if(this.multiDatesPicker.originalOnClose)this.multiDatesPicker.originalOnClose.call(this,e,i)}};if(e){this.multiDatesPicker.originalBeforeShow=e.beforeShow;this.multiDatesPicker.originalOnSelect=e.onSelect;this.multiDatesPicker.originalBeforeShowDay=e.beforeShowDay;this.multiDatesPicker.originalOnClose=e.onClose;i.datepicker(e);this.multiDatesPicker.minDate=t.datepicker._determineDate(this,e.minDate,null);this.multiDatesPicker.maxDate=t.datepicker._determineDate(this,e.maxDate,null);if(e.addDates)f.addDates.call(this,e.addDates);if(e.addDisabledDates)f.addDates.call(this,e.addDisabledDates,"disabled");f.setMode.call(this,e)}else{i.datepicker()}i.datepicker("option",n);if(this.tagName=="INPUT")i.val(i.multiDatesPicker("getDates","string"));var s=i.datepicker("option","altField");if(s)t(s).val(i.multiDatesPicker("getDates","string"))},compareDates:function(t,e){t=c.call(this,t);e=c.call(this,e);var i=t.getFullYear()-e.getFullYear();if(!i){i=t.getMonth()-e.getMonth();if(!i)i=t.getDate()-e.getDate()}return i},sumDays:function(t,e){var i=typeof t;obj_date=c.call(this,t);obj_date.setDate(obj_date.getDate()+e);return c.call(this,obj_date,i)},dateConvert:function(e,i,n){var s=typeof e;if(s==i){if(s=="object"){try{e.getTime()}catch(r){t.error("Received date is in a non supported format!");return false}}return e}var a=t(this);if(typeof e=="undefined")e=new Date(0);if(i!="string"&&i!="object"&&i!="number")t.error('Date format "'+i+'" not supported!');if(!n){n=t.datepicker._defaults.dateFormat;var o=a.datepicker("option","dateFormat");if(o){n=o}}switch(s){case"object":break;case"string":e=t.datepicker.parseDate(n,e);break;case"number":e=new Date(e);break;default:t.error('Conversion from "'+i+'" format not allowed on jQuery.multiDatesPicker')}switch(i){case"object":return e;case"string":return t.datepicker.formatDate(n,e);case"number":return e.getTime();default:t.error('Conversion to "'+i+'" format not allowed on jQuery.multiDatesPicker')}return false},gotDate:function(t,e){if(!e)e="picked";for(var i=0;i<this.multiDatesPicker.dates[e].length;i++){if(f.compareDates.call(this,this.multiDatesPicker.dates[e][i],t)===0){return i}}return false},getDates:function(e,i){if(!e)e="string";if(!i)i="picked";switch(e){case"object":return this.multiDatesPicker.dates[i];case"string":case"number":var n=new Array;for(var s in this.multiDatesPicker.dates[i])n.push(c.call(this,this.multiDatesPicker.dates[i][s],e));return n;default:t.error('Format "'+e+'" not supported!')}},addDates:function(e,i){if(e.length>0){if(!i)i="picked";switch(typeof e){case"object":case"array":if(e.length){for(var n in e)h.call(this,e[n],i,true);u.call(this,i);break}case"string":case"number":h.call(this,e,i);break;default:t.error('Date format "'+typeof e+'" not allowed on jQuery.multiDatesPicker')}t(this).datepicker("refresh")}else{t.error("Empty array of dates received.")}},removeDates:function(e,i){if(!i)i="picked";var n=[];if(Object.prototype.toString.call(e)==="[object Array]"){for(var s in e.sort(function(t,e){return e-t})){n.push(o.call(this,e[s],i))}}else{n.push(o.call(this,e,i))}t(this).datepicker("refresh");return n},removeIndexes:function(e,i){if(!i)i="picked";var n=[];if(Object.prototype.toString.call(e)==="[object Array]"){for(var s in e.sort(function(t,e){return e-t})){n.push(l.call(this,e[s],i))}}else{n.push(l.call(this,e,i))}t(this).datepicker("refresh");return n},resetDates:function(e){if(!e)e="picked";this.multiDatesPicker.dates[e]=[];t(this).datepicker("refresh")},toggleDate:function(t,e){if(!e)e="picked";switch(this.multiDatesPicker.mode){case"daysRange":this.multiDatesPicker.dates[e]=[];var i=this.multiDatesPicker.autoselectRange[1];var n=this.multiDatesPicker.autoselectRange[0];if(i<n){i=this.multiDatesPicker.autoselectRange[0];n=this.multiDatesPicker.autoselectRange[1]}for(var s=n;s<i;s++)f.addDates.call(this,f.sumDays(t,s),e);break;default:if(f.gotDate.call(this,t)===false)f.addDates.call(this,t,e);else f.removeDates.call(this,t,e);break}},setMode:function(e){var i=t(this);if(e.mode)this.multiDatesPicker.mode=e.mode;switch(this.multiDatesPicker.mode){case"normal":for(option in e)switch(option){case"maxPicks":case"minPicks":case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=e[option];break}break;case"daysRange":case"weeksRange":var n=1;for(option in e)switch(option){case"autoselectRange":n--;case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=e[option];break}if(n>0)t.error("Some mandatory options not specified!");break}if(a.onSelect)a.onSelect();i.datepicker("refresh")}};this.each(function(){if(!this.multiDatesPicker){this.multiDatesPicker={dates:{picked:[],disabled:[]},mode:"normal",adjustRangeToDisabled:true}}if(f[e]){var s=f[e].apply(this,Array.prototype.slice.call(i,1));switch(e){case"getDates":case"removeDates":case"gotDate":case"sumDays":case"compareDates":case"dateConvert":n=s}return s}else if(typeof e==="object"||!e){return f.init.apply(this,i)}else{t.error("Method "+e+" does not exist on jQuery.multiDatesPicker")}return false});if(e!="gotDate"&&e!="getDates"){aaaa=1}return n};var e="multiDatesPicker";var i=(new Date).getTime();var n;t.multiDatesPicker={version:false};t.multiDatesPicker.initialized=false;t.multiDatesPicker.uuid=(new Date).getTime();t.multiDatesPicker.version=t.ui.multiDatesPicker.version;window["DP_jQuery_"+i]=t})(jQuery);(function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments,i,n={},s=function(t,e){var i,n;typeof t!=="object"&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&typeof i==="object"&&Object.prototype.toString.call(i)!=="[object Array]"&&n!=="renderTo"&&typeof i.nodeType!=="number"?s(t[n]||{},i):e[n]);return t};e[0]===!0&&(n=e[1],e=Array.prototype.slice.call(e,2));i=e.length;for(t=0;t<i;t++)n=s(n,e[t]);return n}function i(t,e){return parseInt(t,e||10)}function n(t){return typeof t==="string"}function s(t){return t&&typeof t==="object"}function r(t){return Object.prototype.toString.call(t)==="[object Array]"}function a(t){return typeof t==="number"}function o(t){return B.log(t)/B.LN10}function l(t){return B.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function u(t){return t!==O&&t!==null}function c(t,e,i){var r,a;if(n(e))u(i)?t.setAttribute(e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(u(e)&&s(e))for(r in e)t.setAttribute(r,e[r]);return a}function f(t){return r(t)?t:[t]}function d(){var t=arguments,e,i,n=t.length;for(e=0;e<n;e++)if(i=t[e],i!==O&&i!==null)return i}function p(e,i){if(Z&&!st&&i&&i.opacity!==O)i.filter="alpha(opacity="+i.opacity*100+")";t(e.style,i)}function g(e,i,n,s,r){e=H.createElement(e);i&&t(e,i);r&&p(e,{padding:0,border:_t,margin:0});n&&p(e,n);s&&s.appendChild(e);return e}function m(e,i){var n=function(){return O};n.prototype=new e;t(n.prototype,i);return n}function v(t,e,n,s){var r=Rt.numberFormat,a=ft.lang,o=+t||0,l=e===-1?(o.toString().split(".")[1]||"").length:isNaN(e=X(e))?2:e,h=n===void 0?a.decimalPoint:n,a=s===void 0?a.thousandsSep:s,u=o<0?"-":"",c=String(i(o=X(o).toFixed(l))),f=c.length>3?c.length%3:0;return r!==v?r(t,e,n,s):u+(f?c.substr(0,f)+a:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(l?h+X(o-c).toFixed(l).slice(2):"")}function y(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(n);return i.apply(this,t)}}function x(t,e){for(var i="{",n=!1,s,r,a,o,l,h=[];(i=t.indexOf(i))!==-1;){s=t.slice(0,i);if(n){r=s.split(":");a=r.shift().split(".");l=a.length;s=e;for(o=0;o<l;o++)s=s[a[o]];if(r.length)r=r.join(":"),a=/\.([0-9])/,o=ft.lang,l=void 0,/f$/.test(r)?(l=(l=r.match(a))?l[1]:-1,s!==null&&(s=v(s,l,o.decimalPoint,r.indexOf(",")>-1?o.thousandsSep:""))):s=dt(r,s)}h.push(s);t=t.slice(i+1);i=(n=!n)?"}":"{"}h.push(t);return h.join("")}function w(t){return B.pow(10,j(B.log(t)/B.LN10))}function _(t,e,i,n){var s,i=d(i,1);s=t/i;e||(e=[1,2,2.5,5,10],n===!1&&(i===1?e=[1,2,5,10]:i<=.1&&(e=[1/i])));for(n=0;n<e.length;n++)if(t=e[n],s<=(e[n]+(e[n+1]||e[n]))/2)break;t*=i;return t}function k(t,e){var i=t.length,n,s;for(s=0;s<i;s++)t[s].ss_i=s;t.sort(function(t,i){n=e(t,i);return n===0?t.ss_i-i.ss_i:n});for(s=0;s<i;s++)delete t[s].ss_i}function C(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function D(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function S(t){ct||(ct=g(wt));t&&ct.appendChild(t);ct.innerHTML=""}function M(t){return parseFloat(t.toPrecision(14))}function P(t,e){pt=d(t,e.animation)}function A(){var t=ft.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Tt=ft.global.Date||window.Date;St=(t&&ft.global.timezoneOffset||0)*6e4;Dt=t?Tt.UTC:function(t,e,i,n,s,r){return new Tt(t,e,d(i,1),d(n,0),d(s,0),d(r,0)).getTime()};Mt=e+"Minutes";Pt=e+"Hours";At=e+"Day";It=e+"Date";Et=e+"Month";Lt=e+"FullYear";Nt=i+"Minutes";Ft=i+"Hours";Ot=i+"Date";Ht=i+"Month";zt=i+"FullYear"}function I(){}function E(t,e,i,n){this.axis=t;this.pos=e;this.type=i||"";this.isNew=!0;!i&&!n&&this.addLabel()}function L(){this.init.apply(this,arguments)}function N(){this.init.apply(this,arguments)}function F(t,e,i,n,s){var r=t.chart.inverted;this.axis=t;this.isNegative=i;this.options=e;this.x=n;this.total=null;this.points={};this.stack=s;this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:d(e.y,r?4:i?14:-6),x:d(e.x,r?i?-6:6:0)};this.textAlign=e.textAlign||(r?i?"right":"left":"center")}var O,H=document,z=window,B=Math,R=B.round,j=B.floor,W=B.ceil,Y=B.max,$=B.min,X=B.abs,q=B.cos,G=B.sin,V=B.PI,U=V*2/360,K=navigator.userAgent,Q=z.opera,Z=/msie/i.test(K)&&!Q,J=H.documentMode===8,tt=/AppleWebKit/.test(K),et=/Firefox/.test(K),it=/(Mobile|Android|Windows Phone)/.test(K),nt="http://www.w3.org/2000/svg",st=!!H.createElementNS&&!!H.createElementNS(nt,"svg").createSVGRect,rt=et&&parseInt(K.split("Firefox/")[1],10)<4,at=!st&&!Z&&!!H.createElement("canvas").getContext,ot,lt,ht={},ut=0,ct,ft,dt,pt,gt,mt,vt,yt=function(){return O},bt=[],xt=0,wt="div",_t="none",kt=/^[0-9]+$/,Ct="stroke-width",Tt,Dt,St,Mt,Pt,At,It,Et,Lt,Nt,Ft,Ot,Ht,zt,Bt={},Rt;z.Highcharts?vt(16,!0):Rt=z.Highcharts={};dt=function(e,i,n){if(!u(i)||isNaN(i))return"Invalid date";var e=d(e,"%Y-%m-%d %H:%M:%S"),s=new Tt(i-St),r,a=s[Pt](),o=s[At](),l=s[It](),h=s[Et](),c=s[Lt](),f=ft.lang,p=f.weekdays,s=t({a:p[o].substr(0,3),A:p[o],d:y(l),e:l,b:f.shortMonths[h],B:f.months[h],m:y(h+1),y:c.toString().substr(2,2),Y:c,H:y(a),I:y(a%12||12),l:a%12||12,M:y(s[Mt]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:y(s.getSeconds()),L:y(R(i%1e3),3)},Rt.dateFormats);for(r in s)for(;e.indexOf("%"+r)!==-1;)e=e.replace("%"+r,typeof s[r]==="function"?s[r](i):s[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e};vt=function(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;z.console&&console.log(i)};mt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3};gt={init:function(t,e,i){var e=e||"",n=t.shift,s=e.indexOf("C")>-1,r=s?7:3,a,e=e.split(" "),i=[].concat(i),o,l,h=function(t){for(a=t.length;a--;)t[a]==="M"&&t.splice(a+1,0,t[a+1],t[a+2],t[a+1],t[a+2])};s&&(h(e),h(i));t.isArea&&(o=e.splice(e.length-6,6),l=i.splice(i.length-6,6));if(n<=i.length/r&&e.length===i.length)for(;n--;)i=[].concat(i).splice(0,r).concat(i);t.shift=0;if(e.length)for(t=i.length;e.length<t;)n=[].concat(e).splice(e.length-r,r),s&&(n[r-6]=n[r-2],n[r-5]=n[r-1]),e=e.concat(n);o&&(e=e.concat(o),i=i.concat(l));return[e,i]},step:function(t,e,i,n){var s=[],r=t.length;if(i===1)s=n;else if(r===e.length&&i<1)for(;r--;)n=parseFloat(t[r]),s[r]=isNaN(n)?t[r]:i*parseFloat(e[r]-n)+n;else s=e;return s}};(function(e){z.HighchartsAdapter=z.HighchartsAdapter||e&&{init:function(t){var i=e.fx;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}});e.each(["cur","_default","width","height","opacity"],function(t,n){var s=i.step,r;n==="cur"?s=i.prototype:n==="_default"&&e.Tween&&(s=e.Tween.propHooks[n],n="set");(r=s[n])&&(s[n]=function(e){var i,e=t?e:this;if(e.prop!=="align")return i=e.elem,i.attr?i.attr(e.prop,n==="cur"?O:e.now):r.apply(this,arguments)})});b(e.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)});this.addAnimSetter("d",function(e){var i=e.elem,n;if(!e.started)n=t.init(i,i.d,i.toD),e.start=n[0],e.end=n[1],e.started=!0;i.attr("d",t.step(e.start,e.end,e.pos,i.toD))});this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i};e.fn.highcharts=function(){var t="Chart",e=arguments,i,s;if(this[0]){n(e[0])&&(t=e[0],e=Array.prototype.slice.call(e,1));i=e[0];if(i!==O)i.chart=i.chart||{},i.chart.renderTo=this[0],new Rt[t](i,e[1]),s=this;i===O&&(s=bt[c(this[0],"data-highcharts-chart")])}return s}},addAnimSetter:function(t,i){e.Tween?e.Tween.propHooks[t]={set:i}:e.fx.step[t]=i},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var s=H.removeEventListener?"removeEventListener":"detachEvent";H[s]&&t&&!t[s]&&(t[s]=function(){});e(t).unbind(i,n)},fireEvent:function(i,n,s,r){var a=e.Event(n),o="detached"+n,l;!Z&&s&&(delete s.layerX,delete s.layerY,delete s.returnValue);t(a,s);i[n]&&(i[o]=i[n],i[n]=null);e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){e==="preventDefault"&&(l=!0)}}});e(i).trigger(a);i[o]&&(i[n]=i[o],i[o]=null);r&&!a.isDefaultPrevented()&&!l&&r(a)},washMouseEvent:function(t){var e=t.originalEvent||t;if(e.pageX===O)e.pageX=t.pageX,e.pageY=t.pageY;return e},animate:function(t,i,n){var s=e(t);if(!t.style)t.style={};if(i.d)t.toD=i.d,i.d=1;s.stop();i.opacity!==O&&t.attr&&(i.opacity+="px");t.hasAnim=1;s.animate(i,n)},stop:function(t){t.hasAnim&&e(t).stop()}}})(z.jQuery);var jt=z.HighchartsAdapter,Wt=jt||{};jt&&jt.init.call(jt,gt);var Yt=Wt.adapterRun,$t=Wt.getScript,Xt=Wt.inArray,qt=Wt.each,Gt=Wt.grep,Vt=Wt.offset,Ut=Wt.map,Kt=Wt.addEvent,Qt=Wt.removeEvent,Zt=Wt.fireEvent,Jt=Wt.washMouseEvent,te=Wt.animate,ee=Wt.stop,Wt={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};ft={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Wt,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:st,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">â</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:it?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ie=ft.plotOptions,jt=ie.line;A();var ne=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,se=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,re=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ae=function(t){var n=[],s,r;(function(t){t&&t.stops?r=Ut(t.stops,function(t){return ae(t[1])}):(s=ne.exec(t))?n=[i(s[1]),i(s[2]),i(s[3]),parseFloat(s[4],10)]:(s=se.exec(t))?n=[i(s[1],16),i(s[2],16),i(s[3],16),1]:(s=re.exec(t))&&(n=[i(s[1]),i(s[2]),i(s[3]),1])})(t);return{get:function(i){var s;r?(s=e(t),s.stops=[].concat(s.stops),qt(r,function(t,e){s.stops[e]=[s.stops[e][0],t.get(i)]})):s=n&&!isNaN(n[0])?i==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":i==="a"?n[3]:"rgba("+n.join(",")+")":t;return s},brighten:function(t){if(r)qt(r,function(e){e.brighten(t)});else if(a(t)&&t!==0){var e;for(e=0;e<3;e++)n[e]+=i(t*255),n[e]<0&&(n[e]=0),n[e]>255&&(n[e]=255)}return this},rgba:n,setOpacity:function(t){n[3]=t;return this}}};I.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(t,e){this.element=e==="span"?g(e):H.createElementNS(nt,e);this.renderer=t},animate:function(t,i,n){i=d(i,pt,!0);ee(this);if(i){i=e(i,{});if(n)i.complete=n;te(this,t,i)}else this.attr(t),n&&n();return this},colorGradient:function(t,i,n){var s=this.renderer,a,o,l,h,c,f,d,p,g,m,v=[];t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient");if(o){l=t[o];h=s.gradients;f=t.stops;g=n.radialReference;r(l)&&(t[o]=l={x1:l[0],y1:l[1],x2:l[2],y2:l[3],gradientUnits:"userSpaceOnUse"});o==="radialGradient"&&g&&!u(l.gradientUnits)&&(l=e(l,{cx:g[0]-g[2]/2+l.cx*g[2],cy:g[1]-g[2]/2+l.cy*g[2],r:l.r*g[2],gradientUnits:"userSpaceOnUse"}));for(m in l)m!=="id"&&v.push(m,l[m]);for(m in f)v.push(f[m]);v=v.join(",");h[v]?t=h[v].attr("id"):(l.id=t="highcharts-"+ut++,h[v]=c=s.createElement(o).attr(l).add(s.defs),c.stops=[],qt(f,function(t){t[1].indexOf("rgba")===0?(a=ae(t[1]),d=a.get("rgb"),p=a.get("a")):(d=t[1],p=1);t=s.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(c);c.stops.push(t)}));n.setAttribute(i,"url("+s.url+"#"+t+")")}},attr:function(t,e){var i,n,s=this.element,r,a=this,o;typeof t==="string"&&e!==O&&(i=t,t={},t[i]=e);if(typeof t==="string")a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t){n=t[i];o=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(t),r=!0),o=!0);if(this.rotation&&(i==="x"||i==="y"))this.doTransform=!0;o||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,s);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n)}if(this.doTransform)this.updateTransform(),this.doTransform=!1}return a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,t==="height"?Y(e-(i[n].cutHeight||0),0):t==="d"?this.d:e)},addClass:function(t){var e=this.element,i=c(e,"class")||"";i.indexOf(t)===-1&&c(e,"class",i+" "+t);return this},symbolAttr:function(t){var e=this;qt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=d(t[i],e[i])});e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":_t)},crisp:function(t){var e,i={},n,s=t.strokeWidth||this.strokeWidth||0;n=R(s)%2/2;t.x=j(t.x||this.x||0)+n;t.y=j(t.y||this.y||0)+n;t.width=j((t.width||this.width||0)-2*n);t.height=j((t.height||this.height||0)-2*n);t.strokeWidth=s;for(e in t)this[e]!==t[e]&&(this[e]=i[e]=t[e]);return i},css:function(e){var n=this.styles,s={},r=this.element,a,o,l="";a=!n;if(e&&e.color)e.fill=e.color;if(n)for(o in e)e[o]!==n[o]&&(s[o]=e[o],a=!0);if(a){a=this.textWidth=e&&e.width&&r.nodeName.toLowerCase()==="text"&&i(e.width);n&&(e=t(n,s));this.styles=e;a&&(at||!st&&this.renderer.forExport)&&delete e.width;if(Z&&!st)p(this.element,e);else{n=function(t,e){return"-"+e.toLowerCase()};for(o in e)l+=o.replace(/([A-Z])/g,n)+":"+e[o]+";";c(r,"style",l)}a&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;lt&&t==="click"?(n.ontouchstart=function(t){i.touchEventFired=Tt.now();t.preventDefault();e.call(n,t)},n.onclick=function(t){(K.indexOf("Android")===-1||Tt.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e;return this},setRadialReference:function(t){this.element.radialReference=t;return this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,r=this.rotation,a=this.element;s&&(t+=this.attr("width"),e+=this.attr("height"));t=["translate("+t+","+e+")"];s?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")");(u(i)||u(n))&&t.push("scale("+d(i,1)+" "+d(n,1)+")");t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(t,e,i){var s,r,a,o,l={};r=this.renderer;a=r.alignedObjects;if(t){if(this.alignOptions=t,this.alignByTranslate=e,!i||n(i))this.alignTo=s=i||"renderer",h(a,this),a.push(this),i=null}else t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo;i=d(i,r[s],r);s=t.align;r=t.verticalAlign;a=(i.x||0)+(t.x||0);o=(i.y||0)+(t.y||0);if(s==="right"||s==="center")a+=(i.width-(t.width||0))/{right:1,center:2}[s];l[e?"translateX":"x"]=R(a);if(r==="bottom"||r==="middle")o+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1);l[e?"translateY":"y"]=R(o);this[this.placed?"animate":"attr"](l);this.placed=!0;this.alignAttr=l;return this},getBBox:function(){var e=this.bBox,i=this.renderer,n,s,r=this.rotation;n=this.element;var a=this.styles,o=r*U;s=this.textStr;var l;if(s===""||kt.test(s))l="num."+s.toString().length+(a?"|"+a.fontSize+"|"+a.fontFamily:"");l&&(e=i.cache[l]);if(!e){if(n.namespaceURI===nt||i.forExport){try{e=n.getBBox?t({},n.getBBox()):{width:n.offsetWidth,height:n.offsetHeight}}catch(h){}if(!e||e.width<0)e={width:0,height:0}}else e=this.htmlGetBBox();if(i.isSVG){n=e.width;s=e.height;if(Z&&a&&a.fontSize==="11px"&&s.toPrecision(3)==="16.9")e.height=s=14;if(r)e.width=X(s*G(o))+X(n*q(o)),e.height=X(s*q(o))+X(n*G(o))}this.bBox=e;l&&(i.cache[l]=e)}return e},show:function(t){t&&this.element.namespaceURI===nt?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":"visible"});return this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e=this.renderer,n=t||e,s=n.element||e.box,r=this.element,a=this.zIndex,o,l;if(t)this.parentGroup=t;this.parentInverted=t&&t.inverted;this.textStr!==void 0&&e.buildText(this);if(a)n.handleZ=!0,a=i(a);if(n.handleZ){t=s.childNodes;for(o=0;o<t.length;o++)if(e=t[o],n=c(e,"zIndex"),e!==r&&(i(n)>a||!u(a)&&u(n))){s.insertBefore(r,e);l=!0;break}}l||s.appendChild(r);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.shadows,n=t.renderer.isSVG&&e.nodeName==="SPAN"&&t.parentGroup,s,r;e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null;ee(t);if(t.clipPath)t.clipPath=t.clipPath.destroy();if(t.stops){for(r=0;r<t.stops.length;r++)t.stops[r]=t.stops[r].destroy();t.stops=null}t.safeRemoveChild(e);for(i&&qt(i,function(e){t.safeRemoveChild(e)});n&&n.div&&n.div.childNodes.length===0;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;t.alignTo&&h(t.renderer.alignedObjects,t);for(s in t)delete t[s];return null},shadow:function(t,e,i){var n=[],s,r,a=this.element,o,l,h,u;if(t){l=d(t.width,3);h=(t.opacity||.15)/l;u=this.parentInverted?"(-1,-1)":"("+d(t.offsetX,1)+", "+d(t.offsetY,1)+")";for(s=1;s<=l;s++){r=a.cloneNode(0);o=l*2+1-2*s;c(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":h*s,"stroke-width":o,transform:"translate"+u,fill:_t});if(i)c(r,"height",Y(c(r,"height")-o,0)),r.cutHeight=o;e?e.element.appendChild(r):a.parentNode.insertBefore(r,a);n.push(r)}this.shadows=n}return this},xGetter:function(t){this.element.nodeName==="circle"&&(t={x:"cx",y:"cy"}[t]||t);return this._defaultGetter(t)},_defaultGetter:function(t){t=d(this[t],this.element?this.element.getAttribute(t):null,0);/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t));return t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" "));/(NaN| {2}|^$)/.test(t)&&(t="M 0 0");i.setAttribute(e,t);this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=t.length;e--;)t[e]=i(t[e])*this["stroke-width"];t=t.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t;i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=H.createElementNS(nt,"title"),this.element.appendChild(e));e.textContent=d(t,"").replace(/<[^>]*>/g,"")},textSetter:function(t){if(t!==this.textStr)delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this)},fillSetter:function(t,e,i){typeof t==="string"?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,e,i){i.setAttribute(e,t);this[e]=t},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}};I.prototype.yGetter=I.prototype.xGetter;I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=function(t,e){this[e]=t;this.doTransform=!0};I.prototype["stroke-widthSetter"]=I.prototype.strokeSetter=function(t,e,i){this[e]=t;if(this.stroke&&this["stroke-width"])this.strokeWidth=this["stroke-width"],I.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0;else if(e==="stroke-width"&&t===0&&this.hasStroke)i.removeAttribute("stroke"),this.hasStroke=!1};var oe=function(){this.init.apply(this,arguments)};oe.prototype={Element:I,init:function(t,e,i,n,s){var r=location,a,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));a=n.element;t.appendChild(a);t.innerHTML.indexOf("xmlns")===-1&&c(a,"xmlns",nt);this.isSVG=!0;this.box=a;this.boxWrapper=n;this.alignedObjects=[];this.url=(et||tt)&&H.getElementsByTagName("base").length?r.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";
this.createElement("desc").add().element.appendChild(H.createTextNode("Created with Highcharts 4.0.4"));this.defs=this.createElement("defs").add();this.forExport=s;this.gradients={};this.cache={};this.setSize(e,i,!1);var o;if(et&&t.getBoundingClientRect)this.subPixelFix=e=function(){p(t,{left:0,top:0});o=t.getBoundingClientRect();p(t,{left:W(o.left)-o.left+"px",top:W(o.top)-o.top+"px"})},e(),Kt(z,"resize",e)},getStyle:function(e){return this.style=t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();D(this.gradients||{});this.gradients=null;if(t)this.defs=t.destroy();this.subPixelFix&&Qt(z,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(t){var e=new this.Element;e.init(this,t);return e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,s=n.forExport,r=d(t.textStr,"").toString(),a=r.indexOf("<")!==-1,o=e.childNodes,l,h,u=c(e,"x"),f=t.styles,g=t.textWidth,m=f&&f.lineHeight,v=f&&f.HcTextStroke,y=o.length,b=function(t){return m?i(m):n.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||n.style.fontSize||12,t).h};y--;)e.removeChild(o[y]);!a&&!v&&r.indexOf(" ")===-1?e.appendChild(H.createTextNode(r)):(l=/<.*style="([^"]+)".*>/,h=/<.*href="(http[^"]+)".*>/,g&&!t.added&&this.box.appendChild(e),r=a?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[r],r[r.length-1]===""&&r.pop(),qt(r,function(i,r){var a,o=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");a=i.split("|||");qt(a,function(i){if(i!==""||a.length===1){var d={},m=H.createElementNS(nt,"tspan"),v;l.test(i)&&(v=i.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(m,"style",v));h.test(i)&&!s&&(c(m,"onclick",'location.href="'+i.match(h)[1]+'"'),p(m,{cursor:"pointer"}));i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(i!==" "){m.appendChild(H.createTextNode(i));if(o)d.dx=0;else if(r&&u!==null)d.x=u;c(m,d);e.appendChild(m);!o&&r&&(!st&&s&&p(m,{display:"block"}),c(m,"dy",b(m)));if(g)for(var i=i.replace(/([^\^])-/g,"$1- ").split(" "),d=a.length>1||i.length>1&&f.whiteSpace!=="nowrap",y,x,w=f.HcHeight,_=[],k=b(m),C=1;d&&(i.length||_.length);)delete t.bBox,y=t.getBBox(),x=y.width,!st&&n.forExport&&(x=n.measureSpanWidth(m.firstChild.data,t.styles)),y=x>g,!y||i.length===1?(i=_,_=[],i.length&&(C++,w&&C*k>w?(i=["..."],t.attr("title",t.textStr)):(m=H.createElementNS(nt,"tspan"),c(m,{dy:k,x:u}),v&&c(m,"style",v),e.appendChild(m))),x>g&&(g=x)):(m.removeChild(m.firstChild),_.unshift(i.pop())),i.length&&m.appendChild(H.createTextNode(i.join(" ").replace(/- /g,"-")));o++}}})}))},button:function(i,n,s,r,a,o,l,h,u){var c=this.label(i,n,s,u,null,null,null,null,"button"),f=0,d,p,g,m,v,y,i={x1:0,y1:0,x2:0,y2:1},a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);g=a.style;delete a.style;o=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},o);m=o.style;delete o.style;l=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l);v=l.style;delete l.style;h=e(a,{style:{color:"#CCC"}},h);y=h.style;delete h.style;Kt(c.element,Z?"mouseover":"mouseenter",function(){f!==3&&c.attr(o).css(m)});Kt(c.element,Z?"mouseout":"mouseleave",function(){f!==3&&(d=[a,o,l][f],p=[g,m,v][f],c.attr(d).css(p))});c.setState=function(t){(c.state=f=t)?t===2?c.attr(l).css(v):t===3&&c.attr(h).css(y):c.attr(a).css(g)};return c.on("click",function(){f!==3&&r.call(c)}).attr(a).css(t({cursor:"default"},g))},crispLine:function(t,e){t[1]===t[4]&&(t[1]=t[4]=R(t[1])-e%2/2);t[2]===t[5]&&(t[2]=t[5]=R(t[2])+e%2/2);return t},path:function(e){var i={fill:_t};r(e)?i.d=e:s(e)&&t(i,e);return this.createElement("path").attr(i)},circle:function(t,e,i){t=s(t)?t:{x:t,y:e,r:i};e=this.createElement("circle");e.xSetter=function(t){this.element.setAttribute("cx",t)};e.ySetter=function(t){this.element.setAttribute("cy",t)};return e.attr(t)},arc:function(t,e,i,n,r,a){if(s(t))e=t.y,i=t.r,n=t.innerR,r=t.start,a=t.end,t=t.x;t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:a||0});t.r=i;return t},rect:function(t,e,i,n,r,a){var r=s(t)?t.r:r,o=this.createElement("rect"),t=s(t)?t:t===O?{}:{x:t,y:e,width:Y(i,0),height:Y(n,0)};if(a!==O)t.strokeWidth=a,t=o.crisp(t);if(r)t.r=r;o.rSetter=function(t){c(this.element,{rx:t,ry:t})};return o.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;this.width=t;this.height=e;for(this.boxWrapper[d(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,n,s,r){var a={preserveAspectRatio:_t};arguments.length>1&&t(a,{x:i,y:n,width:s,height:r});a=this.createElement("image").attr(a);a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e);return a},symbol:function(e,i,n,s,r,a){var o,l=this.symbols[e],l=l&&l(R(i),R(n),s,r,a),h=/^url\((.*?)\)$/,u,c;if(l)o=this.path(l),t(o,{symbolName:e,x:i,y:n,width:s,height:r}),a&&t(o,a);else if(h.test(e))c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(R((s-e[0])/2),R((r-e[1])/2)))},u=e.match(h)[1],e=ht[u]||a&&a.width&&a.height&&[a.width,a.height],o=this.image(u).attr({x:i,y:n}),o.isImg=!0,e?c(o,e):(o.attr({width:0,height:0}),g("img",{onload:function(){c(o,ht[u]=[this.width,this.height])},src:u}));return o},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var r=s.start,i=s.r||i||n,a=s.end-.001,n=s.innerR,o=s.open,l=q(r),h=G(r),u=q(a),a=G(a),s=s.end-r<V?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,s,1,t+i*u,e+i*a,o?"M":"L",t+n*u,e+n*a,"A",n,n,0,s,0,t+n*l,e+n*h,o?"":"Z"]},callout:function(t,e,i,n,s){var r=$(s&&s.r||0,i,n),a=r+6,o=s&&s.anchorX,l=s&&s.anchorY,s=R(s.strokeWidth||0)%2/2;t+=s;e+=s;s=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e];o&&o>i&&l>e+a&&l<e+n-a?s.splice(13,3,"L",t+i,l-6,t+i+6,l,t+i,l+6,t+i,e+n-r):o&&o<0&&l>e+a&&l<e+n-a?s.splice(33,3,"L",t,l+6,t-6,l,t,l-6,t,e+r):l&&l>n&&o>t+a&&o<t+i-a?s.splice(23,3,"L",o+6,e+n,o,e+n+6,o-6,e+n,t+r,e+n):l&&l<0&&o>t+a&&o<t+i-a&&s.splice(3,3,"L",o-6,e,o,e-6,o+6,e,i-r,e);return s}},clipRect:function(t,e,i,n){var s="highcharts-"+ut++,r=this.createElement("clipPath").attr({id:s}).add(this.defs),t=this.rect(t,e,i,n,0).add(r);t.id=s;t.clipPath=r;return t},text:function(t,e,i,n){var s=at||!st&&this.forExport,r={};if(n&&!this.forExport)return this.html(t,e,i);r.x=Math.round(e||0);if(i)r.y=Math.round(i);if(t||t===0)r.text=t;t=this.createElement("text").attr(r);s&&t.css({position:"absolute"});if(!n)t.xSetter=function(t,e,i){var n=i.getElementsByTagName("tspan"),s,r=i.getAttribute(e),a;for(a=0;a<n.length;a++)s=n[a],s.getAttribute(e)===r&&s.setAttribute(e,t);i.setAttribute(e,t)};return t},fontMetrics:function(t,e){t=t||this.style.fontSize;if(e&&z.getComputedStyle)e=e.element||e,t=z.getComputedStyle(e,"").fontSize;var t=/px/.test(t)?i(t):/em/.test(t)?parseFloat(t)*12:12,n=t<24?t+4:R(t*1.2),s=R(n*.8);return{h:n,b:s,f:t}},label:function(i,n,s,r,a,o,l,h,c){function f(){var e,i;e=v.element.style;b=(k===void 0||C===void 0||m.styles.textAlign)&&v.textStr&&v.getBBox();m.width=(k||b.width||0)+2*w+_;m.height=(C||b.height||0)+2*w;P=w+g.fontMetrics(e&&e.fontSize,v).b;if(A){if(!y)e=R(-x*w),i=h?-P:0,m.box=y=r?g.symbol(r,e,i,m.width,m.height,M):g.rect(e,i,m.width,m.height,0,M[Ct]),y.attr("fill",_t).add(m);y.isImg||y.attr(t({width:R(m.width),height:R(m.height)},M));M=null}}function d(){var t=m.styles,t=t&&t.textAlign,e=_+w*(1-x),i;i=h?0:P;if(u(k)&&b&&(t==="center"||t==="right"))e+={center:.5,right:1}[t]*(k-b.width);if(e!==v.x||i!==v.y)v.attr("x",e),i!==O&&v.attr("y",i);v.x=e;v.y=i}function p(t,e){y?y.attr(t,e):M[t]=e}var g=this,m=g.g(c),v=g.text("",0,0,l).attr({zIndex:1}),y,b,x=0,w=3,_=0,k,C,T,D,S=0,M={},P,A;m.onAdd=function(){v.add(m);m.attr({text:i||i===0?i:"",x:n,y:s});y&&u(a)&&m.attr({anchorX:a,anchorY:o})};m.widthSetter=function(t){k=t};m.heightSetter=function(t){C=t};m.paddingSetter=function(t){u(t)&&t!==w&&(w=t,d())};m.paddingLeftSetter=function(t){u(t)&&t!==_&&(_=t,d())};m.alignSetter=function(t){x={left:0,center:.5,right:1}[t]};m.textSetter=function(t){t!==O&&v.textSetter(t);f();d()};m["stroke-widthSetter"]=function(t,e){t&&(A=!0);S=t%2/2;p(e,t)};m.strokeSetter=m.fillSetter=m.rSetter=function(t,e){e==="fill"&&t&&(A=!0);p(e,t)};m.anchorXSetter=function(t,e){a=t;p(e,t+S-T)};m.anchorYSetter=function(t,e){o=t;p(e,t-D)};m.xSetter=function(t){m.x=t;x&&(t-=x*((k||b.width)+w));T=R(t);m.attr("translateX",T)};m.ySetter=function(t){D=m.y=R(t);m.attr("translateY",D)};var E=m.css;return t(m,{css:function(t){if(t){var i={},t=e(t);qt(m.textProps,function(e){t[e]!==O&&(i[e]=t[e],delete t[e])});v.css(i)}return E.call(m,t)},getBBox:function(){return{width:b.width+2*w,height:b.height+2*w,x:b.x-w,y:b.y-w}},shadow:function(t){y&&y.shadow(t);return m},destroy:function(){Qt(m.element,"mouseenter");Qt(m.element,"mouseleave");v&&(v=v.destroy());y&&(y=y.destroy());I.prototype.destroy.call(m);m=g=f=d=p=null}})}};ot=oe;t(I.prototype,{htmlCss:function(e){var i=this.element;if(i=e&&i.tagName==="SPAN"&&e.width)delete e.width,this.textWidth=i,this.updateTransform();this.styles=t(this.styles,e);p(this.element,e);return this},htmlGetBBox:function(){var t=this.element,e=this.bBox;if(!e){if(t.nodeName==="text")t.style.position="absolute";e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}return e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,r=this.x||0,a=this.y||0,o=this.textAlign||"left",l={left:0,center:.5,right:1}[o],h=this.shadows;p(e,{marginLeft:n,marginTop:s});h&&qt(h,function(t){p(t,{marginLeft:n+1,marginTop:s+1})});this.inverted&&qt(e.childNodes,function(i){t.invertChild(i,e)});if(e.tagName==="SPAN"){var c=this.rotation,f,g=i(this.textWidth),m=[c,o,e.innerHTML,this.textWidth].join(",");if(m!==this.cTT){f=t.fontMetrics(e.style.fontSize).b;u(c)&&this.setSpanRotation(c,l,f);h=d(this.elemWidth,e.offsetWidth);if(h>g&&/[ \-]/.test(e.textContent||e.innerText))p(e,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g;this.getSpanCorrection(h,f,l,c,o)}p(e,{left:r+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"});if(tt)f=e.offsetHeight;this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=Z?"-ms-transform":tt?"-webkit-transform":et?"MozTransform":Q?"-o-transform":"";n[s]=n.transform="rotate("+t+"deg)";n[s+(et?"Origin":"-origin")]=n.transformOrigin=e*100+"% "+i+"px";p(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i;this.yCorr=-e}});t(oe.prototype,{html:function(e,i,n){var s=this.createElement("span"),r=s.element,a=s.renderer;s.textSetter=function(t){t!==r.innerHTML&&delete this.bBox;r.innerHTML=this.textStr=t};s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){e==="align"&&(e="textAlign");s[e]=t;s.htmlUpdateTransform()};s.attr({text:e,x:R(i),y:R(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});s.css=s.htmlCss;if(a.isSVG)s.add=function(e){var i,n=a.box.parentNode,o=[];if(this.parentGroup=e){if(i=e.div,!i){for(;e;)o.push(e),e=e.parentGroup;qt(o.reverse(),function(e){var s;i=e.div=e.div||g(wt,{className:c(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||n);s=i.style;t(e,{translateXSetter:function(t,i){s.left=t+"px";e[i]=t;e.doTransform=!0},translateYSetter:function(t,i){s.top=t+"px";e[i]=t;e.doTransform=!0},visibilitySetter:function(t,e){s[e]=t}})})}}else i=n;i.appendChild(r);s.added=!0;s.alignOnAdd&&s.htmlUpdateTransform();return s};return s}});var le;if(!st&&!at){le={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===wt;(e==="shape"||s)&&n.push("left:0;top:0;width:1px;height:1px;");n.push("visibility: ",s?"hidden":"visible");i.push(' style="',n.join(""),'"/>');if(e)i=s||e==="span"||e==="img"?i.join(""):t.prepVML(i),this.element=g(i);this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,n=t?t.element||t:n;t&&t.inverted&&e.invertChild(i,n);n.appendChild(i);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=q(t*U),i=G(t*U);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):_t})},getSpanCorrection:function(t,e,i,n,s){var r=n?q(n*U):1,a=n?G(n*U):0,o=d(this.elemHeight,this.element.offsetHeight),l;this.xCorr=r<0&&-t;this.yCorr=a<0&&-o;l=r*a<0;this.xCorr+=a*e*(l?1-i:i);this.yCorr-=r*e*(n?l?i:1-i:1);s&&s!=="left"&&(this.xCorr-=t*i*(r<0?-1:1),n&&(this.yCorr-=o*i*(a<0?-1:1)),p(this.element,{textAlign:s}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)if(a(t[e]))i[e]=R(t[e]*10)-5;else if(t[e]==="Z")i[e]="x";else if(i[e]=t[e],t.isArc&&(t[e]==="wa"||t[e]==="at"))i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1);return i.join(" ")||"x"},clip:function(t){var e=this,i;t?(i=t.members,h(i,e),i.push(e),e.destroyClip=function(){h(i,e)},t=t.getCSS(e)):(e.destroyClip&&e.destroyClip(),t={clip:J?"inherit":"rect(auto)"});return e.css(t)},css:I.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&S(t)},destroy:function(){this.destroyClip&&this.destroyClip();return I.prototype.destroy.apply(this)},on:function(t,e){this.element["on"+t]=function(){var t=z.event;t.target=t.srcElement;e(t)};return this},cutOffPath:function(t,e){var n,t=t.split(/[ ,]/);n=t.length;if(n===9||n===11)t[n-4]=t[n-2]=i(t[n-2])-10*e;return t.join(" ")},shadow:function(t,e,n){var s=[],r,a=this.element,o=this.renderer,l,h=a.style,u,c=a.path,f,p,m,v;c&&typeof c.value!=="string"&&(c="x");p=c;if(t){m=d(t.width,3);v=(t.opacity||.15)/m;for(r=1;r<=3;r++){f=m*2+1-2*r;n&&(p=this.cutOffPath(c.value,f+.5));u=['<shape isShadow="true" strokeweight="',f,'" filled="false" path="',p,'" coordsize="10 10" style="',a.style.cssText,'" />'];l=g(o.prepVML(u),null,{left:i(h.left)+d(t.offsetX,1),top:i(h.top)+d(t.offsetY,1)});if(n)l.cutOff=f+1;u=['<stroke color="',t.color||"black",'" opacity="',v*r,'"/>'];g(o.prepVML(u),null,null,l);e?e.element.appendChild(l):a.parentNode.insertBefore(l,a);s.push(l)}this.shadows=s}return this},updateShadows:yt,setAttr:function(t,e){J?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||g(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid";this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];this.d=t.join&&t.join(" ");i.path=t=this.pathToVML(t);if(n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;if(n==="SPAN")i.style.color=t;else if(n!=="IMG")i.filled=t!==_t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this))},opacitySetter:yt,rotationSetter:function(t,e,i){i=i.style;this[e]=i[e]=t;i.left=-R(G(t*U)+1)+"px";i.top=R(q(t*U))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t;this[e]=t;a(t)&&(t+="px");this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){t==="inherit"&&(t="visible");this.shadows&&qt(this.shadows,function(i){i.style[e]=t});i.nodeName==="DIV"&&(t=t==="hidden"?"-999em":0,J||(i.style[e]=t?"visible":"hidden"),e="top");i.style[e]=t},xSetter:function(t,e,i){this[e]=t;e==="x"?e="left":e==="y"&&(e="top");this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}};Rt.VMLElement=le=m(I,le);le.prototype.ySetter=le.prototype.widthSetter=le.prototype.heightSetter=le.prototype.xSetter;var he={Element:le,isIE8:K.indexOf("MSIE 8.0")>-1,init:function(e,i,n,s){var r;this.alignedObjects=[];s=this.createElement(wt).css(t(this.getStyle(s),{position:"relative"}));r=s.element;e.appendChild(s.element);this.isVML=!0;this.box=r;this.boxWrapper=s;this.cache={};this.setSize(i,n,!1);if(!H.namespaces.hcv){H.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{H.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(a){H.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,r){var a=this.createElement(),o=s(e);return t(a,{members:[],left:(o?e.x:e)+1,top:(o?e.y:i)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var i=e.element,n=i.nodeName,e=e.inverted,s=this.top-(n==="shape"?i.offsetTop:0),r=this.left,i=r+this.width,a=s+this.height,s={clip:"rect("+R(e?r:s)+"px,"+R(e?a:i)+"px,"+R(e?i:a)+"px,"+R(e?s:r)+"px)"};!e&&J&&n==="DIV"&&t(s,{width:i+"px",height:a+"px"});return s},updateClipping:function(){qt(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var s=this,r,a=/^rgba/,o,l,h=_t;t&&t.linearGradient?l="gradient":t&&t.radialGradient&&(l="pattern");if(l){var u,c,f=t.linearGradient||t.radialGradient,d,p,m,v,y,b="",t=t.stops,x,w=[],_=function(){o=['<fill colors="'+w.join(",")+'" opacity="',m,'" o:opacity2="',p,'" type="',l,'" ',b,'focus="100%" method="any" />'];g(s.prepVML(o),null,null,e)};d=t[0];x=t[t.length-1];d[0]>0&&t.unshift([0,d[1]]);x[0]<1&&t.push([1,x[1]]);qt(t,function(t,e){a.test(t[1])?(r=ae(t[1]),u=r.get("rgb"),c=r.get("a")):(u=t[1],c=1);w.push(t[0]*100+"% "+u);e?(m=c,v=u):(p=c,y=u)});if(i==="fill")if(l==="gradient")i=f.x1||f[0]||0,t=f.y1||f[1]||0,d=f.x2||f[2]||0,f=f.y2||f[3]||0,b='angle="'+(90-B.atan((f-t)/(d-i))*180/V)+'"',_();else{var h=f.r,k=h*2,C=h*2,T=f.cx,D=f.cy,S=e.radialReference,M,h=function(){S&&(M=n.getBBox(),T+=(S[0]-M.x)/M.width-.5,D+=(S[1]-M.y)/M.height-.5,k*=S[2]/M.width,C*=S[2]/M.height);b='src="'+ft.global.VMLRadialGradientURL+'" size="'+k+","+C+'" origin="0.5,0.5" position="'+T+","+D+'" color2="'+y+'" ';_()};n.added?h():n.onAdd=h;h=v}else h=u}else if(a.test(t)&&e.tagName!=="IMG")r=ae(t),o=["<",i,' opacity="',r.get("a"),'"/>'],g(this.prepVML(o),null,null,e),h=r.get("rgb");else{h=e.getElementsByTagName(i);if(h.length)h[0].opacity=1,h[0].type="solid";h=t}return h},prepVML:function(t){var e=this.isIE8,t=t.join("");e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:");return t},text:oe.prototype.html,path:function(e){var i={coordsize:"10 10"};r(e)?i.d=e:s(e)&&t(i,e);return this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");if(s(t))i=t.r,e=t.y,t=t.x;n.isCircle=!0;n.r=i;return n.attr({x:t,y:e})},g:function(t){var e;t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t});return this.createElement(wt).attr(e)},image:function(t,e,i,n,s){var r=this.createElement("img").attr({src:t});arguments.length>1&&r.attr({x:e,y:i,width:n,height:s});return r},createElement:function(t){return t==="rect"?this.symbol(t):oe.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,s=e.style,r=t.tagName==="IMG"&&t.style;p(t,{flip:"x",left:i(s.width)-(r?i(r.top):1),top:i(s.height)-(r?i(r.left):1),rotation:-90});qt(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,s){var r=s.start,a=s.end,o=s.r||i||n,i=s.innerR,n=q(r),l=G(r),h=q(a),u=G(a);if(a-r===0)return["x"];r=["wa",t-o,e-o,t+o,e+o,t+o*n,e+o*l,t+o*h,e+o*u];s.open&&!i&&r.push("e","M",t,e);r.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*u,t+i*n,e+i*l,"x","e");r.isArc=!0;return r},circle:function(t,e,i,n,s){s&&(i=n=2*s.r);s&&s.isCircle&&(t-=i/2,e-=n/2);return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){return oe.prototype.symbols[!u(s)||!s.r?"square":"callout"].call(0,t,e,i,n,s)}}};Rt.VMLRenderer=le=function(){this.init.apply(this,arguments)};le.prototype=e(oe.prototype,he);ot=le}oe.prototype.measureSpanWidth=function(t,e){var i=H.createElement("span"),n;n=H.createTextNode(t);i.appendChild(n);p(i,e);this.box.appendChild(i);n=i.offsetWidth;S(i);return n};var ue;if(at)Rt.CanVGRenderer=le=function(){nt="http://www.w3.org/1999/xhtml"},le.prototype.symbols={},ue=function(){function t(){var t=e.length,i;for(i=0;i<t;i++)e[i]();e=[]}var e=[];return{push:function(i,n){e.length===0&&$t(n,t);e.push(i)}}}(),ot=le;E.prototype={addLabel:function(){var e=this.axis,i=e.options,n=e.chart,s=e.horiz,r=e.categories,o=e.names,h=this.pos,c=i.labels,f=c.rotation,p=e.tickPositions,s=s&&r&&!c.step&&!c.staggerLines&&!c.rotation&&n.plotWidth/p.length||!s&&(n.margin[3]||n.chartWidth*.33),g=h===p[0],m=h===p[p.length-1],v,o=r?d(r[h],o[h],h):h,r=this.label,y=p.info;e.isDatetimeAxis&&y&&(v=i.dateTimeLabelFormats[y.higherRanks[h]||y.unitName]);this.isFirst=g;this.isLast=m;i=e.labelFormatter.call({axis:e,chart:n,isFirst:g,isLast:m,dateTimeLabelFormat:v,value:e.isLog?M(l(o)):o});h=s&&{width:Y(1,R(s-2*(c.padding||10)))+"px"};if(u(r))r&&r.attr({text:i}).css(h);else{v={align:e.labelAlign};if(a(f))v.rotation=f;if(s&&c.ellipsis)h.HcHeight=e.len/p.length;this.label=r=u(i)&&c.enabled?n.renderer.text(i,0,0,c.useHTML).attr(v).css(t(h,c.style)).add(e.labelGroup):null;e.tickBaseline=n.renderer.fontMetrics(c.style.fontSize,r).b;f&&e.side===2&&(e.tickBaseline*=q(f*U))}this.yOffset=r?d(c.y,e.tickBaseline+(e.side===2?8:-(r.getBBox().height/2))):0},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options.labels,t=i?t.width:t.height,e=i?n.x-t*{left:0,center:.5,right:1}[e.labelAlign]:0;return[e,i?t+e:t]},handleOverflow:function(t,e){var i=!0,n=this.axis,s=this.isFirst,r=this.isLast,a=n.horiz?e.x:e.y,o=n.reversed,l=n.tickPositions,h=this.getLabelSides(),u=h[0],h=h[1],c,f,d,p=this.label.line;c=p||0;f=n.labelEdge;d=n.justifyLabels&&(s||r);f[c]===O||a+u>f[c]?f[c]=a+h:d||(i=!1);if(d){c=(f=n.justifyToPlot)?n.pos:0;f=f?c+n.len:n.chart.chartWidth;do t+=s?1:-1,d=n.ticks[l[t]];while(l[t]&&(!d||!d.label||d.label.line!==p));n=d&&d.label.xy&&d.label.xy.x+d.getLabelSides()[s?0:1];s&&!o||r&&o?a+u<c&&(a=c-u,d&&a+h>n&&(i=!1)):a+h>f&&(a=f-h,d&&a+u<n&&(i=!1));e.x=a}return i},getPosition:function(t,e,i,n){var s=this.axis,r=s.chart,a=n&&r.oldChartHeight||r.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:t?a-s.bottom+s.offset-(s.opposite?s.height:0):a-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,r,a,o){var l=this.axis,h=l.transA,u=l.reversed,c=l.staggerLines,t=t+s.x-(r&&n?r*h*(u?-1:1):0),e=e+this.yOffset-(r&&!n?r*h*(u?1:-1):0);if(c)i.line=a/(o||1)%c,e+=i.line*(l.labelOffset/c);return{x:t,y:e}},getMarkPath:function(t,e,i,n,s,r){return r.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,r=n.chart.renderer,a=n.horiz,o=this.type,l=this.label,h=this.pos,u=s.labels,c=this.gridLine,f=o?o+"Grid":"grid",p=o?o+"Tick":"tick",g=s[f+"LineWidth"],m=s[f+"LineColor"],v=s[f+"LineDashStyle"],y=s[p+"Length"],f=s[p+"Width"]||0,b=s[p+"Color"],x=s[p+"Position"],p=this.mark,w=u.step,_=!0,k=n.tickmarkOffset,C=this.getPosition(a,h,k,e),T=C.x,C=C.y,D=a&&T===n.pos+n.len||!a&&C===n.pos?-1:1,i=d(i,1);this.isActive=!0;if(g){h=n.getPlotLinePath(h+k,g*D,e,!0);if(c===O){c={stroke:m,"stroke-width":g};if(v)c.dashstyle=v;if(!o)c.zIndex=1;if(e)c.opacity=0;this.gridLine=c=g?r.path(h).attr(c).add(n.gridGroup):null}if(!e&&c&&h)c[this.isNew?"attr":"animate"]({d:h,opacity:i})}if(f&&y)x==="inside"&&(y=-y),n.opposite&&(y=-y),o=this.getMarkPath(T,C,y,f*D,a,r),p?p.animate({d:o,opacity:i}):this.mark=r.path(o).attr({stroke:b,"stroke-width":f,opacity:i}).add(n.axisGroup);if(l&&!isNaN(T))l.xy=C=this.getLabelPosition(T,C,l,a,u,k,t,w),this.isFirst&&!this.isLast&&!d(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!d(s.showLastLabel,1)?_=!1:!n.isRadial&&!u.step&&!u.rotation&&!e&&i!==0&&(_=this.handleOverflow(t,C)),w&&t%w&&(_=!1),_&&!isNaN(C.y)?(C.opacity=i,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999)},destroy:function(){D(this,this.axis)}};Rt.PlotLineOrBand=function(t,e){this.axis=t;if(e)this.options=e,this.id=e.id};Rt.PlotLineOrBand.prototype={render:function(){var t=this,i=t.axis,n=i.horiz,s=(i.pointRange||0)/2,r=t.options,a=r.label,l=t.label,h=r.width,c=r.to,f=r.from,d=u(f)&&u(c),p=r.value,g=r.dashStyle,m=t.svgElem,v=[],y,b=r.color,x=r.zIndex,w=r.events,_={},k=i.chart.renderer;i.isLog&&(f=o(f),c=o(c),p=o(p));if(h){if(v=i.getPlotLinePath(p,h),_={stroke:b,"stroke-width":h},g)_.dashstyle=g}else if(d){f=Y(f,i.min-s);c=$(c,i.max+s);v=i.getPlotBandPath(f,c,r);if(b)_.fill=b;if(r.borderWidth)_.stroke=r.borderColor,_["stroke-width"]=r.borderWidth}else return;if(u(x))_.zIndex=x;if(m)if(v)m.animate({d:v},null,m.onGetPath);else{if(m.hide(),m.onGetPath=function(){m.show()},l)t.label=l=l.destroy()}else if(v&&v.length&&(t.svgElem=m=k.path(v).attr(_).add(),w))for(y in s=function(e){m.on(e,function(i){w[e].apply(t,[i])})},w)s(y);if(a&&u(a.text)&&v&&v.length&&i.width>0&&i.height>0){a=e({align:n&&d&&"center",x:n?!d&&4:10,verticalAlign:!n&&d&&"middle",y:n?d?16:10:d?6:-4,rotation:n&&!d&&90},a);if(!l){_={align:a.textAlign||a.align,rotation:a.rotation};if(u(x))_.zIndex=x;t.label=l=k.text(a.text,0,0,a.useHTML).attr(_).css(a.style).add()}i=[v[1],v[4],d?v[6]:v[1]];d=[v[2],v[5],d?v[7]:v[2]];v=C(i);n=C(d);l.align(a,!1,{x:v,y:n,width:T(i)-v,height:T(d)-n});l.show()}else l&&l.hide();return t},destroy:function(){h(this.axis.plotLinesAndBands,this);delete this.axis;D(this)}};L.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Wt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Wt.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i;this.coll=(this.isXAxis=i)?"xAxis":"yAxis";this.opposite=e.opposite;this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(e);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter;this.userOptions=e;this.minPixelPadding=0;this.chart=t;this.reversed=n.reversed;this.zoomEnabled=n.zoomEnabled!==!1;this.categories=n.categories||s==="category";this.names=[];this.isLog=s==="logarithmic";this.isDatetimeAxis=s==="datetime";this.isLinked=u(n.linkedTo);this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"&&d(n.tickInterval,1)===1?.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=n.minRange||n.maxZoom;this.range=n.range;this.offset=n.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=d(n.crosshair,f(t.options.tooltip.crosshairs)[i?0:1],!1);var r,n=this.options.events;Xt(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this));this.series=this.series||[];if(t.inverted&&i&&this.reversed===O)this.reversed=!0;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)Kt(this,r,n[r]);if(this.isLog)this.val2lin=o,this.lin2val=l},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(ft[this.coll],t))},defaultLabelFormatter:function(){var t=this.axis,e=this.value,i=t.categories,n=this.dateTimeLabelFormat,s=ft.lang.numericSymbols,r=s&&s.length,a,o=t.options.labels.format,t=t.isLog?e:t.tickInterval;if(o)a=x(o,this);else if(i)a=e;else if(n)a=dt(n,e);else if(r&&t>=1e3)for(;r--&&a===O;)i=Math.pow(1e3,r+1),t>=i&&s[r]!==null&&(a=v(e/i,-1)+s[r]);a===O&&(a=X(e)>=1e4?v(e,0):v(e,-1,O,""));return a},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1;t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null;t.buildStacks&&t.buildStacks();qt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var s;t.hasVisibleSeries=!0;t.isLog&&n<=0&&(n=null);if(t.isXAxis){if(n=i.xData,n.length)t.dataMin=$(d(t.dataMin,n[0]),C(n)),t.dataMax=Y(d(t.dataMax,n[0]),T(n))}else{i.getExtremes();s=i.dataMax;i=i.dataMin;if(u(i)&&u(s))t.dataMin=$(d(t.dataMin,i),i),t.dataMax=Y(d(t.dataMax,s),s);if(u(n))if(t.dataMin>=n)t.dataMin=n,t.ignoreMinPadding=!0;else if(t.dataMax<n)t.dataMax=n,t.ignoreMaxPadding=!0}}})},translate:function(t,e,i,n,s,r){var o=1,l=0,h=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,u=this.minPixelPadding,s=(this.options.ordinal||this.isLog&&s)&&this.lin2val;if(!h)h=this.transA;if(i)o*=-1,l=this.len;this.reversed&&(o*=-1,l-=o*(this.sector||this.len));e?(t=t*o+l,t-=u,t=t/h+n,s&&(t=this.lin2val(t))):(s&&(t=this.val2lin(t)),r==="between"&&(r=.5),t=o*(t-n)*h+l+o*u+(a(r)?h*r*this.pointRange:0));return t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var r=this.chart,a=this.left,o=this.top,l,h,u=i&&r.oldChartHeight||r.chartHeight,c=i&&r.oldChartWidth||r.chartWidth,f;l=this.transB;s=d(s,this.translate(t,null,null,i));t=i=R(s+l);l=h=R(u-s-l);if(isNaN(s))f=!0;else if(this.horiz){if(l=o,h=u-this.bottom,t<a||t>a+this.width)f=!0}else if(t=a,i=c-this.right,l<o||l>o+this.height)f=!0;return f&&!n?null:r.renderer.crispLine(["M",t,l,"L",i,h],e||1)},getLinearTickPositions:function(t,e,i){var n,s=M(j(e/t)*t),r=M(W(i/t)*t),o=[];if(e===i&&a(e))return[e];for(e=s;e<=r;){o.push(e);e=M(e+t);if(e===n)break;n=e}return o},getMinorTickPositions:function(){var t=this.options,e=this.tickPositions,i=this.minorTickInterval,n=[],s;if(this.isLog){s=e.length;
for(t=1;t<s;t++)n=n.concat(this.getLogTickPositions(i,e[t-1],e[t],!0))}else if(this.isDatetimeAxis&&t.minorTickInterval==="auto")n=n.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),this.min,this.max,t.startOfWeek)),n[0]<this.min&&n.shift();else for(e=this.min+(e[0]-this.min)%i;e<=this.max;e+=i)n.push(e);return n},adjustForMinRange:function(){var t=this.options,e=this.min,i=this.max,n,s=this.dataMax-this.dataMin>=this.minRange,r,a,o,l,h;if(this.isXAxis&&this.minRange===O&&!this.isLog)u(t.min)||u(t.max)?this.minRange=null:(qt(this.series,function(t){l=t.xData;for(a=h=t.xIncrement?1:l.length-1;a>0;a--)if(o=l[a]-l[a-1],r===O||o<r)r=o}),this.minRange=$(r*5,this.dataMax-this.dataMin));if(i-e<this.minRange){var c=this.minRange;n=(c-i+e)/2;n=[e-n,d(t.min,e-n)];if(s)n[2]=this.dataMin;e=T(n);i=[e+c,d(t.max,e+c)];if(s)i[2]=this.dataMax;i=C(i);i-e<c&&(n[0]=i-c,n[1]=d(t.min,i-c),e=T(n))}this.min=e;this.max=i},setAxisTranslation:function(t){var e=this,i=e.max-e.min,s=e.axisPointRange||0,r,a=0,o=0,l=e.linkedParent,h=!!e.categories,c=e.transA;if(e.isXAxis||h||s)l?(a=l.minPointOffset,o=l.pointRangePadding):qt(e.series,function(t){var l=h?1:e.isXAxis?t.pointRange:e.axisPointRange||0,c=t.options.pointPlacement,f=t.closestPointRange;l>i&&(l=0);s=Y(s,l);a=Y(a,n(c)?0:l/2);o=Y(o,c==="on"?0:l);!t.noSharedTooltip&&u(f)&&(r=u(r)?$(r,f):f)}),l=e.ordinalSlope&&r?e.ordinalSlope/r:1,e.minPointOffset=a*=l,e.pointRangePadding=o*=l,e.pointRange=$(s,i),e.closestPointRange=r;if(t)e.oldTransA=c;e.translationSlope=e.transA=c=e.len/(i+o||1);e.transB=e.horiz?e.left:e.bottom;e.minPixelPadding=c*a},setTickPositions:function(t){var e=this,i=e.chart,n=e.options,s=n.startOnTick,r=n.endOnTick,l=e.isLog,h=e.isDatetimeAxis,c=e.isXAxis,f=e.isLinked,p=e.options.tickPositioner,g=n.maxPadding,m=n.minPadding,v=n.tickInterval,y=n.minTickInterval,b=n.tickPixelInterval,x,k=e.categories;f?(e.linkedParent=i[e.coll][n.linkedTo],i=e.linkedParent.getExtremes(),e.min=d(i.min,i.dataMin),e.max=d(i.max,i.dataMax),n.type!==e.linkedParent.options.type&&vt(11,1)):(e.min=d(e.userMin,n.min,e.dataMin),e.max=d(e.userMax,n.max,e.dataMax));if(l)!t&&$(e.min,d(e.dataMin,e.min))<=0&&vt(10,1),e.min=M(o(e.min)),e.max=M(o(e.max));if(e.range&&u(e.max))e.userMin=e.min=Y(e.min,e.max-e.range),e.userMax=e.max,e.range=null;e.beforePadding&&e.beforePadding();e.adjustForMinRange();if(!k&&!e.axisPointRange&&!e.usePercentage&&!f&&u(e.min)&&u(e.max)&&(i=e.max-e.min)){if(!u(n.min)&&!u(e.userMin)&&m&&(e.dataMin<0||!e.ignoreMinPadding))e.min-=i*m;if(!u(n.max)&&!u(e.userMax)&&g&&(e.dataMax>0||!e.ignoreMaxPadding))e.max+=i*g}if(a(n.floor))e.min=Y(e.min,n.floor);if(a(n.ceiling))e.max=$(e.max,n.ceiling);e.min===e.max||e.min===void 0||e.max===void 0?e.tickInterval=1:f&&!v&&b===e.linkedParent.options.tickPixelInterval?e.tickInterval=e.linkedParent.tickInterval:(e.tickInterval=d(v,k?1:(e.max-e.min)*b/Y(e.len,b)),!u(v)&&e.len<b&&!this.isRadial&&!this.isLog&&!k&&s&&r&&(x=!0,e.tickInterval/=4));c&&!t&&qt(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)});e.setAxisTranslation(!0);e.beforeSetTickPositions&&e.beforeSetTickPositions();if(e.postProcessTickInterval)e.tickInterval=e.postProcessTickInterval(e.tickInterval);if(e.pointRange)e.tickInterval=Y(e.pointRange,e.tickInterval);if(!v&&e.tickInterval<y)e.tickInterval=y;if(!h&&!l&&!v)e.tickInterval=_(e.tickInterval,null,w(e.tickInterval),d(n.allowDecimals,!(e.tickInterval>1&&e.tickInterval<5&&e.max>1e3&&e.max<9999)));e.minorTickInterval=n.minorTickInterval==="auto"&&e.tickInterval?e.tickInterval/5:n.minorTickInterval;e.tickPositions=t=n.tickPositions?[].concat(n.tickPositions):p&&p.apply(e,[e.min,e.max]);if(!t)!e.ordinalPositions&&(e.max-e.min)/e.tickInterval>Y(2*e.len,200)&&vt(19,!0),t=h?e.getTimeTicks(e.normalizeTimeTickInterval(e.tickInterval,n.units),e.min,e.max,n.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):l?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),x&&t.splice(1,t.length-2),e.tickPositions=t;if(!f)n=t[0],l=t[t.length-1],h=e.minPointOffset||0,s?e.min=n:e.min-h>n&&t.shift(),r?e.max=l:e.max+h<l&&t.pop(),t.length===0&&u(n)&&t.push((l+n)/2),t.length===1&&(s=X(e.max)>1e13?1:.001,e.min-=s,e.max+=s)},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1)e[n]=i.length;t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==O){var n=this.tickAmount,s=e.length;this.tickAmount=t=i[t];if(s<t){for(;e.length<t;)e.push(M(e[e.length-1]+this.tickInterval));this.transA*=(s-1)/(t-1);this.max=e[e.length-1]}if(u(n)&&t!==n)this.isDirty=!0}},setScale:function(){var t=this.stacks,e,i,n,s;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();s=this.len!==this.oldAxisLength;qt(this.series,function(t){if(t.isDirtyData||t.isDirty||t.xAxis.isDirty)n=!0});if(s||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in t)for(i in t[e])t[e][i].total=null,t[e][i].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty)this.isDirty=s||this.min!==this.oldMin||this.max!==this.oldMax}else if(!this.isXAxis){if(this.oldStacks)t=this.stacks=this.oldStacks;for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}this.setMaxTicks()},setExtremes:function(e,i,n,s,r){var a=this,o=a.chart,n=d(n,!0),r=t(r,{min:e,max:i});Zt(a,"setExtremes",r,function(){a.userMin=e;a.userMax=i;a.eventArgs=r;a.isDirtyExtremes=!0;n&&o.redraw(s)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options;this.allowZoomOutside||(u(i)&&t<=$(i,d(s.min,i))&&(t=O),u(n)&&e>=Y(n,d(s.max,n))&&(e=O));this.displayBtn=t!==O||e!==O;this.setExtremes(t,e,!1,O,{trigger:"zoom"});return!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,s=d(e.width,t.plotWidth-i+(e.offsetRight||0)),r=d(e.height,t.plotHeight),a=d(e.top,t.plotTop),e=d(e.left,t.plotLeft+i),i=/%$/;i.test(r)&&(r=parseInt(r,10)/100*t.plotHeight);i.test(a)&&(a=parseInt(a,10)/100*t.plotHeight+t.plotTop);this.left=e;this.top=a;this.width=s;this.height=r;this.bottom=t.chartHeight-r-a;this.right=t.chartWidth-s-e;this.len=Y(n?s:r,0);this.pos=n?e:a},getExtremes:function(){var t=this.isLog;return{min:t?M(l(this.min)):this.min,max:t?M(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;i>t||t===null?t=i:e<t&&(t=e);return this.translate(t,0,1,0,1)},autoLabelAlign:function(t){t=(d(t,0)-this.side*90+720)%360;return t>15&&t<165?"right":t>195&&t<345?"left":"center"},getOffset:function(){var t=this,e=t.chart,i=e.renderer,n=t.options,s=t.tickPositions,r=t.ticks,a=t.horiz,o=t.side,l=e.inverted?[1,0,3,2][o]:o,h,c,f=0,p,g=0,m=n.title,v=n.labels,y=0,b=e.axisOffset,e=e.clipOffset,x=[-1,1,1,-1][o],w,_=1,k=d(v.maxStaggerLines,5),C,T,D,S,M;t.hasData=h=t.hasVisibleSeries||u(t.min)&&u(t.max)&&!!s;t.showAxis=c=h||d(n.showEmpty,!0);t.staggerLines=t.horiz&&v.staggerLines;if(!t.axisGroup)t.gridGroup=i.g("grid").attr({zIndex:n.gridZIndex||1}).add(),t.axisGroup=i.g("axis").attr({zIndex:n.zIndex||2}).add(),t.labelGroup=i.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+t.coll.toLowerCase()+"-labels").add();if(h||t.isLinked){t.labelAlign=d(v.align||t.autoLabelAlign(v.rotation));qt(s,function(e){r[e]?r[e].addLabel():r[e]=new E(t,e)});if(t.horiz&&!t.staggerLines&&k&&!v.rotation){for(h=t.reversed?[].concat(s).reverse():s;_<k;){C=[];T=!1;for(w=0;w<h.length;w++)D=h[w],S=(S=r[D].label&&r[D].label.getBBox())?S.width:0,M=w%_,S&&(D=t.translate(D),C[M]!==O&&D<C[M]&&(T=!0),C[M]=D+S);if(T)_++;else break}if(_>1)t.staggerLines=_}qt(s,function(e){if(o===0||o===2||{1:"left",3:"right"}[o]===t.labelAlign)y=Y(r[e].getLabelSize(),y)});if(t.staggerLines)y*=t.staggerLines,t.labelOffset=y}else for(w in r)r[w].destroy(),delete r[w];if(m&&m.text&&m.enabled!==!1){if(!t.axisTitle)t.axisTitle=i.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(t.axisGroup),t.axisTitle.isNew=!0;if(c)f=t.axisTitle.getBBox()[a?"height":"width"],p=m.offset,g=u(p)?0:d(m.margin,a?5:10);t.axisTitle[c?"show":"hide"]()}t.offset=x*d(n.offset,b[o]);i=o===2?t.tickBaseline:0;a=y+g+(y&&x*(a?d(v.y,t.tickBaseline+8):v.x)-i);t.axisTitleMargin=d(p,a);b[o]=Y(b[o],t.axisTitleMargin+f+x*t.offset,a);e[l]=Y(e[l],j(n.lineWidth/2)*2)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,r=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;i&&(t*=-1);return e.renderer.crispLine(["M",s?this.left:r,s?n:this.top,"L",s?e.chartWidth-this.right:r,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,s=this.len,r=this.options.title,a=t?e:n,o=this.opposite,l=this.offset,h=i(r.style.fontSize||12),s={low:a+(t?0:s),middle:a+s/2,high:a+(t?s:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?h:0);return{x:t?s:e+(o?this.width:0)+l+(r.x||0),y:t?e-(o?this.height:0)+l:s+(r.y||0)}},render:function(){var t=this,e=t.horiz,i=t.reversed,n=t.chart,s=n.renderer,r=t.options,a=t.isLog,o=t.isLinked,h=t.tickPositions,c,f=t.axisTitle,d=t.ticks,p=t.minorTicks,g=t.alternateBands,m=r.stackLabels,v=r.alternateGridColor,y=t.tickmarkOffset,b=r.lineWidth,x=n.hasRendered&&u(t.oldMin)&&!isNaN(t.oldMin),w=t.hasData,_=t.showAxis,k,C=r.labels.overflow,T=t.justifyLabels=e&&C!==!1,D;t.labelEdge.length=0;t.justifyToPlot=C==="justify";qt([d,p,g],function(t){for(var e in t)t[e].isActive=!1});if(w||o)if(t.minorTickInterval&&!t.categories&&qt(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new E(t,e,"minor"));x&&p[e].isNew&&p[e].render(null,!0);p[e].render(null,!1,1)}),h.length&&(c=h.slice(),(e&&i||!e&&!i)&&c.reverse(),T&&(c=c.slice(1).concat([c[0]])),qt(c,function(e,i){T&&(i=i===c.length-1?0:i+1);if(!o||e>=t.min&&e<=t.max)d[e]||(d[e]=new E(t,e)),x&&d[e].isNew&&d[e].render(i,!0,.1),d[e].render(i)}),y&&t.min===0&&(d[-1]||(d[-1]=new E(t,-1,null,!0)),d[-1].render(-1))),v&&qt(h,function(e,i){if(i%2===0&&e<t.max)g[e]||(g[e]=new Rt.PlotLineOrBand(t)),k=e+y,D=h[i+1]!==O?h[i+1]+y:t.max,g[e].options={from:a?l(k):k,to:a?l(D):D,color:v},g[e].render(),g[e].isActive=!0}),!t._addedPlotLB)qt((r.plotLines||[]).concat(r.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0;qt([d,p,g],function(t){var e,i,s=[],r=pt?pt.duration||500:0,a=function(){for(i=s.length;i--;)t[s[i]]&&!t[s[i]].isActive&&(t[s[i]].destroy(),delete t[s[i]])};for(e in t)if(!t[e].isActive)t[e].render(e,!1,0),t[e].isActive=!1,s.push(e);t===g||!n.hasRendered||!r?a():r&&setTimeout(a,r)});if(b)e=t.getLinePath(b),t.axisLine?t.axisLine.animate({d:e}):t.axisLine=s.path(e).attr({stroke:r.lineColor,"stroke-width":b,zIndex:7}).add(t.axisGroup),t.axisLine[_?"show":"hide"]();if(f&&_)f[f.isNew?"attr":"animate"](t.getTitlePosition()),f.isNew=!1;m&&m.enabled&&t.renderStackTotals();t.isDirty=!1},redraw:function(){this.render();qt(this.plotLinesAndBands,function(t){t.render()});qt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e=this,i=e.stacks,n,s=e.plotLinesAndBands;t||Qt(e);for(n in i)D(i[n]),i[n]=null;qt([e.ticks,e.minorTicks,e.alternateBands],function(t){D(t)});for(t=s.length;t--;)s[t].destroy();qt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){e[t]&&(e[t]=e[t].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair)if((u(e)||!d(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var i,n=this.crosshair,s=n.animation;d(n.snap,!0)?u(e)&&(i=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos;i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:d(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,i);if(i===null)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[s?"animate":"attr"]({d:i},s);else{s={"stroke-width":n.width||1,stroke:n.color||"#C0C0C0",zIndex:n.zIndex||2};if(n.dashStyle)s.dashstyle=n.dashStyle;this.cross=this.chart.renderer.path(i).attr(s).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};t(L.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);n&&i?n.push(i[4],i[5],i[1],i[2]):n=null;return n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new Rt.PlotLineOrBand(this,t).render(),n=this.userOptions;i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i));return i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();qt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&h(e,e[s])})}});L.prototype.getTimeTicks=function(e,i,n,s){var r=[],a={},o=ft.global.useUTC,l,h=new Tt(i-St),c=e.unitRange,f=e.count;if(u(i)){c>=mt.second&&(h.setMilliseconds(0),h.setSeconds(c>=mt.minute?0:f*j(h.getSeconds()/f)));if(c>=mt.minute)h[Nt](c>=mt.hour?0:f*j(h[Mt]()/f));if(c>=mt.hour)h[Ft](c>=mt.day?0:f*j(h[Pt]()/f));if(c>=mt.day)h[Ot](c>=mt.month?1:f*j(h[It]()/f));c>=mt.month&&(h[Ht](c>=mt.year?0:f*j(h[Et]()/f)),l=h[Lt]());c>=mt.year&&(l-=l%f,h[zt](l));if(c===mt.week)h[Ot](h[It]()-h[At]()+d(s,1));i=1;St&&(h=new Tt(h.getTime()+St));l=h[Lt]();for(var s=h.getTime(),p=h[Et](),g=h[It](),m=(mt.day+(o?St:h.getTimezoneOffset()*6e4))%mt.day;s<n;)r.push(s),c===mt.year?s=Dt(l+i*f,0):c===mt.month?s=Dt(l,p+i*f):!o&&(c===mt.day||c===mt.week)?s=Dt(l,p,g+i*f*(c===mt.day?1:7)):s+=c*f,i++;r.push(s);qt(Gt(r,function(t){return c<=mt.hour&&t%mt.day===m}),function(t){a[t]="day"})}r.info=t(e,{higherRanks:a,totalRange:c*f});return r};L.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=i[i.length-1],s=mt[n[0]],r=n[1],a;for(a=0;a<i.length;a++)if(n=i[a],s=mt[n[0]],r=n[1],i[a+1]&&t<=(s*r[r.length-1]+mt[i[a+1][0]])/2)break;s===mt.year&&t<5*s&&(r=[1,2,5]);i=_(t/s,r,n[0]==="year"?Y(w(t/s),1):1);return{unitRange:s,count:i,unitName:n[0]}};L.prototype.getLogTickPositions=function(t,e,i,n){var s=this.options,r=this.len,a=[];if(!n)this._minorAutoInterval=null;if(t>=.5)t=R(t),a=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var r=j(e),h,u,c,f,p,s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<i+1&&!p;r++){u=s.length;for(h=0;h<u&&!p;h++)c=o(l(r)*s[h]),c>e&&(!n||f<=i)&&f!==O&&a.push(f),f>i&&(p=!0),f=c}else if(e=l(e),i=l(i),t=s[n?"minorTickInterval":"tickInterval"],t=d(t==="auto"?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),t=_(t,null,w(t)),a=Ut(this.getLinearTickPositions(t,e,i),o),!n)this._minorAutoInterval=t/5;if(!n)this.tickInterval=t;return a};var ce=Rt.Tooltip=function(){this.init.apply(this,arguments)};ce.prototype={init:function(t,e){var n=e.borderWidth,s=e.style,r=i(s.padding);this.chart=t;this.options=e;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:r,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-9999});at||this.label.shadow(e.shadow);this.shared=e.shared},destroy:function(){if(this.label)this.label=this.label.destroy();clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(e,i,n,s){var r=this,a=r.now,o=r.options.animation!==!1&&!r.isHidden&&(X(e-a.x)>1||X(i-a.y)>1),l=r.followPointer||r.len>1;t(a,{x:o?(2*a.x+e)/3:e,y:o?(a.y+i)/2:i,anchorX:l?O:o?(2*a.anchorX+n)/3:n,anchorY:l?O:o?(a.anchorY+s)/2:s});r.label.attr(a);if(o)clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,i,n,s)},32)},hide:function(t){var e=this,i;clearTimeout(this.hideTimer);if(!this.isHidden)i=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut();e.isHidden=!0},d(t,this.options.hideDelay,500)),i&&qt(i,function(t){t.setState()}),this.chart.hoverPoints=null},getAnchor:function(t,e){var i,n=this.chart,s=n.inverted,r=n.plotTop,a=0,o=0,l,t=f(t);i=t[0].tooltipPos;this.followPointer&&e&&(e.chartX===O&&(e=n.pointer.normalize(e)),i=[e.chartX-n.plotLeft,e.chartY-r]);i||(qt(t,function(t){l=t.series.yAxis;a+=t.plotX;o+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&l?l.top-r:0)}),a/=t.length,o/=t.length,i=[s?n.plotWidth-o:a,this.shared&&!s&&t.length>1&&e?e.chartY-r:s?n.plotHeight-a:o]);return Ut(i,R)},getPosition:function(t,e,i){var n=this.chart,s=this.distance,r={},a,o=["y",n.chartHeight,e,i.plotY+n.plotTop],l=["x",n.chartWidth,t,i.plotX+n.plotLeft],h=i.ttBelow||n.inverted&&!i.negative||!n.inverted&&i.negative,u=function(t,e,i,n){var a=i<n-s,e=n+s+i<e,i=n-s-i;n+=s;if(h&&e)r[t]=n;else if(!h&&a)r[t]=i;else if(a)r[t]=i;else if(e)r[t]=n;else return!1},c=function(t,e,i,n){if(n<s||n>e-s)return!1;else r[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2},f=function(t){var e=o;o=l;l=e;a=t},d=function(){u.apply(0,o)!==!1?c.apply(0,l)===!1&&!a&&(f(!0),d()):a?r.x=r.y=0:(f(!0),d())};(n.inverted||this.len>1)&&f();d();return r},defaultFormatter:function(t){var e=this.points||f(this),i=e[0].series,n;n=[t.tooltipHeaderFormatter(e[0])];qt(e,function(t){i=t.series;n.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))});n.push(t.options.footerFormat||"");return n.join("")},refresh:function(t,e){var i=this.chart,n=this.label,s=this.options,r,a,o={},l,h=[];l=s.formatter||this.defaultFormatter;var o=i.hoverPoints,u,c=this.shared;clearTimeout(this.hideTimer);this.followPointer=f(t)[0].series.tooltipOptions.followPointer;a=this.getAnchor(t,e);r=a[0];a=a[1];c&&(!t.series||!t.series.noSharedTooltip)?(i.hoverPoints=t,o&&qt(o,function(t){t.setState()}),qt(t,function(t){t.setState("hover");h.push(t.getLabelConfig())}),o={x:t[0].category,y:t[0].y},o.points=h,this.len=h.length,t=t[0]):o=t.getLabelConfig();l=l.call(o,this);o=t.series;this.distance=d(o.tooltipOptions.distance,16);l===!1?this.hide():(this.isHidden&&(ee(n),n.attr("opacity",1).show()),n.attr({text:l}),u=s.borderColor||t.color||o.color||"#606060",n.attr({stroke:u}),this.updatePosition({plotX:r,plotY:a,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1);Zt(i,"tooltipRefresh",{text:l,x:r+i.plotLeft,y:a+i.plotTop,borderColor:u})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(R(i.x),R(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e=t.series,i=e.tooltipOptions,n=i.dateTimeLabelFormats,s=i.xDateFormat,r=e.xAxis,o=r&&r.options.type==="datetime"&&a(t.key),i=i.headerFormat,r=r&&r.closestPointRange,l;if(o&&!s){if(r)for(l in mt){if(mt[l]>=r||mt[l]<=mt.day&&t.key%mt[l]>0){s=n[l];break}}else s=n.day;s=s||n.year}o&&s&&(i=i.replace("{point.key}","{point.key:"+s+"}"));return x(i,{point:t,series:e})}};var fe;lt=H.documentElement.ontouchstart!==O;var de=Rt.Pointer=function(t,e){this.init(t,e)};de.prototype={init:function(t,e){var i=e.chart,n=i.events,s=at?"":i.zoomType,i=t.inverted,r;this.options=e;this.chart=t;this.zoomX=r=/x/.test(s);this.zoomY=s=/y/.test(s);this.zoomHor=r&&!i||s&&i;this.zoomVert=s&&!i||r&&i;this.hasZoom=r||s;this.runChartClick=n&&!!n.click;this.pinchDown=[];this.lastValidTouch={};if(Rt.Tooltip&&e.tooltip.enabled)t.tooltip=new ce(t,e.tooltip),this.followTouchMove=e.tooltip.followTouchMove;this.setDOMEvents()},normalize:function(e,i){var n,s,e=e||window.event,e=Jt(e);if(!e.target)e.target=e.srcElement;s=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e;if(!i)this.chartPosition=i=Vt(this.chart.container);s.pageX===O?(n=Y(e.x,e.clientX-i.left),s=e.y):(n=s.pageX-i.left,s=s.pageY-i.top);return t(e,{chartX:R(n),chartY:R(s)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};qt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})});return e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e=this.chart,i=e.series,n=e.tooltip,s,r,a=e.hoverPoint,o=e.hoverSeries,l,h,u=e.chartWidth,c=this.getIndex(t);if(n&&this.options.tooltip.shared&&(!o||!o.noSharedTooltip)){r=[];l=i.length;for(h=0;h<l;h++)if(i[h].visible&&i[h].options.enableMouseTracking!==!1&&!i[h].noSharedTooltip&&i[h].singularTooltips!==!0&&i[h].tooltipPoints.length&&(s=i[h].tooltipPoints[c])&&s.series)s._dist=X(c-s.clientX),u=$(u,s._dist),r.push(s);for(l=r.length;l--;)r[l]._dist>u&&r.splice(l,1);if(r.length&&r[0].clientX!==this.hoverX)n.refresh(r,t),this.hoverX=r[0].clientX}i=o&&o.tooltipOptions.followPointer;if(o&&o.tracker&&!i){if((s=o.tooltipPoints[c])&&s!==a)s.onMouseOver(t)}else n&&i&&!n.isHidden&&(o=n.getAnchor([{}],t),n.updatePosition({plotX:o[0],plotY:o[1]}));if(n&&!this._onDocumentMouseMove)this._onDocumentMouseMove=function(t){if(bt[fe])bt[fe].pointer.onDocumentMouseMove(t)},Kt(H,"mousemove",this._onDocumentMouseMove);qt(e.axes,function(e){e.drawCrosshair(t,d(s,a))})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,r=i.tooltip,a=r&&r.shared?i.hoverPoints:s;(t=t&&r&&a)&&f(a)[0].plotX===O&&(t=!1);if(t)r.refresh(a),s&&s.setState(s.state,!0);else{if(s)s.onMouseOut();if(n)n.onMouseOut();r&&r.hide(e);if(this._onDocumentMouseMove)Qt(H,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null;qt(i.axes,function(t){t.hideCrosshair()});this.hoverX=null}},scaleGroups:function(t,e){var i=this.chart,n;qt(i.series,function(s){n=t||s.getPlotBox();s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(n),s.markerGroup&&(s.markerGroup.attr(n),s.markerGroup.clip(e?i.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(n))});i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type;e.cancelClick=!1;e.mouseDownX=this.mouseDownX=t.chartX;e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e=this.chart,i=e.options.chart,n=t.chartX,s=t.chartY,r=this.zoomHor,a=this.zoomVert,o=e.plotLeft,l=e.plotTop,h=e.plotWidth,u=e.plotHeight,c,f=this.mouseDownX,d=this.mouseDownY,p=i.panKey&&t[i.panKey+"Key"];n<o?n=o:n>o+h&&(n=o+h);s<l?s=l:s>l+u&&(s=l+u);this.hasDragged=Math.sqrt(Math.pow(f-n,2)+Math.pow(d-s,2));if(this.hasDragged>10){c=e.isInsidePlot(f-o,d-l);if(e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!p&&!this.selectionMarker)this.selectionMarker=e.renderer.rect(o,l,r?1:h,a?1:u,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&r&&(n-=f,this.selectionMarker.attr({width:X(n),x:(n>0?0:n)+f}));this.selectionMarker&&a&&(n=s-d,this.selectionMarker.attr({height:X(n),y:(n>0?0:n)+d}));c&&!this.selectionMarker&&i.panning&&e.pan(t,i.panning)}},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,o=r.attr?r.attr("y"):r.y,l=r.attr?r.attr("width"):r.width,h=r.attr?r.attr("height"):r.height,u;if(this.hasDragged||n)qt(i.axes,function(t){if(t.zoomEnabled){var i=t.horiz,n=e.type==="touchend"?t.minPixelPadding:0,r=t.toValue((i?a:o)+n),i=t.toValue((i?a+l:o+h)-n);!isNaN(r)&&!isNaN(i)&&(s[t.coll].push({axis:t,min:$(r,i),max:Y(r,i)}),u=!0)}}),u&&Zt(i,"selection",s,function(e){i.zoom(t(e,n?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();n&&this.scaleGroups()}if(i)p(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]},onContainerMouseDown:function(t){t=this.normalize(t);t.preventDefault&&t.preventDefault();this.dragStart(t)},onDocumentMouseUp:function(t){bt[fe]&&bt[fe].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries,t=this.normalize(t,i);i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=bt[fe];if(t)t.pointer.reset(),t.pointer.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;fe=e.index;t=this.normalize(t);t.returnValue=!1;e.mouseIsDown==="mousedown"&&this.drag(t);(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class"))if(i.indexOf(e)!==-1)return!0;else if(i.indexOf("highcharts-container")!==-1)return!1;t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;if(e&&!e.options.stickyTracking&&!this.inClass(t,"highcharts-tooltip")&&i!==e)e.onMouseOut()},onContainerClick:function(e){var i=this.chart,n=i.hoverPoint,s=i.plotLeft,r=i.plotTop,e=this.normalize(e);e.cancelBubble=!0;i.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Zt(n.series,"click",t(e,{point:n})),i.hoverPoint&&n.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),i.isInsidePlot(e.chartX-s,e.chartY-r)&&Zt(i,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)};e.onmousemove=function(e){t.onContainerMouseMove(e)};e.onclick=function(e){t.onContainerClick(e)};Kt(e,"mouseleave",t.onContainerMouseLeave);xt===1&&Kt(H,"mouseup",t.onDocumentMouseUp);if(lt)e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},xt===1&&Kt(H,"touchend",t.onDocumentTouchEnd)},destroy:function(){var t;Qt(this.chart.container,"mouseleave",this.onContainerMouseLeave);xt||(Qt(H,"mouseup",this.onDocumentMouseUp),Qt(H,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}};t(Rt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,s,r);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,s,r)},pinchTranslateDirection:function(t,e,i,n,s,r,a,o){var l=this.chart,h=t?"x":"y",u=t?"X":"Y",c="chart"+u,f=t?"width":"height",d=l["plot"+(t?"Left":"Top")],p,g,m=o||1,v=l.inverted,y=l.bounds[t?"h":"v"],b=e.length===1,x=e[0][c],w=i[0][c],_=!b&&e[1][c],k=!b&&i[1][c],C,i=function(){!b&&X(x-_)>20&&(m=o||X(w-k)/X(x-_));g=(d-w)/m+x;p=l["plot"+(t?"Width":"Height")]/m};i();e=g;e<y.min?(e=y.min,C=!0):e+p>y.max&&(e=y.max-p,C=!0);C?(w-=.8*(w-a[h][0]),b||(k-=.8*(k-a[h][1])),i()):a[h]=[w,k];v||(r[h]=g-d,r[f]=p);r=v?1/m:m;s[f]=p;s[h]=e;n[v?t?"scaleY":"scaleX":"scale"+u]=m;n["translate"+u]=r*d+(w-r*x)},pinch:function(e){var i=this,n=i.chart,s=i.pinchDown,r=i.followTouchMove,a=e.touches,o=a.length,l=i.lastValidTouch,h=i.hasZoom,u=i.selectionMarker,c={},f=o===1&&(i.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||i.runChartClick),p={};(h||r)&&!f&&e.preventDefault();Ut(a,function(t){return i.normalize(t)});if(e.type==="touchstart")qt(a,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[s[0].chartX,s[1]&&s[1].chartX],l.y=[s[0].chartY,s[1]&&s[1].chartY],qt(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(d(t.options.min,t.dataMin)),r=t.toPixels(d(t.options.max,t.dataMax)),a=$(s,r),s=Y(s,r);e.min=$(t.pos,a-i);e.max=Y(t.pos+t.len,s+i)}}),i.res=!0;else if(s.length){if(!u)i.selectionMarker=u=t({destroy:yt},n.plotBox);i.pinchTranslate(s,a,c,u,p,l);i.hasPinched=h;i.scaleGroups(c,p);if(!h&&r&&o===1)this.runPointActions(i.normalize(e));else if(i.res)i.res=!1,this.reset(!1,0)}},onContainerTouchStart:function(t){var e=this.chart;fe=e.index;t.touches.length===1?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):t.touches.length===2&&this.pinch(t)},onContainerTouchMove:function(t){(t.touches.length===1||t.touches.length===2)&&this.pinch(t)},onDocumentTouchEnd:function(t){bt[fe]&&bt[fe].pointer.drop(t)}});if(z.PointerEvent||z.MSPointerEvent){var pe={},ge=!!z.PointerEvent,me=function(){var t,e=[];e.item=function(t){return this[t]};for(t in pe)pe.hasOwnProperty(t)&&e.push({pageX:pe[t].pageX,pageY:pe[t].pageY,target:pe[t].target});return e},ve=function(t,e,i,n){t=t.originalEvent||t;if((t.pointerType==="touch"||t.pointerType===t.MSPOINTER_TYPE_TOUCH)&&bt[fe])n(t),n=bt[fe].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:yt,touches:me()})};t(de.prototype,{onContainerPointerDown:function(t){ve(t,"onContainerTouchStart","touchstart",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ve(t,"onContainerTouchMove","touchmove",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY};if(!pe[t.pointerId].target)pe[t.pointerId].target=t.currentTarget})},onDocumentPointerUp:function(t){ve(t,"onContainerTouchEnd","touchend",function(t){delete pe[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,ge?"pointerdown":"MSPointerDown",this.onContainerPointerDown);t(this.chart.container,ge?"pointermove":"MSPointerMove",this.onContainerPointerMove);t(H,ge?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b(de.prototype,"init",function(t,e,i){t.call(this,e,i);(this.hasZoom||this.followTouchMove)&&p(e.container,{"-ms-touch-action":_t,"touch-action":_t})});b(de.prototype,"setDOMEvents",function(t){t.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Kt)});b(de.prototype,"destroy",function(t){this.batchMSEvents(Qt);t.call(this)})}var ye=Rt.Legend=function(t,e){this.init(t,e)};ye.prototype={init:function(t,i){var n=this,s=i.itemStyle,r=d(i.padding,8),a=i.itemMarginTop||0;this.options=i;if(i.enabled)n.itemStyle=s,n.itemHiddenStyle=e(s,i.itemHiddenStyle),n.itemMarginTop=a,n.padding=r,n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=d(i.symbolWidth,16),n.pages=[],n.render(),Kt(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,e){var i=this.options,n=t.legendItem,s=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,i=e?i.itemStyle.color:a,o=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,l={fill:o},h;n&&n.css({fill:i,color:i});s&&s.attr({stroke:o});if(r){if(a&&r.isMarker)for(h in l.stroke=o,a=t.convertAttribs(a),a)n=a[h],n!==O&&(l[h]=n);r.attr(l)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],r=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?s:this.legendWidth-s-2*i-4,n);if(r)r.x=s,r.y=n},destroyItem:function(t){var e=t.checkbox;qt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())});e&&S(t.checkbox)},destroy:function(){var t=this.group,e=this.box;if(e)this.box=e.destroy();if(t)this.group=t.destroy()},positionCheckboxes:function(t){var e=this.group.alignAttr,i,n=this.clipHeight||this.legendHeight;if(e)i=e.translateY,qt(this.allItems,function(s){var r=s.checkbox,a;r&&(a=i+r.y+(t||0)+3,p(r,{left:e.translateX+s.checkboxOffset+r.x-20+"px",top:a+"px",display:a>i-6&&a<i+n-6?"":_t}))})},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;if(e.text){if(!this.title)this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({
zIndex:1}).css(e.style).add(this.group);t=this.title.getBBox();i=t.height;this.offsetWidth=t.width;this.contentGroup.attr({translateY:i})}this.titleHeight=i},renderItem:function(t){var i=this.chart,n=i.renderer,s=this.options,r=s.layout==="horizontal",a=this.symbolWidth,o=s.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,u=this.padding,c=r?d(s.itemDistance,20):0,f=!s.rtl,p=s.width,g=s.itemMarginBottom||0,m=this.itemMarginTop,v=this.initialItemX,y=t.legendItem,b=t.series&&t.series.drawLegendSymbol?t.series:t,w=b.options,w=this.createCheckboxForItem&&w&&w.showCheckbox,_=s.useHTML;if(!y){t.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);t.legendItem=y=n.text(s.labelFormat?x(s.labelFormat,t):s.labelFormatter.call(t),f?a+o:-o,this.baseline||0,_).css(e(t.visible?l:h)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup);if(!this.baseline)this.baseline=n.fontMetrics(l.fontSize,y).f+3+m,y.attr("y",this.baseline);b.drawLegendSymbol(this,t);this.setItemEvents&&this.setItemEvents(t,y,_,l,h);this.colorizeItem(t,t.visible);w&&this.createCheckboxForItem(t)}n=y.getBBox();a=t.checkboxOffset=s.itemWidth||t.legendItemWidth||a+o+n.width+c+(w?20:0);this.itemHeight=o=R(t.legendItemHeight||n.height);if(r&&this.itemX-v+a>(p||i.chartWidth-2*u-v-s.x))this.itemX=v,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0;this.maxItemWidth=Y(this.maxItemWidth,a);this.lastItemY=m+this.itemY+g;this.lastLineHeight=Y(o,this.lastLineHeight);t._legendItemPos=[this.itemX,this.itemY];r?this.itemX+=a:(this.itemY+=m+o+g,this.lastLineHeight=o);this.offsetWidth=p||Y((r?this.itemX-v-c:a)+u,this.offsetWidth)},getAllItems:function(){var t=[];qt(this.chart.series,function(e){var i=e.options;if(d(i.showInLegend,!u(i.linkedTo)?O:!1,!0))t=t.concat(e.legendItems||(i.legendType==="point"?e.data:e))});return t},render:function(){var e=this,i=e.chart,n=i.renderer,s=e.group,r,a,o,l,h=e.box,u=e.options,c=e.padding,f=u.borderWidth,d=u.backgroundColor;e.itemX=e.initialItemX;e.itemY=e.initialItemY;e.offsetWidth=0;e.lastItemY=0;if(!s)e.group=s=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(s),e.scrollGroup=n.g().add(e.contentGroup);e.renderTitle();r=e.getAllItems();k(r,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)});u.reversed&&r.reverse();e.allItems=r;e.display=a=!!r.length;qt(r,function(t){e.renderItem(t)});o=u.width||e.offsetWidth;l=e.lastItemY+e.lastLineHeight+e.titleHeight;l=e.handleOverflow(l);if(f||d){o+=c;l+=c;if(h){if(o>0&&l>0)h[h.isNew?"attr":"animate"](h.crisp({width:o,height:l})),h.isNew=!1}else e.box=h=n.rect(0,0,o,l,u.borderRadius,f||0).attr({stroke:u.borderColor,"stroke-width":f||0,fill:d||_t}).add(s).shadow(u.shadow),h.isNew=!0;h[a?"show":"hide"]()}e.legendWidth=o;e.legendHeight=l;qt(r,function(t){e.positionItem(t)});a&&s.align(t({width:o,height:l},u),!0,"spacingBox");i.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,n=i.renderer,s=this.options,r=s.y,r=i.spacingBox.height+(s.verticalAlign==="top"?-r:r)-this.padding,a=s.maxHeight,o,l=this.clipRect,h=s.navigation,u=d(h.animation,!0),c=h.arrowSize||12,f=this.nav,p=this.pages,g,m=this.allItems;s.layout==="horizontal"&&(r/=2);a&&(r=$(r,a));p.length=0;if(t>r&&!s.useHTML){this.clipHeight=o=Y(r-20-this.titleHeight-this.padding,0);this.currentPage=d(this.currentPage,1);this.fullHeight=t;qt(m,function(t,e){var i=t._legendItemPos[1],n=R(t.legendItem.getBBox().height),s=p.length;if(!s||i-p[s-1]>o&&(g||i)!==p[s-1])p.push(g||i),s++;e===m.length-1&&i+n-p[s-1]>o&&p.push(i);i!==g&&(g=i)});if(!l)l=e.clipRect=n.clipRect(0,this.padding,9999,0),e.contentGroup.clip(l);l.attr({height:o});if(!f)this.nav=f=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,u)}).add(f),this.pager=n.text("",15,10).css(h.style).add(f),this.down=n.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,u)}).add(f);e.scroll(0);t=r}else if(f)l.attr({height:i.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0;return t},scroll:function(t,e){var i=this.pages,n=i.length,s=this.currentPage+t,r=this.clipHeight,a=this.options.navigation,o=a.activeColor,a=a.inactiveColor,l=this.pager,h=this.padding;s>n&&(s=n);if(s>0)e!==O&&P(e,this.chart),this.nav.attr({translateX:h,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:s===1?a:o}).css({cursor:s===1?"default":"pointer"}),l.attr({text:s+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===n?a:o}).css({cursor:s===n?"default":"pointer"}),i=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i)}};Wt=Rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,n;n=t.symbolWidth;var s=this.chart.renderer,r=this.legendGroup,t=t.baseline-R(s.fontMetrics(t.options.itemStyle.fontSize,this.legendItem).b*.3),a;if(e.lineWidth){a={"stroke-width":e.lineWidth};if(e.dashStyle)a.dashstyle=e.dashStyle;this.legendLine=s.path(["M",0,t,"L",n,t]).attr(a).add(r)}if(i&&i.enabled!==!1)e=i.radius,this.legendSymbol=n=s.symbol(this.symbol,n/2-e,t-e,2*e,2*e).add(r),n.isMarker=!0}};(/Trident\/7\.0/.test(K)||et)&&b(ye.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n();setTimeout(n)});N.prototype={init:function(t,i){var n,s=t.series;t.series=null;n=e(ft,t);n.series=t.series=s;this.userOptions=t;s=n.chart;this.margin=this.splashArray("margin",s);this.spacing=this.splashArray("spacing",s);var r=s.events;this.bounds={h:{},v:{}};this.callback=i;this.isResizing=0;this.options=n;this.axes=[];this.series=[];this.hasCartesianSeries=s.showAxes;var a=this,o;a.index=bt.length;bt.push(a);xt++;s.reflow!==!1&&Kt(a,"load",function(){a.initReflow()});if(r)for(o in r)Kt(a,o,r[o]);a.xAxis=[];a.yAxis=[];a.animation=at?!1:d(s.animation,!0);a.pointCount=a.colorCounter=a.symbolCounter=0;a.firstRender()},initSeries:function(t){var e=this.options.chart;(e=Bt[t.type||e.type||e.defaultSeriesType])||vt(17,!0);e=new e;e.init(this,t);return e},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&qt(this.axes,function(t){t.adjustTickAmount()});this.maxTicks=null},redraw:function(e){var i=this.axes,n=this.series,s=this.pointer,r=this.legend,a=this.isDirtyLegend,o,l,h=this.hasCartesianSeries,u=this.isDirtyBox,c=n.length,f=c,d=this.renderer,p=d.isHidden(),g=[];P(e,this);p&&this.cloneRenderTo();for(this.layOutTitles();f--;)if(e=n[f],e.options.stacking&&(o=!0,e.isDirty)){l=!0;break}if(l)for(f=c;f--;)if(e=n[f],e.options.stacking)e.isDirty=!0;qt(n,function(t){t.isDirty&&t.options.legendType==="point"&&(a=!0)});if(a&&r.options.enabled)r.render(),this.isDirtyLegend=!1;o&&this.getStacks();if(h){if(!this.isResizing)this.maxTicks=null,qt(i,function(t){t.setScale()});this.adjustTickAmounts()}this.getMargins();h&&(qt(i,function(t){t.isDirty&&(u=!0)}),qt(i,function(e){if(e.isDirtyExtremes)e.isDirtyExtremes=!1,g.push(function(){Zt(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes()));delete e.eventArgs});(u||o)&&e.redraw()}));u&&this.drawChartBox();qt(n,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()});s&&s.reset(!0);d.draw();Zt(this,"redraw");p&&this.cloneRenderTo(!0);qt(g,function(t){t.call()})},get:function(t){var e=this.axes,i=this.series,n,s;for(n=0;n<e.length;n++)if(e[n].options.id===t)return e[n];for(n=0;n<i.length;n++)if(i[n].options.id===t)return i[n];for(n=0;n<i.length;n++){s=i[n].points||[];for(e=0;e<s.length;e++)if(s[e].id===t)return s[e]}return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=f(e.xAxis||{}),e=e.yAxis=f(e.yAxis||{});qt(i,function(t,e){t.index=e;t.isX=!0});qt(e,function(t,e){t.index=e});i=i.concat(e);qt(i,function(e){new L(t,e)});t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];qt(this.series,function(e){t=t.concat(Gt(e.points||[],function(t){return t.selected}))});return t},getSelectedSeries:function(){return Gt(this.series,function(t){return t.selected})},getStacks:function(){var t=this;qt(t.yAxis,function(t){if(t.stacks&&t.hasVisibleSeries)t.oldStacks=t.stacks});qt(t.series,function(e){if(e.options.stacking&&(e.visible===!0||t.options.chart.ignoreHiddenSeries===!1))e.stackKey=e.type+d(e.options.stack,"")})},setTitle:function(t,i,n){var s;var r=this,a=r.options,o;o=a.title=e(a.title,t);s=a.subtitle=e(a.subtitle,i),a=s;qt([["title",t,o],["subtitle",i,a]],function(t){var e=t[0],i=r[e],n=t[1],t=t[2];i&&n&&(r[e]=i=i.destroy());t&&t.text&&!i&&(r[e]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())});r.layOutTitles(n)},layOutTitles:function(e){var i=0,n=this.title,s=this.subtitle,r=this.options,a=r.title,r=r.subtitle,o=this.renderer,l=this.spacingBox.width-44;if(n&&(n.css({width:(a.width||l)+"px"}).align(t({y:o.fontMetrics(a.style.fontSize,n).b-3},a),!1,"spacingBox"),!a.floating&&!a.verticalAlign))i=n.getBBox().height;s&&(s.css({width:(r.width||l)+"px"}).align(t({y:i+(a.margin-13)+o.fontMetrics(a.style.fontSize,s).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(i=W(i+s.getBBox().height)));n=this.titleOffset!==i;this.titleOffset=i;if(!this.isDirtyBox&&n)this.isDirtyBox=n,this.hasRendered&&d(e,!0)&&this.isDirtyBox&&this.redraw()},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;if(!u(e))this.containerWidth=Yt(i,"width");if(!u(t))this.containerHeight=Yt(i,"height");this.chartWidth=Y(0,e||this.containerWidth||600);this.chartHeight=Y(0,d(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),S(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),H.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s=this.options.chart,r,a,o;this.renderTo=e=s.renderTo;o="highcharts-"+ut++;if(n(e))this.renderTo=e=H.getElementById(e);e||vt(13,!0);r=i(c(e,"data-highcharts-chart"));!isNaN(r)&&bt[r]&&bt[r].hasRendered&&bt[r].destroy();c(e,"data-highcharts-chart",this.index);e.innerHTML="";!s.skipClone&&!e.offsetWidth&&this.cloneRenderTo();this.getChartSize();r=this.chartWidth;a=this.chartHeight;this.container=e=g(wt,{className:"highcharts-container"+(s.className?" "+s.className:""),id:o},t({position:"relative",overflow:"hidden",width:r+"px",height:a+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||e);this._cursor=e.style.cursor;this.renderer=s.forExport?new oe(e,r,a,s.style,!0):new ot(e,r,a,s.style);at&&this.renderer.create(this,e,r,a)},getMargins:function(){var t=this.spacing,e,i=this.legend,n=this.margin,s=this.options.legend,r=d(s.margin,20),a=s.x,o=s.y,l=s.align,h=s.verticalAlign,c=this.titleOffset;this.resetMargins();e=this.axisOffset;if(c&&!u(n[0]))this.plotTop=Y(this.plotTop,c+this.options.title.margin+t[0]);if(i.display&&!s.floating)if(l==="right"){if(!u(n[1]))this.marginRight=Y(this.marginRight,i.legendWidth-a+r+t[1])}else if(l==="left"){if(!u(n[3]))this.plotLeft=Y(this.plotLeft,i.legendWidth+a+r+t[3])}else if(h==="top"){if(!u(n[0]))this.plotTop=Y(this.plotTop,i.legendHeight+o+r+t[0])}else if(h==="bottom"&&!u(n[2]))this.marginBottom=Y(this.marginBottom,i.legendHeight-o+r+t[2]);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&qt(this.axes,function(t){t.getOffset()});u(n[3])||(this.plotLeft+=e[3]);u(n[0])||(this.plotTop+=e[0]);u(n[2])||(this.marginBottom+=e[2]);u(n[1])||(this.marginRight+=e[1]);this.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,s=i.width||Yt(n,"width"),r=i.height||Yt(n,"height"),i=t?t.target:z,n=function(){if(e.container)e.setSize(s,r,!1),e.hasUserSize=null};if(!e.hasUserSize&&s&&r&&(i===z||i===H)){if(s!==e.containerWidth||r!==e.containerHeight)clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n();e.containerWidth=s;e.containerHeight=r}},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Kt(z,"resize",e);Kt(t,"destroy",function(){Qt(z,"resize",e)})},setSize:function(t,e,i){var n=this,s,r,a;n.isResizing+=1;a=function(){n&&Zt(n,"endResize",null,function(){n.isResizing-=1})};P(i,n);n.oldChartHeight=n.chartHeight;n.oldChartWidth=n.chartWidth;if(u(t))n.chartWidth=s=Y(0,R(t)),n.hasUserSize=!!s;if(u(e))n.chartHeight=r=Y(0,R(e));(pt?te:p)(n.container,{width:s+"px",height:r+"px"},pt);n.setChartSize(!0);n.renderer.setSize(s,r,i);n.maxTicks=null;qt(n.axes,function(t){t.isDirty=!0;t.setScale()});qt(n.series,function(t){t.isDirty=!0});n.isDirtyLegend=!0;n.isDirtyBox=!0;n.layOutTitles();n.getMargins();n.redraw(i);n.oldChartHeight=null;Zt(n,"resize");pt===!1?a():setTimeout(a,pt&&pt.duration||500)},setChartSize:function(t){var e=this.inverted,i=this.renderer,n=this.chartWidth,s=this.chartHeight,r=this.options.chart,a=this.spacing,o=this.clipOffset,l,h,u,c;this.plotLeft=l=R(this.plotLeft);this.plotTop=h=R(this.plotTop);this.plotWidth=u=Y(0,R(n-l-this.marginRight));this.plotHeight=c=Y(0,R(s-h-this.marginBottom));this.plotSizeX=e?c:u;this.plotSizeY=e?u:c;this.plotBorderWidth=r.plotBorderWidth||0;this.spacingBox=i.spacingBox={x:a[3],y:a[0],width:n-a[3]-a[1],height:s-a[0]-a[2]};this.plotBox=i.plotBox={x:l,y:h,width:u,height:c};n=2*j(this.plotBorderWidth/2);e=W(Y(n,o[3])/2);i=W(Y(n,o[0])/2);this.clipBox={x:e,y:i,width:j(this.plotSizeX-Y(n,o[1])/2-e),height:Y(0,j(this.plotSizeY-Y(n,o[2])/2-i))};t||qt(this.axes,function(t){t.setAxisSize();t.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,e=this.margin;this.plotTop=d(e[0],t[0]);this.marginRight=d(e[1],t[1]);this.marginBottom=d(e[2],t[2]);this.plotLeft=d(e[3],t[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t=this.options.chart,e=this.renderer,i=this.chartWidth,n=this.chartHeight,s=this.chartBackground,r=this.plotBackground,a=this.plotBorder,o=this.plotBGImage,l=t.borderWidth||0,h=t.backgroundColor,u=t.plotBackgroundColor,c=t.plotBackgroundImage,f=t.plotBorderWidth||0,d,p=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox;d=l+(t.shadow?8:0);if(l||h)if(s)s.animate(s.crisp({width:i-d,height:n-d}));else{s={fill:h||_t};if(l)s.stroke=t.borderColor,s["stroke-width"]=l;this.chartBackground=e.rect(d/2,d/2,i-d,n-d,t.borderRadius,l).attr(s).addClass("highcharts-background").add().shadow(t.shadow)}if(u)r?r.animate(y):this.plotBackground=e.rect(p,g,m,v,0).attr({fill:u}).add().shadow(t.plotShadow);if(c)o?o.animate(y):this.plotBGImage=e.image(c,p,g,m,v).add();b?b.animate({width:x.width,height:x.height}):this.clipRect=e.clipRect(x);if(f)a?a.animate(a.crisp({x:p,y:g,width:m,height:v,strokeWidth:-f})):this.plotBorder=e.rect(p,g,m,v,0,-f).attr({stroke:t.plotBorderColor,"stroke-width":f,fill:_t,zIndex:1}).add();this.isDirtyBox=!1},propFromSeries:function(){var t=this,e=t.options.chart,i,n=t.options.series,s,r;qt(["inverted","angular","polar"],function(a){i=Bt[e.type||e.defaultSeriesType];r=t[a]||e[a]||i&&i.prototype[a];for(s=n&&n.length;!r&&s--;)(i=Bt[n[s].type])&&i.prototype[a]&&(r=!0);t[a]=r})},linkSeries:function(){var t=this,e=t.series;qt(e,function(t){t.linkedSeries.length=0});qt(e,function(e){var i=e.options.linkedTo;if(n(i)&&(i=i===":previous"?t.series[e.index-1]:t.get(i)))i.linkedSeries.push(e),e.linkedParent=i})},renderSeries:function(){qt(this.series,function(t){t.translate();t.setTooltipPoints&&t.setTooltipPoints();t.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&qt(n.items,function(s){var r=t(n.style,s.style),a=i(r.left)+e.plotLeft,o=i(r.top)+e.plotTop+12;delete r.left;delete r.top;e.renderer.text(s.html,a,o).attr({zIndex:2}).css(r).add()})},render:function(){var t=this.axes,e=this.renderer,i=this.options;this.setTitle();this.legend=new ye(this,i.legend);this.getStacks();qt(t,function(t){t.setScale()});this.getMargins();this.maxTicks=null;qt(t,function(t){t.setTickPositions(!0);t.setMaxTicks()});this.adjustTickAmounts();this.getMargins();this.drawChartBox();this.hasCartesianSeries&&qt(t,function(t){t.render()});if(!this.seriesGroup)this.seriesGroup=e.g("series-group").attr({zIndex:3}).add();this.renderSeries();this.renderLabels();this.showCredits(i.credits);this.hasRendered=!0},showCredits:function(t){if(t.enabled&&!this.credits)this.credits=this.renderer.text(t.text,0,0).on("click",function(){if(t.href)location.href=t.href}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position)},destroy:function(){var t=this,e=t.axes,i=t.series,n=t.container,s,r=n&&n.parentNode;Zt(t,"destroy");bt[t.index]=O;xt--;t.renderTo.removeAttribute("data-highcharts-chart");Qt(t);for(s=e.length;s--;)e[s]=e[s].destroy();for(s=i.length;s--;)i[s]=i[s].destroy();qt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())});if(n)n.innerHTML="",Qt(n),r&&S(n);for(s in t)delete t[s]},isReadyToRender:function(){var t=this;return!st&&z==z.top&&H.readyState!=="complete"||at&&!z.canvg?(at?ue.push(function(){t.firstRender()},t.options.global.canvasToolsURL):H.attachEvent("onreadystatechange",function(){H.detachEvent("onreadystatechange",t.firstRender);H.readyState==="complete"&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;if(t.isReadyToRender()){t.getContainer();Zt(t,"init");t.resetMargins();t.setChartSize();t.propFromSeries();t.getAxes();qt(e.series||[],function(e){t.initSeries(e)});t.linkSeries();Zt(t,"beforeRender");if(Rt.Pointer)t.pointer=new de(t,e);t.render();t.renderer.draw();i&&i.apply(t,[t]);qt(t.callbacks,function(e){e.apply(t,[t])});t.cloneRenderTo(!0);Zt(t,"load")}},splashArray:function(t,e){var i=e[t],i=s(i)?i:[i,i,i,i];return[d(e[t+"Top"],i[0]),d(e[t+"Right"],i[1]),d(e[t+"Bottom"],i[2]),d(e[t+"Left"],i[3])]}};N.prototype.callbacks=[];le=Rt.CenteredSeriesMixin={getCenter:function(){var t=this.options,e=this.chart,n=2*(t.slicedOffset||0),s,r=e.plotWidth-2*n,a=e.plotHeight-2*n,e=t.center,t=[d(e[0],"50%"),d(e[1],"50%"),t.size||"100%",t.innerSize||0],o=$(r,a),l;return Ut(t,function(t,e){l=/%$/.test(t);s=e<2||e===2&&l;return(l?[r,a,o,o][e]*i(t)/100:t)+(s?n:0)})}};var be=function(){};be.prototype={init:function(t,e,i){this.series=t;this.applyOptions(e,i);this.pointAttr={};if(t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length))t.colorCounter=0;t.chart.pointCount++;return this},applyOptions:function(e,i){var n=this.series,s=n.options.pointValKey||n.pointValKey,e=be.prototype.optionsToObject.call(this,e);t(this,e);this.options=this.options?t(this.options,e):e;if(s)this.y=this[s];if(this.x===O&&n)this.x=i===O?n.autoIncrement():i;return this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],s=n.length,a=0,o=0;if(typeof t==="number"||t===null)e[n[0]]=t;else if(r(t)){if(t.length>s){i=typeof t[0];if(i==="string")e.name=t[0];else if(i==="number")e.x=t[0];a++}for(;o<s;)e[n[o++]]=t[a++]}else if(typeof t==="object"){e=t;if(t.dataLabels)i._hasPointLabels=!0;if(t.marker)i._hasPointMarkers=!0}return e},destroy:function(){var t=this.series.chart,e=t.hoverPoints,i;t.pointCount--;if(e&&(this.setState(),h(e,this),!e.length))t.hoverPoints=null;if(this===t.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)Qt(this),this.destroyElements();this.legendItem&&t.legend.destroyItem(this);for(i in this)this[i]=null},destroyElements:function(){for(var t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),e,i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=d(i.valueDecimals,""),s=i.valuePrefix||"",r=i.valueSuffix||"";qt(e.pointArrayMap||["y"],function(e){e="{point."+e;if(s||r)t=t.replace(e+"}",s+e+"}"+r);t=t.replace(e+"}",e+":,."+n+"f}")});return x(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents();t==="click"&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)});Zt(this,t,e,i)}};var xe=function(){};xe.prototype={isCartesian:!0,type:"line",pointClass:be,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n=this,s,r,a=e.series,o=function(t,e){return d(t.options.index,t._i)-d(e.options.index,e._i)};n.chart=e;n.options=i=n.setOptions(i);n.linkedSeries=[];n.bindAxes();t(n,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0});if(at)i.animation=!1;r=i.events;for(s in r)Kt(n,s,r[s]);if(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)e.runTrackerClick=!0;n.getColor();n.getSymbol();qt(n.parallelArrays,function(t){n[t+"Data"]=[]});n.setData(i.data,!1);if(n.isCartesian)e.hasCartesianSeries=!0;a.push(n);n._i=a.length-1;k(a,o);this.yAxis&&k(this.yAxis.series,o);qt(a,function(t,e){t.index=e;t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t=this,e=t.options,i=t.chart,n;qt(t.axisTypes||[],function(s){qt(i[s],function(i){n=i.options;if(e[s]===n.index||e[s]!==O&&e[s]===n.id||e[s]===O&&n.index===0)i.series.push(t),t[s]=i,i.isDirty=!0});!t[s]&&t.optionalAxis!==s&&vt(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;qt(i.parallelArrays,typeof e==="number"?function(n){var s=n==="y"&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=d(e,t.pointStart,0);this.pointInterval=d(this.pointInterval,t.pointInterval,1);this.xIncrement=e+this.pointInterval;return e},getSegments:function(){var t=-1,e=[],i,n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(i=s;i--;)n[i].y===null&&n.splice(i,1);n.length&&(e=[n])}else qt(n,function(i,r){i.y===null?(r>t+1&&e.push(n.slice(t+1,r)),t=r):r===s-1&&e.push(n.slice(t+1,r+1))});this.segments=e},setOptions:function(t){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},s=i.plotOptions||{},r=n[this.type];this.userOptions=t;n=e(r,n.series,t);this.tooltipOptions=e(ft.tooltip,ft.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,t.tooltip);r.marker===null&&delete n.marker;return n},getCyclic:function(t,e,i){var n=this.userOptions,s="_"+t+"Index",r=t+"Counter";e||(u(n[s])?e=n[s]:(n[s]=e=this.chart[r]%i.length,this.chart[r]+=1),e=i[e]);this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ie[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol))t.radius=0},drawLegendSymbol:Wt.drawLineMarker,setData:function(t,e,i,s){var o=this,l=o.points,h=l&&l.length||0,u,c=o.options,f=o.chart,p=null,g=o.xAxis,m=g&&!!g.categories,v=o.tooltipPoints,y=c.turboThreshold,b=this.xData,x=this.yData,w=(u=o.pointArrayMap)&&u.length,t=t||[];u=t.length;e=d(e,!0);if(s!==!1&&u&&h===u&&!o.cropped&&!o.hasGroupedData)qt(t,function(t,e){l[e].update(t,!1,null,!1)});else{o.xIncrement=null;o.pointRange=m?1:c.pointRange;o.colorCounter=0;qt(this.parallelArrays,function(t){o[t+"Data"].length=0});if(y&&u>y){for(i=0;p===null&&i<u;)p=t[i],i++;if(a(p)){m=d(c.pointStart,0);c=d(c.pointInterval,1);for(i=0;i<u;i++)b[i]=m,x[i]=t[i],m+=c;o.xIncrement=m}else if(r(p))if(w)for(i=0;i<u;i++)c=t[i],b[i]=c[0],x[i]=c.slice(1,w+1);else for(i=0;i<u;i++)c=t[i],b[i]=c[0],x[i]=c[1];else vt(12)}else for(i=0;i<u;i++)if(t[i]!==O&&(c={series:o},o.pointClass.prototype.applyOptions.apply(c,[t[i]]),o.updateParallelArrays(c,i),m&&c.name))g.names[c.x]=c.name;n(x[0])&&vt(14,!0);o.data=[];o.options.data=t;for(i=h;i--;)l[i]&&l[i].destroy&&l[i].destroy();if(v)v.length=0;if(g)g.minRange=g.userMinRange;o.isDirty=o.isDirtyData=f.isDirtyBox=!0;i=!1}e&&f.redraw(i)},processData:function(t){var e=this.xData,i=this.yData,n=e.length,s;s=0;var r,a,o=this.xAxis,l,h=this.options;l=h.cropThreshold;var u=0,c=this.isCartesian,f,d;if(c&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!t)return!1;if(o)f=o.getExtremes(),d=f.min,f=f.max;if(c&&this.sorted&&(!l||n>l||this.forceCrop))if(e[n-1]<d||e[0]>f)e=[],i=[];else if(e[0]<d||e[n-1]>f)s=this.cropData(this.xData,this.yData,d,f),e=s.xData,i=s.yData,s=s.start,r=!0,u=e.length;for(l=e.length-1;l>=0;l--)n=e[l]-e[l-1],!r&&e[l]>d&&e[l]<f&&u++,n>0&&(a===O||n<a)?a=n:n<0&&this.requireSorting&&vt(15);this.cropped=r;this.cropStart=s;this.processedXData=e;this.processedYData=i;this.activePointCount=u;if(h.pointRange===null)this.pointRange=a||1;this.closestPointRange=a},cropData:function(t,e,i,n){var s=t.length,r=0,a=s,o=d(this.cropShoulder,1),l;for(l=0;l<s;l++)if(t[l]>=i){r=Y(0,l-o);break}for(;l<s;l++)if(t[l]>n){a=l+o;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t=this.options.data,e=this.data,i,n=this.processedXData,s=this.processedYData,r=this.pointClass,a=n.length,o=this.cropStart||0,l,h=this.hasGroupedData,u,c=[],d;if(!e&&!h)e=[],e.length=t.length,e=this.data=e;for(d=0;d<a;d++)l=o+d,h?c[d]=(new r).init(this,[n[d]].concat(f(s[d]))):(e[l]?u=e[l]:t[l]!==O&&(e[l]=u=(new r).init(this,t[l],n[d])),c[d]=u),c[d].index=l;if(e&&(a!==(i=e.length)||h))for(d=0;d<i;d++)if(d===o&&!h&&(d+=a),e[d])e[d].destroyElements(),e[d].plotX=O;this.data=e;this.points=c},getExtremes:function(t){var e=this.yAxis,i=this.processedXData,n,s=[],r=0;n=this.xAxis.getExtremes();var a=n.min,o=n.max,l,h,u,c,t=t||this.stackedYData||this.processedYData;n=t.length;for(c=0;c<n;c++)if(h=i[c],u=t[c],l=u!==null&&u!==O&&(!e.isLog||u.length||u>0),h=this.getExtremesFromAll||this.cropped||(i[c+1]||h)>=a&&(i[c-1]||h)<=o,l&&h)if(l=u.length)for(;l--;)u[l]!==null&&(s[r++]=u[l]);else s[r++]=u;this.dataMin=d(void 0,C(s));this.dataMax=d(void 0,T(s))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,n=i.categories,s=this.yAxis,r=this.points,o=r.length,l=!!this.modifyValue,h=t.pointPlacement,c=h==="between"||a(h),f=t.threshold,t=0;t<o;t++){var p=r[t],g=p.x,m=p.y,v=p.low,y=e&&s.stacks[(this.negStacks&&m<f?"-":"")+this.stackKey];if(s.isLog&&m<=0)p.y=m=null,vt(10);p.plotX=i.translate(g,0,0,0,1,h,this.type==="flags");if(e&&this.visible&&y&&y[g])y=y[g],m=y.points[this.index+","+t],v=m[0],m=m[1],v===0&&(v=d(f,s.min)),s.isLog&&v<=0&&(v=null),p.total=p.stackTotal=y.total,p.percentage=y.total&&p.y/y.total*100,p.stackY=m,y.setOffset(this.pointXOffset||0,this.barW||0);p.yBottom=u(v)?s.translate(v,0,1,0,1):null;l&&(m=this.modifyValue(m,p));p.plotY=typeof m==="number"&&m!==Infinity?s.translate(m,0,1,0,1):O;p.clientX=c?i.translate(g,0,0,0,1):p.plotX;p.negative=p.y<(f||0);p.category=n&&n[p.x]!==O?n[p.x]:p.x}this.getSegments()},animate:function(e){var i=this.chart,n=i.renderer,r;r=this.options.animation;var a=this.clipBox||i.clipBox,o=i.inverted,l;if(r&&!s(r))r=ie[this.type].animation;l=["_sharedClip",r.duration,r.easing,a.height].join(",");e?(e=i[l],r=i[l+"m"],e||(i[l]=e=n.clipRect(t(a,{width:0})),i[l+"m"]=r=n.clipRect(-99,o?-i.plotLeft:-i.plotTop,99,o?i.chartWidth:i.chartHeight)),this.group.clip(e),this.markerGroup.clip(r),this.sharedClipKey=l):((e=i[l])&&e.animate({width:i.plotSizeX},r),i[l+"m"]&&i[l+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group,n=this.clipBox;if(i&&this.options.clip!==!1){if(!e||!n)i.clip(n?t.renderer.clipRect(n):t.clipRect);this.markerGroup.clip()}Zt(this,"afterAnimate");setTimeout(function(){e&&t[e]&&(n||(t[e]=t[e].destroy()),t[e+"m"]&&(t[e+"m"]=t[e+"m"].destroy()))},100)},drawPoints:function(){var e,i=this.points,n=this.chart,s,r,a,o,l,h,u,c,f=this.options.marker,p=this.pointAttr[""],g,m,v,y=this.markerGroup,b=d(f.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(a=i.length;a--;)if(o=i[a],s=j(o.plotX),r=o.plotY,c=o.graphic,g=o.marker||{},m=!!o.marker,e=b&&g.enabled===O||g.enabled,v=n.isInsidePlot(R(s),r,n.inverted),e&&r!==O&&!isNaN(r)&&o.y!==null)if(e=o.pointAttr[o.selected?"select":""]||p,l=e.r,h=d(g.symbol,this.symbol),u=h.indexOf("url")===0,c)c[v?"show":"hide"](!0).animate(t({x:s-l,y:r-l},c.symbolName?{width:2*l,height:2*l}:{}));else{if(v&&(l>0||u))o.graphic=n.renderer.symbol(h,s-l,r-l,2*l,2*l,m?g:f).attr(e).add(y)}else if(c)o.graphic=c.destroy()},convertAttribs:function(t,e,i,n){var s=this.pointAttrToOptions,r,a,o={},t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)a=s[r],o[r]=d(t[a],e[r],i[r],n[r]);return o},getAttribs:function(){var e=this,i=e.options,n=ie[e.type].marker?i.marker:i,s=n.states,r=s.hover,a,o=e.color;a={stroke:o,fill:o};var l=e.points||[],h,c=[],f,d=e.pointAttrToOptions;f=e.hasPointSpecificOptions;var p=i.negativeColor,g=n.lineColor,m=n.fillColor;h=i.turboThreshold;var v;i.marker?(r.radius=r.radius||n.radius+r.radiusPlus,r.lineWidth=r.lineWidth||n.lineWidth+r.lineWidthPlus):r.color=r.color||ae(r.color||o).brighten(r.brightness).get();c[""]=e.convertAttribs(n,a);qt(["hover","select"],function(t){c[t]=e.convertAttribs(s[t],c[""])});e.pointAttr=c;o=l.length;if(!h||o<h||f)for(;o--;){h=l[o];if((n=h.options&&h.options.marker||h.options)&&n.enabled===!1)n.radius=0;if(h.negative&&p)h.color=h.fillColor=p;f=i.colorByPoint||h.color;if(h.options)for(v in d)u(n[d[v]])&&(f=!0);if(f){n=n||{};f=[];s=n.states||{};a=s.hover=s.hover||{};if(!i.marker)a.color=a.color||!h.options.color&&r.color||ae(h.color).brighten(a.brightness||r.brightness).get();a={color:h.color};if(!m)a.fillColor=h.color;if(!g)a.lineColor=h.color;f[""]=e.convertAttribs(t(a,n),c[""]);f.hover=e.convertAttribs(s.hover,c.hover,f[""]);f.select=e.convertAttribs(s.select,c.select,f[""])}else f=c;h.pointAttr=f}},destroy:function(){var t=this,e=t.chart,i=/AppleWebKit\/533/.test(K),n,s,r=t.data||[],a,o,l;Zt(t,"destroy");Qt(t);qt(t.axisTypes||[],function(e){if(l=t[e])h(l.series,t),l.isDirty=l.forceRedraw=!0});t.legendItem&&t.chart.legend.destroyItem(t);for(s=r.length;s--;)(a=r[s])&&a.destroy&&a.destroy();t.points=null;clearTimeout(t.animationTimeout);qt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){t[e]&&(n=i&&e==="group"?"hide":"destroy",t[e][n]())});if(e.hoverSeries===t)e.hoverSeries=null;h(e.series,t);for(o in t)delete t[o]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;qt(t,function(s,r){var a=s.plotX,o=s.plotY,l;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,r)):(i.push(r?"L":"M"),n&&r&&(l=t[r-1],n==="right"?i.push(l.plotX,o):n==="center"?i.push((l.plotX+a)/2,l.plotY,(l.plotX+a)/2,o):i.push(a,l.plotY)),i.push(s.plotX,s.plotY))});return i},getGraphPath:function(){var t=this,e=[],i,n=[];qt(t.segments,function(s){i=t.getSegmentPath(s);s.length>1?e=e.concat(i):n.push(s[0])});t.singlePoints=n;return t.graphPath=e;
},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,s=e.dashStyle,r=e.linecap!=="square",a=this.getGraphPath(),o=e.negativeColor;o&&i.push(["graphNeg",o]);qt(i,function(i,o){var l=i[0],h=t[l];if(h)ee(h),h.animate({d:a});else if(n&&a.length)h={stroke:i[1],"stroke-width":n,fill:_t,zIndex:1},s?h.dashstyle=s:r&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(h).add(t.group).shadow(!o&&e.shadow)})},clipNeg:function(){var t=this.options,e=this.chart,i=e.renderer,n=t.negativeColor||t.negativeFillColor,s,r=this.graph,a=this.area,o=this.posClip,l=this.negClip;s=e.chartWidth;var h=e.chartHeight,u=Y(s,h),c=this.yAxis;if(n&&(r||a)){n=R(c.toPixels(t.threshold||0,!0));n<0&&(u-=n);t={x:0,y:0,width:u,height:n};u={x:0,y:n,width:u,height:u};if(e.inverted)t.height=u.y=e.plotWidth-n,i.isVML&&(t={x:e.plotWidth-n-e.plotLeft,y:0,width:s,height:h},u={x:n+e.plotLeft-s,y:0,width:e.plotLeft+n,height:s});c.reversed?(e=u,s=t):(e=t,s=u);o?(o.animate(e),l.animate(s)):(this.posClip=o=i.clipRect(e),this.negClip=l=i.clipRect(s),r&&this.graphNeg&&(r.clip(o),this.graphNeg.clip(l)),a&&(a.clip(o),this.areaNeg.clip(l)))}},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};qt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;if(e.xAxis)Kt(i,"resize",t),Kt(e,"destroy",function(){Qt(i,"resize",t)}),t(),e.invertGroups=t},plotGroup:function(t,e,i,n,s){var r=this[t],a=!r;a&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(s));r[a?"attr":"animate"](this.getPlotBox());return r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;if(t.inverted)e=i,i=this.xAxis;return{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t=this,e=t.chart,i,n=t.options,s=(i=n.animation)&&!!t.animate&&e.renderer.isSVG&&d(i.duration,500)||0,r=t.visible?"visible":"hidden",a=n.zIndex,o=t.hasRendered,l=e.seriesGroup;i=t.plotGroup("group","series",r,a,l);t.markerGroup=t.plotGroup("markerGroup","markers",r,a,l);s&&t.animate(!0);t.getAttribs();i.inverted=t.isCartesian?e.inverted:!1;t.drawGraph&&(t.drawGraph(),t.clipNeg());qt(t.points,function(t){t.redraw&&t.redraw()});t.drawDataLabels&&t.drawDataLabels();t.visible&&t.drawPoints();t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker();e.inverted&&t.invertGroups();n.clip!==!1&&!t.sharedClipKey&&!o&&i.clip(e.clipRect);s&&t.animate();if(!o)s?t.animationTimeout=setTimeout(function(){t.afterAnimate()},s):t.afterAnimate();t.isDirty=t.isDirtyData=!1;t.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:d(n&&n.left,t.plotLeft),translateY:d(s&&s.top,t.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();e&&Zt(this,"updatedData")}};F.prototype={destroy:function(){D(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,r=this.isNegative,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=X(a-i),o=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,r={x:s?r?a:a-i:o,y:s?l-o-e:r?l-a-i:l-a,width:s?i:e,height:s?e:i};if(s=this.label)s.align(this.alignOptions,null,r),r=s.alignAttr,s[this.options.crop===!1||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0)}};L.prototype.buildStacks=function(){var t=this.series,e=d(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}};L.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,n,s,r=this.stackTotalGroup;if(!r)this.stackTotalGroup=r=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();r.translate(t.plotLeft,t.plotTop);for(n in i)for(s in t=i[n],t)t[s].render(r)};xe.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var t=this.processedXData,e=this.processedYData,i=[],n=e.length,s=this.options,r=s.threshold,a=s.stack,s=s.stacking,o=this.stackKey,l="-"+o,h=this.negStacks,u=this.yAxis,c=u.stacks,f=u.oldStacks,d,p,g,m,v,y;for(m=0;m<n;m++){v=t[m];y=e[m];g=this.index+","+m;p=(d=h&&y<r)?l:o;c[p]||(c[p]={});if(!c[p][v])f[p]&&f[p][v]?(c[p][v]=f[p][v],c[p][v].total=null):c[p][v]=new F(u,u.options.stackLabels,d,v,a);p=c[p][v];p.points[g]=[p.cum||0];s==="percent"?(d=d?o:l,h&&c[d]&&c[d][v]?(d=c[d][v],p.total=d.total=Y(d.total,p.total)+X(y)||0):p.total=M(p.total+(X(y)||0))):p.total=M(p.total+(y||0));p.cum=(p.cum||0)+(y||0);p.points[g].push(p.cum);i[m]=p.cum}if(s==="percent")u.usePercentage=!0;this.stackedYData=i;u.oldStacks={}}};xe.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;qt([e,"-"+e],function(e){var s;for(var r=n.length,a,o;r--;)if(a=n[r],s=(o=i[e]&&i[e][a])&&o.points[t.index+","+r],a=s)o=o.total?100/o.total:0,a[0]=M(a[0]*o),a[1]=M(a[1]*o),t.stackedYData[r]=a[1]})};t(N.prototype,{addSeries:function(t,e,i){var n,s=this;t&&(e=d(e,!0),Zt(s,"addSeries",{options:t},function(){n=s.initSeries(t);s.isDirtyLegend=!0;s.linkSeries();e&&s.redraw(i)}));return n},addAxis:function(t,i,n,s){var r=i?"xAxis":"yAxis",a=this.options;new L(this,e(t,{index:this[r].length,isX:i}));a[r]=f(a[r]||{});a[r].push(t);d(n,!0)&&this.redraw(s)},showLoading:function(e){var i=this,n=i.options,s=i.loadingDiv,r=n.loading,a=function(){s&&p(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};if(!s)i.loadingDiv=s=g(wt,{className:"highcharts-loading"},t(r.style,{zIndex:10,display:_t}),i.container),i.loadingSpan=g("span",null,r.labelStyle,s),Kt(i,"redraw",a);i.loadingSpan.innerHTML=e||n.lang.loading;if(!i.loadingShown)p(s,{opacity:0,display:""}),te(s,{opacity:r.style.opacity},{duration:r.showDuration||0}),i.loadingShown=!0;a()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:_t})}});this.loadingShown=!1}});t(be.prototype,{update:function(t,e,i,n){function a(){o.applyOptions(t);if(s(t)&&!r(t))o.redraw=function(){if(h)t&&t.marker&&t.marker.symbol?o.graphic=h.destroy():h.attr(o.pointAttr[o.state||""]);if(t&&t.dataLabels&&o.dataLabel)o.dataLabel=o.dataLabel.destroy();o.redraw=null};u=o.index;l.updateParallelArrays(o,u);f.data[u]=o.options;l.isDirty=l.isDirtyData=!0;if(!l.fixedBox&&l.hasCartesianSeries)c.isDirtyBox=!0;f.legendType==="point"&&c.legend.destroyItem(o);e&&c.redraw(i)}var o=this,l=o.series,h=o.graphic,u,c=l.chart,f=l.options,e=d(e,!0);n===!1?a():o.firePointEvent("update",{options:t},a)},remove:function(t,e){var i=this,n=i.series,s=n.points,r=n.chart,a,o=n.data;P(e,r);t=d(t,!0);i.firePointEvent("remove",null,function(){a=Xt(i,o);o.length===s.length&&s.splice(a,1);o.splice(a,1);n.options.data.splice(a,1);n.updateParallelArrays(i,"splice",a,1);i.destroy();n.isDirty=!0;n.isDirtyData=!0;t&&r.redraw()})}});t(xe.prototype,{addPoint:function(t,e,i,n){var s=this.options,r=this.data,a=this.graph,o=this.area,l=this.chart,h=this.xAxis&&this.xAxis.names,u=a&&a.shift||0,c=s.data,f,p=this.xData;P(n,l);i&&qt([a,o,this.graphNeg,this.areaNeg],function(t){if(t)t.shift=u+1});if(o)o.isArea=!0;e=d(e,!0);n={series:this};this.pointClass.prototype.applyOptions.apply(n,[t]);a=n.x;o=p.length;if(this.requireSorting&&a<p[o-1])for(f=!0;o&&p[o-1]>a;)o--;this.updateParallelArrays(n,"splice",o,0,0);this.updateParallelArrays(n,o);if(h&&n.name)h[a]=n.name;c.splice(o,0,t);f&&(this.data.splice(o,0,null),this.processData());s.legendType==="point"&&this.generatePoints();i&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),this.updateParallelArrays(n,"shift"),c.shift()));this.isDirtyData=this.isDirty=!0;e&&(this.getAttribs(),l.redraw())},remove:function(t,e){var i=this,n=i.chart,t=d(t,!0);if(!i.isRemoving)i.isRemoving=!0,Zt(i,"remove",null,function(){i.destroy();n.isDirtyLegend=n.isDirtyBox=!0;n.linkSeries();t&&n.redraw(e)});i.isRemoving=!1},update:function(i,n){var s=this,r=this.chart,a=this.userOptions,o=this.type,l=Bt[o].prototype,h=["group","markerGroup","dataLabelsGroup"],u;qt(h,function(t){h[t]=s[t];delete s[t]});i=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(u in l)l.hasOwnProperty(u)&&(this[u]=O);t(this,Bt[i.type||o].prototype);qt(h,function(t){s[t]=h[t]});this.init(r,i);r.linkSeries();d(n,!0)&&r.redraw(!1)}});t(L.prototype,{update:function(i,n){var s=this.chart,i=s.options[this.coll][this.options.index]=e(this.userOptions,i);this.destroy(!0);this._addedPlotLB=O;this.init(s,t(i,{events:O}));s.isDirtyBox=!0;d(n,!0)&&s.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);h(e.axes,this);h(e[i],this);e.options[i].splice(this.options.index,1);qt(e[i],function(t,e){t.options.index=e});this.destroy();e.isDirtyBox=!0;d(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});he=m(xe);Bt.line=he;ie.area=e(jt,{threshold:0});var we=m(xe,{type:"area",getSegments:function(){var t=this,e=[],i=[],n=[],s=this.xAxis,r=this.yAxis,a=r.stacks[this.stackKey],o={},l,h,u=this.points,c=this.options.connectNulls,f,d;if(this.options.stacking&&!this.cropped){for(f=0;f<u.length;f++)o[u[f].x]=u[f];for(d in a)a[d].total!==null&&n.push(+d);n.sort(function(t,e){return t-e});qt(n,function(e){var n=0,u;if(!c||o[e]&&o[e].y!==null)if(o[e])i.push(o[e]);else{for(f=t.index;f<=r.series.length;f++)if(u=a[e].points[f+","+e]){n=u[1];break}l=s.translate(e);h=r.toPixels(n,!0);i.push({y:null,plotX:l,clientX:l,plotY:h,yBottom:h,onMouseOver:yt})}});i.length&&e.push(i)}else xe.prototype.getSegments.call(this),e=this.segments;this.segments=e},getSegmentPath:function(t){var e=xe.prototype.getSegmentPath.call(this,t),i=[].concat(e),n,s=this.options;n=e.length;var r=this.yAxis.getThreshold(s.threshold),a;n===3&&i.push("L",e[1],e[2]);if(s.stacking&&!this.closedStacks)for(n=t.length-1;n>=0;n--)a=d(t[n].yBottom,r),n<t.length-1&&s.step&&i.push(t[n+1].plotX,a),i.push(t[n].plotX,a);else this.closeSegment(i,t,r);this.areaPath=this.areaPath.concat(i);return e},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[];xe.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,s=i.negativeFillColor,r=[["area",this.color,i.fillColor]];(n||s)&&r.push(["areaNeg",n,s]);qt(r,function(n){var s=n[0],r=t[s];r?r.animate({d:e}):t[s]=t.chart.renderer.path(e).attr({fill:d(n[2],ae(n[1]).setOpacity(d(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Wt.drawRectangle});Bt.area=we;ie.spline=e(jt);he=m(xe,{type:"spline",getPointSpline:function(t,e,i){var n=e.plotX,s=e.plotY,r=t[i-1],a=t[i+1],o,l,h,u;if(r&&a){t=r.plotY;h=a.plotX;var a=a.plotY,c;o=(1.5*n+r.plotX)/2.5;l=(1.5*s+t)/2.5;h=(1.5*n+h)/2.5;u=(1.5*s+a)/2.5;c=(u-l)*(h-n)/(h-o)+s-u;l+=c;u+=c;l>t&&l>s?(l=Y(t,s),u=2*s-l):l<t&&l<s&&(l=$(t,s),u=2*s-l);u>a&&u>s?(u=Y(a,s),l=2*s-u):u<a&&u<s&&(u=$(a,s),l=2*s-u);e.rightContX=h;e.rightContY=u}i?(e=["C",r.rightContX||r.plotX,r.rightContY||r.plotY,o||n,l||s,n,s],r.rightContX=r.rightContY=null):e=["M",n,s];return e}});Bt.spline=he;ie.areaspline=e(ie.area);we=we.prototype;he=m(he,{type:"areaspline",closedStacks:!0,getSegmentPath:we.getSegmentPath,closeSegment:we.closeSegment,drawGraph:we.drawGraph,drawLegendSymbol:Wt.drawRectangle});Bt.areaspline=he;ie.column=e(jt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});he=m(xe,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xe.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&qt(e.series,function(e){if(e.type===t.type)e.isDirty=!0})},getColumnMetrics:function(){var t=this,e=t.options,i=t.xAxis,n=t.yAxis,s=i.reversed,r,a={},o,l=0;e.grouping===!1?l=1:qt(t.chart.series,function(e){var i=e.options,s=e.yAxis;if(e.type===t.type&&e.visible&&n.len===s.len&&n.pos===s.pos)i.stacking?(r=e.stackKey,a[r]===O&&(a[r]=l++),o=a[r]):i.grouping!==!1&&(o=l++),e.columnIndex=o});var i=$(X(i.transA)*(i.ordinalSlope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),h=i*e.groupPadding,c=(i-2*h)/l,f=e.pointWidth,e=u(f)?(c-f)/2:c*e.pointPadding,f=d(f,c-2*e);return t.columnMetrics={width:f,offset:e+(h+((s?l-(t.columnIndex||0):t.columnIndex)||0)*c-i/2)*(s?-1:1)}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=d(i.borderWidth,t.activePointCount>.5*t.xAxis.len?0:1),s=t.yAxis,r=t.translatedThreshold=s.getThreshold(i.threshold),a=d(i.minPointLength,5),o=t.getColumnMetrics(),l=o.width,h=t.barW=Y(l,1+2*n),u=t.pointXOffset=o.offset,c=-(n%2?.5:0),f=n%2?.5:1;e.renderer.isVML&&e.inverted&&(f+=1);i.pointPadding&&(h=W(h));xe.prototype.translate.apply(t);qt(t.points,function(i){var n=d(i.yBottom,r),o=$(Y(-999-n,i.plotY),s.len+999+n),p=i.plotX+u,g=h,m=$(o,n),v;v=Y(o,n)-m;X(v)<a&&a&&(v=a,m=R(X(m-r)>a?n-a:r-(s.translate(i.y,0,1,0,1)<=r?a:0)));i.barX=p;i.pointWidth=l;i.tooltipPos=e.inverted?[s.len-o,t.xAxis.len-p-g/2]:[p+g/2,o+s.pos-e.plotTop];g=R(p+g)+c;p=R(p)+c;g-=p;n=X(m)<.5;v=R(m+v)+f;m=R(m)+f;v-=m;n&&(m-=1,v+=1);i.shapeType="rect";i.shapeArgs={x:p,y:m,width:g,height:v}})},getSymbol:yt,drawLegendSymbol:Wt.drawRectangle,drawGraph:yt,drawPoints:function(){var t=this,i=this.chart,n=t.options,s=i.renderer,r=n.animationLimit||250,a,o;qt(t.points,function(l){var h=l.plotY,c=l.graphic;if(h!==O&&!isNaN(h)&&l.y!==null)a=l.shapeArgs,h=u(t.borderWidth)?{"stroke-width":t.borderWidth}:{},o=l.pointAttr[l.selected?"select":""]||t.pointAttr[""],c?(ee(c),c.attr(h)[i.pointCount<r?"animate":"attr"](e(a))):l.graphic=s[l.shapeType](a).attr(o).attr(h).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius);else if(c)l.graphic=c.destroy()})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};if(st)t?(s.scaleY=.001,t=$(e.pos+e.len,Y(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&qt(e.series,function(e){if(e.type===t.type)e.isDirty=!0});xe.prototype.remove.apply(t,arguments)}});Bt.column=he;ie.bar=e(ie.column);we=m(he,{type:"bar",inverted:!0});Bt.bar=we;ie.scatter=e(jt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">â</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});we=m(xe,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&xe.prototype.drawGraph.call(this)}});Bt.scatter=we;ie.pie=e(jt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});jt={type:"pie",isCartesian:!1,pointClass:m(be,{init:function(){be.prototype.init.apply(this,arguments);var e=this,i;if(e.y<0)e.y=null;t(e,{visible:e.visible!==!1,name:d(e.name,"Slice")});i=function(t){e.slice(t.type==="select")};Kt(e,"select",i);Kt(e,"unselect",i);return e},setVisible:function(t){var e=this,i=e.series,n=i.chart;e.visible=e.options.visible=t=t===O?!e.visible:t;i.options.data[Xt(e,i.data)]=e.options;qt(["graphic","dataLabel","connector","shadowGroup"],function(i){if(e[i])e[i][t?"show":"hide"](!0)});e.legendItem&&n.legend.colorizeItem(e,t);if(!i.isDirty&&i.options.ignoreHiddenPoint)i.isDirty=!0,n.redraw()},slice:function(t,e,i){var n=this.series;P(i,n.chart);d(e,!0);this.sliced=this.options.sliced=t=u(t)?t:!this.sliced;n.options.data[Xt(this,n.data)]=this.options;t=t?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(t);this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:yt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;if(!t)qt(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null},setData:function(t,e,i,n){xe.prototype.setData.call(this,t,!1,i,n);this.processData();this.generatePoints();d(e,!0)&&this.chart.redraw(i)},generatePoints:function(){var t,e=0,i,n,s,r=this.options.ignoreHiddenPoint;xe.prototype.generatePoints.call(this);i=this.points;n=i.length;for(t=0;t<n;t++)s=i[t],e+=r&&!s.visible?0:s.y;this.total=e;for(t=0;t<n;t++)s=i[t],s.percentage=e>0?s.y/e*100:0,s.total=e},translate:function(t){this.generatePoints();var e=0,i=this.options,n=i.slicedOffset,s=n+i.borderWidth,r,a,o,l=i.startAngle||0,h=this.startAngleRad=V/180*(l-90),l=(this.endAngleRad=V/180*(d(i.endAngle,l+360)-90))-h,u=this.points,c=i.dataLabels.distance,i=i.ignoreHiddenPoint,f,p=u.length,g;if(!t)this.center=t=this.getCenter();this.getX=function(e,i){o=B.asin($((e-t[1])/(t[2]/2+c),1));return t[0]+(i?-1:1)*q(o)*(t[2]/2+c)};for(f=0;f<p;f++){g=u[f];r=h+e*l;if(!i||g.visible)e+=g.percentage/100;a=h+e*l;g.shapeType="arc";g.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:R(r*1e3)/1e3,end:R(a*1e3)/1e3};o=(a+r)/2;o>1.5*V?o-=2*V:o<-V/2&&(o+=2*V);g.slicedTranslation={translateX:R(q(o)*n),translateY:R(G(o)*n)};r=q(o)*t[2]/2;a=G(o)*t[2]/2;g.tooltipPos=[t[0]+r*.7,t[1]+a*.7];g.half=o<-V/2||o>V/2?1:0;g.angle=o;s=$(s,c/2);g.labelPos=[t[0]+r+q(o)*c,t[1]+a+G(o)*c,t[0]+r+q(o)*s,t[1]+a+G(o)*s,t[0]+r,t[1]+a,c<0?"center":g.half?"right":"left",o]}},drawGraph:null,drawPoints:function(){var e=this,i=e.chart.renderer,n,s,r=e.options.shadow,a,o;if(r&&!e.shadowGroup)e.shadowGroup=i.g("shadow").add(e.group);qt(e.points,function(l){s=l.graphic;o=l.shapeArgs;a=l.shadowGroup;if(r&&!a)a=l.shadowGroup=i.g("shadow").add(e.shadowGroup);n=l.sliced?l.slicedTranslation:{translateX:0,translateY:0};a&&a.attr(n);s?s.animate(t(o,n)):l.graphic=s=i[l.shapeType](o).setRadialReference(e.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(n).add(e.group).shadow(r,a);l.visible!==void 0&&l.setVisible(l.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return t.angle!==void 0&&(i.angle-t.angle)*e})},drawLegendSymbol:Wt.drawRectangle,getCenter:le.getCenter,getSymbol:yt};jt=m(xe,jt);Bt.pie=jt;xe.prototype.drawDataLabels=function(){var i=this,n=i.options,s=n.cursor,r=n.dataLabels,a=i.points,o,l,h=i.hasRendered||0,c,f;if(r.enabled||i._hasPointLabels)i.dlProcessOptions&&i.dlProcessOptions(r),f=i.plotGroup("dataLabelsGroup","data-labels",r.defer?"hidden":"visible",r.zIndex||6),d(r.defer,!0)&&(f.attr({opacity:+h}),h||Kt(i,"afterAnimate",function(){i.visible&&f.show();f[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),l=r,qt(a,function(n){var a,h=n.dataLabel,p,g,m=n.connector,v=!0;o=n.options&&n.options.dataLabels;a=d(o&&o.enabled,l.enabled);if(h&&!a)n.dataLabel=h.destroy();else if(a){r=e(l,o);a=r.rotation;p=n.getLabelConfig();c=r.format?x(r.format,p):r.formatter.call(p,r);r.style.color=d(r.color,r.style.color,i.color,"black");if(h)if(u(c))h.attr({text:c}),v=!1;else{if(n.dataLabel=h=h.destroy(),m)n.connector=m.destroy()}else if(u(c)){h={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:a,padding:r.padding,zIndex:1};for(g in h)h[g]===O&&delete h[g];h=n.dataLabel=i.chart.renderer[a?"text":"label"](c,0,-999,null,null,null,r.useHTML).attr(h).css(t(r.style,s&&{cursor:s})).add(f).shadow(r.shadow)}h&&i.alignDataLabel(n,h,r,null,v)}})};xe.prototype.alignDataLabel=function(e,i,n,s,r){var a=this.chart,o=a.inverted,l=d(e.plotX,-999),h=d(e.plotY,-999),u=i.getBBox();if(e=this.visible&&(e.series.forceDL||a.isInsidePlot(l,R(h),o)||s&&a.isInsidePlot(l,o?s.x+1:s.y+s.height-1,o)))s=t({x:o?a.plotWidth-h:l,y:R(o?a.plotHeight-l:h),width:0,height:0},s),t(n,{width:u.width,height:u.height}),n.rotation?i[r?"attr":"animate"]({x:s.x+n.x+s.width/2,y:s.y+n.y+s.height/2}).attr({align:n.align}):(i.align(n,null,s),o=i.alignAttr,d(n.overflow,"justify")==="justify"?this.justifyDataLabel(i,n,o,u,s,r):d(n.crop,!0)&&(e=a.isInsidePlot(o.x,o.y)&&a.isInsidePlot(o.x+u.width,o.y+u.height)));if(!e)i.attr({y:-999}),i.placed=!1};xe.prototype.justifyDataLabel=function(t,e,i,n,s,r){var a=this.chart,o=e.align,l=e.verticalAlign,h,u;h=i.x;if(h<0)o==="right"?e.align="left":e.x=-h,u=!0;h=i.x+n.width;if(h>a.plotWidth)o==="left"?e.align="right":e.x=a.plotWidth-h,u=!0;h=i.y;if(h<0)l==="bottom"?e.verticalAlign="top":e.y=-h,u=!0;h=i.y+n.height;if(h>a.plotHeight)l==="top"?e.verticalAlign="bottom":e.y=a.plotHeight-h,u=!0;if(u)t.placed=!r,t.align(e,null,s)};if(Bt.pie)Bt.pie.prototype.drawDataLabels=function(){var t=this,e=t.data,i,n=t.chart,s=t.options.dataLabels,r=d(s.connectorPadding,10),a=d(s.connectorWidth,1),o=n.plotWidth,l=n.plotHeight,h,u,c=d(s.softConnector,!0),f=s.distance,p=t.center,g=p[2]/2,m=p[1],v=f>0,y,b,x,w=[[],[]],_,k,C,D,S,M=[0,0,0,0],P=function(t,e){return e.y-t.y};if(t.visible&&(s.enabled||t._hasPointLabels)){xe.prototype.drawDataLabels.apply(t);qt(e,function(t){t.dataLabel&&t.visible&&w[t.half].push(t)});for(D=2;D--;){var A=[],I=[],E=w[D],L=E.length,N;if(L){t.sortByAngle(E,D-.5);for(S=e=0;!e&&E[S];)e=E[S]&&E[S].dataLabel&&(E[S].dataLabel.getBBox().height||21),S++;if(f>0){b=$(m+g+f,n.plotHeight);for(S=Y(0,m-g-f);S<=b;S+=e)A.push(S);b=A.length;if(L>b){i=[].concat(E);i.sort(P);for(S=L;S--;)i[S].rank=S;for(S=L;S--;)E[S].rank>=b&&E.splice(S,1);L=E.length}for(S=0;S<L;S++){i=E[S];x=i.labelPos;i=9999;var F,O;for(O=0;O<b;O++)F=X(A[O]-x[1]),F<i&&(i=F,N=O);if(N<S&&A[S]!==null)N=S;else for(b<L-S+N&&A[S]!==null&&(N=b-L+S);A[N]===null;)N++;I.push({i:N,y:A[N]});A[N]=null}I.sort(P)}for(S=0;S<L;S++){i=E[S];x=i.labelPos;y=i.dataLabel;C=i.visible===!1?"hidden":"visible";i=x[1];if(f>0){if(b=I.pop(),N=b.i,k=b.y,i>k&&A[N+1]!==null||i<k&&A[N-1]!==null)k=$(Y(0,i),n.plotHeight)}else k=i;_=s.justify?p[0]+(D?-1:1)*(g+f):t.getX(k===m-g-f||k===m+g+f?i:k,D);y._attr={visibility:C,align:x[6]};y._pos={x:_+s.x+({left:r,right:-r}[x[6]]||0),y:k+s.y-10};y.connX=_;y.connY=k;if(this.options.size===null)b=y.width,_-b<r?M[3]=Y(R(b-_+r),M[3]):_+b>o-r&&(M[1]=Y(R(_+b-o+r),M[1])),k-e/2<0?M[0]=Y(R(-k+e/2),M[0]):k+e/2>l&&(M[2]=Y(R(k+e/2-l),M[2]))}}}if(T(M)===0||this.verifyDataLabelOverflow(M))this.placeDataLabels(),v&&a&&qt(this.points,function(e){h=e.connector;x=e.labelPos;if((y=e.dataLabel)&&y._pos)C=y._attr.visibility,_=y.connX,k=y.connY,u=c?["M",_+(x[6]==="left"?5:-5),k,"C",_,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],"L",x[4],x[5]]:["M",_+(x[6]==="left"?5:-5),k,"L",x[2],x[3],"L",x[4],x[5]],h?(h.animate({d:u}),h.attr("visibility",C)):e.connector=h=t.chart.renderer.path(u).attr({"stroke-width":a,stroke:s.connectorColor||e.color||"#606060",visibility:C}).add(t.dataLabelsGroup);else if(h)e.connector=h.destroy()})}},Bt.pie.prototype.placeDataLabels=function(){qt(this.points,function(t){var t=t.dataLabel,e;if(t)(e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999})})},Bt.pie.prototype.alignDataLabel=yt,Bt.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,n=i.center,s=i=i.minSize||80,r;n[0]!==null?s=Y(e[2]-Y(t[1],t[3]),i):(s=Y(e[2]-t[1]-t[3],i),e[0]+=(t[3]-t[1])/2);n[1]!==null?s=Y($(s,e[2]-Y(t[0],t[2])),i):(s=Y($(s,e[2]-t[0]-t[2]),i),e[1]+=(t[0]-t[2])/2);s<e[2]?(e[2]=s,this.translate(e),qt(this.points,function(t){if(t.dataLabel)t.dataLabel._pos=null}),this.drawDataLabels&&this.drawDataLabels()):r=!0;return r};if(Bt.column)Bt.column.prototype.alignDataLabel=function(t,i,n,s,r){var a=this.chart,o=a.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>d(this.translatedThreshold,a.plotSizeY),u=d(n.inside,!!this.options.stacking);if(l&&(s=e(l),o&&(s={x:a.plotWidth-s.y-s.height,y:a.plotHeight-s.x-s.width,width:s.height,height:s.width}),!u))o?(s.x+=h?0:s.width,s.width=0):(s.y+=h?s.height:0,s.height=0);n.align=d(n.align,!o||u?"center":h?"right":"left");n.verticalAlign=d(n.verticalAlign,o||u?"middle":h?"top":"bottom");xe.prototype.alignDataLabel.call(this,t,i,n,s,r)};jt=Rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},r=function(i){var n=i.target,s;if(e.hoverSeries!==t)t.onMouseOver();for(;n&&!s;)s=n.point,n=n.parentNode;if(s!==O&&s!==e.hoverPoint)s.onMouseOver(i)};qt(t.points,function(t){if(t.graphic)t.graphic.element.point=t;if(t.dataLabel)t.dataLabel.element.point=t});if(!t._hasTracking)qt(t.trackerGroups,function(e){if(t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),lt))t[e].on("touchstart",r)}),t._hasTracking=!0},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),s=n.length,r=t.chart,a=r.pointer,o=r.renderer,l=r.options.tooltip.snap,h=t.tracker,u=e.cursor,c=u&&{cursor:u},u=t.singlePoints,f,d=function(){if(r.hoverSeries!==t)t.onMouseOver()},p="rgba(192,192,192,"+(st?1e-4:.002)+")";if(s&&!i)for(f=s+1;f--;)n[f]==="M"&&n.splice(f+1,0,n[f+1]-l,n[f+2],"L"),(f&&n[f]==="M"||f===s)&&n.splice(f,0,"L",n[f-2]+l,n[f-1]);for(f=0;f<u.length;f++)s=u[f],n.push("M",s.plotX-l,s.plotY,"L",s.plotX+l,s.plotY);h?h.attr({d:n}):(t.tracker=o.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:p,fill:i?p:_t,"stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),qt([t.tracker,t.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(c);if(lt)t.on("touchstart",d)}))}};if(Bt.column)he.prototype.drawTracker=jt.drawTrackerPoint;if(Bt.pie)Bt.pie.prototype.drawTracker=jt.drawTrackerPoint;if(Bt.scatter)we.prototype.drawTracker=jt.drawTrackerPoint;t(ye.prototype,{setItemEvents:function(t,e,i,n,s){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover");e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:s);t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Zt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container);Kt(t.checkbox,"click",function(e){Zt(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})}});ft.legend.itemStyle.cursor="pointer";t(N.prototype,{showResetZoom:function(){var t=this,e=ft.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,r=i.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;Zt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i=this.pointer,n=!1,r;!t||t.resetSelection?qt(this.axes,function(t){e=t.zoom()}):qt(t.xAxis.concat(t.yAxis),function(t){var s=t.axis,r=s.isXAxis;if(i[r?"zoomX":"zoomY"]||i[r?"pinchX":"pinchY"])e=s.zoom(t.min,t.max),s.displayBtn&&(n=!0)});r=this.resetZoomButton;if(n&&!r)this.showResetZoom();else if(!n&&s(r))this.resetZoomButton=r.destroy();e&&this.redraw(d(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i=this,n=i.hoverPoints,s;n&&qt(n,function(t){t.setState()});qt(e==="xy"?[1,0]:[1],function(e){var n=t[e?"chartX":"chartY"],r=i[e?"xAxis":"yAxis"][0],a=i[e?"mouseDownX":"mouseDownY"],o=(r.pointRange||0)/2,l=r.getExtremes(),h=r.toValue(a-n,!0)+o,a=r.toValue(a+i[e?"plotWidth":"plotHeight"]-n,!0)-o;r.series.length&&h>$(l.dataMin,l.min)&&a<Y(l.dataMax,l.max)&&(r.setExtremes(h,a,!1,!1,{trigger:"pan"}),s=!0);i[e?"mouseDownX":"mouseDownY"]=n});s&&i.redraw(!1);p(i.container,{cursor:"move"})}});t(be.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart,t=d(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t;n.options.data[Xt(i,n.data)]=i.options;i.setState(t&&"select");e||qt(s.getSelectedPoints(),function(t){if(t.selected&&t!==i)t.selected=t.options.selected=!1,n.options.data[Xt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect")})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,s=i.hoverPoint;if(s&&s!==this)s.onMouseOut();this.firePointEvent("mouseOver");n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t);this.setState("hover");i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut");if(!e||Xt(this,e)===-1)this.setState(),t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=e(this.series.options.point,this.options).events,i;this.events=t;for(i in t)Kt(this,i,t[i]);this.hasImportedEvents=!0}},setState:function(i,n){var s=this.plotX,r=this.plotY,a=this.series,o=a.options.states,l=ie[a.type].marker&&a.options.marker,h=l&&!l.enabled,u=l&&l.states[i],c=u&&u.enabled===!1,f=a.stateMarkerGraphic,d=this.marker||{},p=a.chart,g=a.halo,m,i=i||"";m=this.pointAttr[i]||a.pointAttr[i];if(!(i===this.state&&!n||this.selected&&i!=="select"||o[i]&&o[i].enabled===!1||i&&(c||h&&u.enabled===!1)||i&&d.states&&d.states[i]&&d.states[i].enabled===!1)){if(this.graphic)l=l&&this.graphic.symbolName&&m.r,this.graphic.attr(e(m,l?{x:s-l,y:r-l,width:2*l,height:2*l}:{})),f&&f.hide();else{if(i&&u)if(l=u.radius,d=d.symbol||a.symbol,f&&f.currentSymbol!==d&&(f=f.destroy()),f)f[n?"animate":"attr"]({x:s-l,y:r-l});else if(d)a.stateMarkerGraphic=f=p.renderer.symbol(d,s-l,r-l,2*l,2*l).attr(m).add(a.markerGroup),f.currentSymbol=d;if(f)f[i&&p.isInsidePlot(s,r,p.inverted)?"show":"hide"]()}if((s=o[i]&&o[i].halo)&&s.size){if(!g)a.halo=g=p.renderer.path().add(a.seriesGroup);g.attr(t({fill:ae(this.color||a.color).setOpacity(s.opacity).get()},s.attributes))[n?"animate":"attr"]({d:this.haloPath(s.size)})}else g&&g.attr({d:[]});this.state=i}},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),s=i.inverted;return i.renderer.symbols.circle(n.translateX+(s?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(s?e.xAxis.len-this.plotX:this.plotY)-t,t*2,t*2)}});t(xe.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;if(e&&e!==this)e.onMouseOut();this.options.events.mouseOver&&Zt(this,"mouseOver");this.setState("hover");t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;if(n)n.onMouseOut();this&&t.events.mouseOut&&Zt(this,"mouseOut");i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide();this.setState();
e.hoverSeries=null},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,s=e.states,e=e.lineWidth,t=t||"";if(this.state!==t)this.state=t,s[t]&&s[t].enabled===!1||(t&&(e=s[t].lineWidth||e+(s[t].lineWidthPlus||0)),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t)))},setVisible:function(t,e){var i=this,n=i.chart,s=i.legendItem,r,a=n.options.chart.ignoreHiddenSeries,o=i.visible;r=(i.visible=t=i.userOptions.visible=t===O?!o:t)?"show":"hide";qt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){if(i[t])i[t][r]()});if(n.hoverSeries===i)i.onMouseOut();s&&n.legend.colorizeItem(i,t);i.isDirty=!0;i.options.stacking&&qt(n.series,function(t){if(t.options.stacking&&t.visible)t.isDirty=!0});qt(i.linkedSeries,function(e){e.setVisible(t,!1)});if(a)n.isDirtyBox=!0;e!==!1&&n.redraw();Zt(i,r)},setTooltipPoints:function(t){var e=[],i,n,s=this.xAxis,r=s&&s.getExtremes(),a=s?s.tooltipLen||s.len:this.chart.plotSizeX,o,l,h=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){if(t)this.tooltipPoints=null;qt(this.segments||this.points,function(t){e=e.concat(t)});s&&s.reversed&&(e=e.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(e);t=e.length;for(l=0;l<t;l++)if(s=e[l],i=s.x,i>=r.min&&i<=r.max){o=e[l+1];i=n===O?0:n+1;for(n=e[l+1]?$(Y(0,j((s.clientX+(o?o.wrappedClientX||o.clientX:a))/2)),a):a;i>=0&&i<=n;)h[i++]=s}this.tooltipPoints=h}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===O?!this.selected:t;if(this.checkbox)this.checkbox.checked=t;Zt(this,t?"select":"unselect")},drawTracker:jt.drawTrackerGraph});t(Rt,{Axis:L,Chart:N,Color:ae,Point:be,Tick:E,Renderer:ot,Series:xe,SVGElement:I,SVGRenderer:oe,arrayMin:C,arrayMax:T,charts:bt,dateFormat:dt,format:x,pathAnim:gt,getOptions:function(){return ft},hasBidiBug:rt,isTouchDevice:it,numberFormat:v,seriesTypes:Bt,setOptions:function(t){ft=e(!0,ft,t);A();return ft},addEvent:Kt,removeEvent:Qt,createElement:g,discardElement:S,css:p,each:qt,extend:t,map:Ut,merge:e,pick:d,splat:f,extendClass:m,pInt:i,wrap:b,svg:st,canvas:at,vml:!st&&!at,product:"Highcharts",version:"4.0.4"})})();